<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Rvm</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.7.1/application.js' type='text/javascript'></script>    
    <link href='./assets/0.7.1/application.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="./assets/0.7.1/favicon_red.png" />
    <link rel="icon" type="image/png" href="./assets/0.7.1/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.7.1/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2013-03-17T17:04:10+00:00">2013-03-17T17:04:10+00:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent"><span class="red">51.09%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         95.02
       </span>
    </span> hits/line)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>60</b> files in total.
    <b>7812</b> relevant lines. 
    <span class="green"><b>3991</b> lines covered</span> and
    <span class="red"><b>3821</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#c95e509edd80046f04cc97dca10ebf2e6808178f" class="src_link" title="/etc/rvmrc">/etc/rvmrc</a></td>
        <td class="green strong">100.0 %</td>
        <td>1</td>
        <td>1</td>
        <td>1</td>
        <td>0</td>
        <td>1940.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a55f5e432b15ea60b3c04e4480f8b123860662b7" class="src_link" title="/usr/bin/ldd">/usr/bin/ldd</a></td>
        <td class="red strong">32.73 %</td>
        <td>193</td>
        <td>110</td>
        <td>36</td>
        <td>74</td>
        <td>23.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b9ead1b3d2d11f40cc42cecc2b97b6ab8e2839c2" class="src_link" title="/usr/local/rvm/bin/bundle">/usr/local/rvm/bin/bundle</a></td>
        <td class="red strong">30.77 %</td>
        <td>26</td>
        <td>13</td>
        <td>4</td>
        <td>9</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6ad83c80bcf3805cf9f2e527f581f969e76d6b91" class="src_link" title="/usr/local/rvm/bin/rvm">/usr/local/rvm/bin/rvm</a></td>
        <td class="red strong">51.52 %</td>
        <td>58</td>
        <td>33</td>
        <td>17</td>
        <td>16</td>
        <td>10.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2996bd7b1a6d51e84527e68955f0852d03e12fba" class="src_link" title="/usr/local/rvm/bin/rvm-prompt">/usr/local/rvm/bin/rvm-prompt</a></td>
        <td class="red strong">53.49 %</td>
        <td>152</td>
        <td>86</td>
        <td>46</td>
        <td>40</td>
        <td>4.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ae5615743e96aaf8e7f257a7b91b428deb4467da" class="src_link" title="/usr/local/rvm/bin/rvm-shell">/usr/local/rvm/bin/rvm-shell</a></td>
        <td class="red strong">63.83 %</td>
        <td>93</td>
        <td>47</td>
        <td>30</td>
        <td>17</td>
        <td>3.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#46fd1fa4be8424d807e781f133259c0f71a01b2a" class="src_link" title="/usr/local/rvm/environments/ruby-1.8.7-p371">/usr/local/rvm/environments/ruby-1.8.7-p371</a></td>
        <td class="green strong">100.0 %</td>
        <td>12</td>
        <td>12</td>
        <td>12</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#32d5dc57f000049830c8434f94a87d8b2b197037" class="src_link" title="/usr/local/rvm/environments/ruby-1.9.3-p392">/usr/local/rvm/environments/ruby-1.9.3-p392</a></td>
        <td class="green strong">100.0 %</td>
        <td>12</td>
        <td>12</td>
        <td>12</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#04a9d9b004480408d9c1cb79def84c55e4ab8a37" class="src_link" title="/usr/local/rvm/hooks/after_install_auto_gem">/usr/local/rvm/hooks/after_install_auto_gem</a></td>
        <td class="red strong">12.5 %</td>
        <td>14</td>
        <td>8</td>
        <td>1</td>
        <td>7</td>
        <td>0.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7a56ebeebe3084a67377f483eab88def35968685" class="src_link" title="/usr/local/rvm/hooks/after_use_maglev">/usr/local/rvm/hooks/after_use_maglev</a></td>
        <td class="red strong">66.67 %</td>
        <td>9</td>
        <td>3</td>
        <td>2</td>
        <td>1</td>
        <td>116.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2719cca3e21a2c33be91ece87196aeca51c4d924" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p352/config">/usr/local/rvm/rubies/ruby-1.8.7-p352/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d4800c0cb5229aba4dfb51e4d4284cd6791bac46" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p358/config">/usr/local/rvm/rubies/ruby-1.8.7-p358/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2cd38b5e0a0bb625e1cee7a53eae7b02b487d7a6" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p370/config">/usr/local/rvm/rubies/ruby-1.8.7-p370/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#688640f15fead3ee3c31f3de40192b567f7ff34d" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p371/config">/usr/local/rvm/rubies/ruby-1.8.7-p371/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1fbf77604a5393d83c4617407c4e6a20678c78cb" class="src_link" title="/usr/local/rvm/rubies/ruby-1.9.2-p320/config">/usr/local/rvm/rubies/ruby-1.9.2-p320/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>181</td>
        <td>181</td>
        <td>181</td>
        <td>0</td>
        <td>4.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dc5261aebcb99d6517d8eb2057636e7a55273422" class="src_link" title="/usr/local/rvm/rubies/ruby-1.9.3-p194/config">/usr/local/rvm/rubies/ruby-1.9.3-p194/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>190</td>
        <td>190</td>
        <td>190</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f995a6f9a69a00eda922a5523ac6876679d464f2" class="src_link" title="/usr/local/rvm/rubies/ruby-1.9.3-p392/config">/usr/local/rvm/rubies/ruby-1.9.3-p392/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>191</td>
        <td>191</td>
        <td>191</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#49904bc47f734d8045b59698b938bf50e7ea0791" class="src_link" title="/usr/local/rvm/scripts/alias">/usr/local/rvm/scripts/alias</a></td>
        <td class="red strong">69.03 %</td>
        <td>234</td>
        <td>113</td>
        <td>78</td>
        <td>35</td>
        <td>12.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#08743d84fc1e54d90fb373ac0bfbdfa7526f6fed" class="src_link" title="/usr/local/rvm/scripts/base">/usr/local/rvm/scripts/base</a></td>
        <td class="red strong">57.89 %</td>
        <td>115</td>
        <td>57</td>
        <td>33</td>
        <td>24</td>
        <td>575.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#49ae28043e76f06371d24370a3718386bed5413b" class="src_link" title="/usr/local/rvm/scripts/cd">/usr/local/rvm/scripts/cd</a></td>
        <td class="red strong">43.33 %</td>
        <td>113</td>
        <td>60</td>
        <td>26</td>
        <td>34</td>
        <td>18.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7aab98c1f2746ec08a3e97aa8221049b9f7af5ab" class="src_link" title="/usr/local/rvm/scripts/cli">/usr/local/rvm/scripts/cli</a></td>
        <td class="red strong">30.53 %</td>
        <td>1208</td>
        <td>737</td>
        <td>225</td>
        <td>512</td>
        <td>35.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a20f78cd2aca8ff48edaa7264167bcd511d10400" class="src_link" title="/usr/local/rvm/scripts/color">/usr/local/rvm/scripts/color</a></td>
        <td class="red strong">34.62 %</td>
        <td>69</td>
        <td>26</td>
        <td>9</td>
        <td>17</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c7758c8b12e002d0122639e0996af29d2bbc4f53" class="src_link" title="/usr/local/rvm/scripts/db">/usr/local/rvm/scripts/db</a></td>
        <td class="red strong">53.66 %</td>
        <td>76</td>
        <td>41</td>
        <td>22</td>
        <td>19</td>
        <td>450.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#966ae3cf3739addb3951738f8288fe3c8d59e9dd" class="src_link" title="/usr/local/rvm/scripts/env">/usr/local/rvm/scripts/env</a></td>
        <td class="red strong">60.0 %</td>
        <td>19</td>
        <td>10</td>
        <td>6</td>
        <td>4</td>
        <td>1.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#00e1c80c56f7c2ce5e6b39d5e12c0062136b661c" class="src_link" title="/usr/local/rvm/scripts/external">/usr/local/rvm/scripts/external</a></td>
        <td class="red strong">29.86 %</td>
        <td>586</td>
        <td>345</td>
        <td>103</td>
        <td>242</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b9e9deb5726bbbc35806b0557024b646620e94fa" class="src_link" title="/usr/local/rvm/scripts/fetch">/usr/local/rvm/scripts/fetch</a></td>
        <td class="red strong">32.18 %</td>
        <td>147</td>
        <td>87</td>
        <td>28</td>
        <td>59</td>
        <td>0.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a2fc3e2b65ba6253ea4dcf4cd456170cc8f47282" class="src_link" title="/usr/local/rvm/scripts/functions/build">/usr/local/rvm/scripts/functions/build</a></td>
        <td class="red strong">21.01 %</td>
        <td>287</td>
        <td>138</td>
        <td>29</td>
        <td>109</td>
        <td>0.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9185b3710b2541f5d700afd06bdcf7298f8e7cab" class="src_link" title="/usr/local/rvm/scripts/functions/build_config">/usr/local/rvm/scripts/functions/build_config</a></td>
        <td class="red strong">31.73 %</td>
        <td>441</td>
        <td>208</td>
        <td>66</td>
        <td>142</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5efa8726634d787efde30cad65911092ec7ab1b2" class="src_link" title="/usr/local/rvm/scripts/functions/checksum">/usr/local/rvm/scripts/functions/checksum</a></td>
        <td class="red strong">47.3 %</td>
        <td>163</td>
        <td>74</td>
        <td>35</td>
        <td>39</td>
        <td>2.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0fc1bba6f7eb5ce95c08fed66019626a646e8fc5" class="src_link" title="/usr/local/rvm/scripts/functions/cleanup">/usr/local/rvm/scripts/functions/cleanup</a></td>
        <td class="red strong">33.33 %</td>
        <td>118</td>
        <td>54</td>
        <td>18</td>
        <td>36</td>
        <td>122.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c964e1f1535f5ac67006be52e6172806fd8ecdc9" class="src_link" title="/usr/local/rvm/scripts/functions/db">/usr/local/rvm/scripts/functions/db</a></td>
        <td class="green strong">92.31 %</td>
        <td>30</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>363.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82cfbf826ccc0ce57df81cb33c57ab19d625d6e1" class="src_link" title="/usr/local/rvm/scripts/functions/env">/usr/local/rvm/scripts/functions/env</a></td>
        <td class="red strong">51.24 %</td>
        <td>260</td>
        <td>121</td>
        <td>62</td>
        <td>59</td>
        <td>122.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7a800efcc3e16a516e931c593c126e60cacc865b" class="src_link" title="/usr/local/rvm/scripts/functions/environment">/usr/local/rvm/scripts/functions/environment</a></td>
        <td class="red strong">55.49 %</td>
        <td>378</td>
        <td>173</td>
        <td>96</td>
        <td>77</td>
        <td>119.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0fc044f8c9c8b992721d1e6b487e6d5de3ee05a0" class="src_link" title="/usr/local/rvm/scripts/functions/gemset">/usr/local/rvm/scripts/functions/gemset</a></td>
        <td class="green strong">92.31 %</td>
        <td>34</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>80.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bad22bba48cfa611578254b26032a080e28145b6" class="src_link" title="/usr/local/rvm/scripts/functions/init">/usr/local/rvm/scripts/functions/init</a></td>
        <td class="red strong">74.07 %</td>
        <td>54</td>
        <td>27</td>
        <td>20</td>
        <td>7</td>
        <td>622.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4a36bdcacd50f197d0a6bb7a2683aefaae643590" class="src_link" title="/usr/local/rvm/scripts/functions/install">/usr/local/rvm/scripts/functions/install</a></td>
        <td class="red strong">60.0 %</td>
        <td>45</td>
        <td>20</td>
        <td>12</td>
        <td>8</td>
        <td>1.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e2fa337414f18cbf0df4ed6eb05d626addb0db29" class="src_link" title="/usr/local/rvm/scripts/functions/irbrc">/usr/local/rvm/scripts/functions/irbrc</a></td>
        <td class="green strong">100.0 %</td>
        <td>11</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
        <td>1.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b4e4b5cf4efa2e6c1aef7482142972e0cd5baeab" class="src_link" title="/usr/local/rvm/scripts/functions/logging">/usr/local/rvm/scripts/functions/logging</a></td>
        <td class="red strong">46.43 %</td>
        <td>156</td>
        <td>84</td>
        <td>39</td>
        <td>45</td>
        <td>73.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82c43d8b786ef61dd15c51524e64d978c6ad2ea2" class="src_link" title="/usr/local/rvm/scripts/functions/manage/base">/usr/local/rvm/scripts/functions/manage/base</a></td>
        <td class="red strong">39.97 %</td>
        <td>1186</td>
        <td>638</td>
        <td>255</td>
        <td>383</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#efdf810c050823bccd0e89b78ecfe54144ada0e4" class="src_link" title="/usr/local/rvm/scripts/functions/manage/ruby">/usr/local/rvm/scripts/functions/manage/ruby</a></td>
        <td class="red strong">41.46 %</td>
        <td>77</td>
        <td>41</td>
        <td>17</td>
        <td>24</td>
        <td>0.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bf5b3b0069cd3d72171d9142bd740235070d5248" class="src_link" title="/usr/local/rvm/scripts/functions/requirements/debian">/usr/local/rvm/scripts/functions/requirements/debian</a></td>
        <td class="red strong">30.77 %</td>
        <td>57</td>
        <td>26</td>
        <td>8</td>
        <td>18</td>
        <td>1.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7d7d27067d69be9fb3dcc0b0eac468ff47e4478a" class="src_link" title="/usr/local/rvm/scripts/functions/reset">/usr/local/rvm/scripts/functions/reset</a></td>
        <td class="red strong">77.78 %</td>
        <td>69</td>
        <td>27</td>
        <td>21</td>
        <td>6</td>
        <td>1.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0e113e70949530ddd1af93247cf3bffd7bb7058d" class="src_link" title="/usr/local/rvm/scripts/functions/rvmrc">/usr/local/rvm/scripts/functions/rvmrc</a></td>
        <td class="red strong">47.6 %</td>
        <td>768</td>
        <td>416</td>
        <td>198</td>
        <td>218</td>
        <td>16.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a9570cf52d45d16781ca0072869bfbf493e1354f" class="src_link" title="/usr/local/rvm/scripts/functions/support">/usr/local/rvm/scripts/functions/support</a></td>
        <td class="red strong">59.32 %</td>
        <td>229</td>
        <td>118</td>
        <td>70</td>
        <td>48</td>
        <td>209.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bcdd5fcf12606b799d19e93755e38db2584283bb" class="src_link" title="/usr/local/rvm/scripts/functions/utility">/usr/local/rvm/scripts/functions/utility</a></td>
        <td class="red strong">47.12 %</td>
        <td>811</td>
        <td>416</td>
        <td>196</td>
        <td>220</td>
        <td>46.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#091ce7b7b73eb52abaafb7e7e2b7292275047b14" class="src_link" title="/usr/local/rvm/scripts/gemsets">/usr/local/rvm/scripts/gemsets</a></td>
        <td class="red strong">52.85 %</td>
        <td>1050</td>
        <td>562</td>
        <td>297</td>
        <td>265</td>
        <td>6.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dc2d7cca402fae5b742789910661cf6c2e521181" class="src_link" title="/usr/local/rvm/scripts/hook">/usr/local/rvm/scripts/hook</a></td>
        <td class="yellow strong">88.89 %</td>
        <td>35</td>
        <td>18</td>
        <td>16</td>
        <td>2</td>
        <td>250.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1d4d628718584985b846e6d88a7df47802f3b126" class="src_link" title="/usr/local/rvm/scripts/initialize">/usr/local/rvm/scripts/initialize</a></td>
        <td class="red strong">38.27 %</td>
        <td>140</td>
        <td>81</td>
        <td>31</td>
        <td>50</td>
        <td>167.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#922556263c106697519ff195b474fd9001cc2227" class="src_link" title="/usr/local/rvm/scripts/list">/usr/local/rvm/scripts/list</a></td>
        <td class="red strong">22.28 %</td>
        <td>389</td>
        <td>184</td>
        <td>41</td>
        <td>143</td>
        <td>4.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f265bbf282d03fdae21bec2175e3aefc9943c65f" class="src_link" title="/usr/local/rvm/scripts/manage">/usr/local/rvm/scripts/manage</a></td>
        <td class="yellow strong">88.89 %</td>
        <td>26</td>
        <td>18</td>
        <td>16</td>
        <td>2</td>
        <td>3.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8ec3d5ed0d355c54ac855f1d2bcaee9cf62a1f85" class="src_link" title="/usr/local/rvm/scripts/override_gem">/usr/local/rvm/scripts/override_gem</a></td>
        <td class="green strong">92.31 %</td>
        <td>24</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>20.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6fb914cf59b533e6d4c64812ea97989814f90290" class="src_link" title="/usr/local/rvm/scripts/patches">/usr/local/rvm/scripts/patches</a></td>
        <td class="red strong">76.67 %</td>
        <td>64</td>
        <td>30</td>
        <td>23</td>
        <td>7</td>
        <td>4.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0e6c9c465d10a584125e5db10028955524cc7357" class="src_link" title="/usr/local/rvm/scripts/patchsets">/usr/local/rvm/scripts/patchsets</a></td>
        <td class="red strong">60.71 %</td>
        <td>58</td>
        <td>28</td>
        <td>17</td>
        <td>11</td>
        <td>1.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d2c794e6ceb38ea8f98569a29490f5347bea6aa7" class="src_link" title="/usr/local/rvm/scripts/rubygems">/usr/local/rvm/scripts/rubygems</a></td>
        <td class="red strong">34.92 %</td>
        <td>346</td>
        <td>189</td>
        <td>66</td>
        <td>123</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#964c2a364c593dd9e0c7d0fd5d9e757e1755048f" class="src_link" title="/usr/local/rvm/scripts/rvm">/usr/local/rvm/scripts/rvm</a></td>
        <td class="red strong">55.43 %</td>
        <td>185</td>
        <td>92</td>
        <td>51</td>
        <td>41</td>
        <td>28.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1c1b676ad0dce47b0bec71cd2435cb8f2f932ede" class="src_link" title="/usr/local/rvm/scripts/selector">/usr/local/rvm/scripts/selector</a></td>
        <td class="red strong">34.91 %</td>
        <td>1025</td>
        <td>593</td>
        <td>207</td>
        <td>386</td>
        <td>56.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#fc9c3c053fc908af837da17f5577cdc23e9110e4" class="src_link" title="/usr/local/rvm/scripts/selector_gemsets">/usr/local/rvm/scripts/selector_gemsets</a></td>
        <td class="red strong">68.83 %</td>
        <td>168</td>
        <td>77</td>
        <td>53</td>
        <td>24</td>
        <td>84.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#63ed04ed90bdfe2a757dce6d45ec9a4333d0fa10" class="src_link" title="/usr/local/rvm/scripts/set">/usr/local/rvm/scripts/set</a></td>
        <td class="red strong">42.48 %</td>
        <td>218</td>
        <td>113</td>
        <td>48</td>
        <td>65</td>
        <td>5.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#68c440032b6268684d3e1b0f0d098f193afcf88b" class="src_link" title="/usr/local/rvm/scripts/tools">/usr/local/rvm/scripts/tools</a></td>
        <td class="red strong">10.83 %</td>
        <td>242</td>
        <td>120</td>
        <td>13</td>
        <td>107</td>
        <td>0.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ed9ce2db881129166dfcd48d20c115aa2f51a049" class="src_link" title="/usr/local/rvm/scripts/wrapper">/usr/local/rvm/scripts/wrapper</a></td>
        <td class="red strong">66.67 %</td>
        <td>246</td>
        <td>129</td>
        <td>86</td>
        <td>43</td>
        <td>42.5</td>
      </tr>
      
    </tbody>
  </table>
</div>


        
          <div class="file_list_container" id="Bin">
  <h2>
    <span class="group_name">Bin</span>
    (<span class="covered_percent"><span class="red">54.19%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         4.63
       </span>
    </span> hits/line)
  </h2>
  <a name="Bin"></a>
  <div>
    <b>4</b> files in total.
    <b>179</b> relevant lines. 
    <span class="green"><b>97</b> lines covered</span> and
    <span class="red"><b>82</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#b9ead1b3d2d11f40cc42cecc2b97b6ab8e2839c2" class="src_link" title="/usr/local/rvm/bin/bundle">/usr/local/rvm/bin/bundle</a></td>
        <td class="red strong">30.77 %</td>
        <td>26</td>
        <td>13</td>
        <td>4</td>
        <td>9</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6ad83c80bcf3805cf9f2e527f581f969e76d6b91" class="src_link" title="/usr/local/rvm/bin/rvm">/usr/local/rvm/bin/rvm</a></td>
        <td class="red strong">51.52 %</td>
        <td>58</td>
        <td>33</td>
        <td>17</td>
        <td>16</td>
        <td>10.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2996bd7b1a6d51e84527e68955f0852d03e12fba" class="src_link" title="/usr/local/rvm/bin/rvm-prompt">/usr/local/rvm/bin/rvm-prompt</a></td>
        <td class="red strong">53.49 %</td>
        <td>152</td>
        <td>86</td>
        <td>46</td>
        <td>40</td>
        <td>4.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ae5615743e96aaf8e7f257a7b91b428deb4467da" class="src_link" title="/usr/local/rvm/bin/rvm-shell">/usr/local/rvm/bin/rvm-shell</a></td>
        <td class="red strong">63.83 %</td>
        <td>93</td>
        <td>47</td>
        <td>30</td>
        <td>17</td>
        <td>3.8</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
          <div class="file_list_container" id="Scripts">
  <h2>
    <span class="group_name">Scripts</span>
    (<span class="covered_percent"><span class="red">42.25%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         82.89
       </span>
    </span> hits/line)
  </h2>
  <a name="Scripts"></a>
  <div>
    <b>43</b> files in total.
    <b>6333</b> relevant lines. 
    <span class="green"><b>2676</b> lines covered</span> and
    <span class="red"><b>3657</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#49904bc47f734d8045b59698b938bf50e7ea0791" class="src_link" title="/usr/local/rvm/scripts/alias">/usr/local/rvm/scripts/alias</a></td>
        <td class="red strong">69.03 %</td>
        <td>234</td>
        <td>113</td>
        <td>78</td>
        <td>35</td>
        <td>12.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#08743d84fc1e54d90fb373ac0bfbdfa7526f6fed" class="src_link" title="/usr/local/rvm/scripts/base">/usr/local/rvm/scripts/base</a></td>
        <td class="red strong">57.89 %</td>
        <td>115</td>
        <td>57</td>
        <td>33</td>
        <td>24</td>
        <td>575.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#49ae28043e76f06371d24370a3718386bed5413b" class="src_link" title="/usr/local/rvm/scripts/cd">/usr/local/rvm/scripts/cd</a></td>
        <td class="red strong">43.33 %</td>
        <td>113</td>
        <td>60</td>
        <td>26</td>
        <td>34</td>
        <td>18.4</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7aab98c1f2746ec08a3e97aa8221049b9f7af5ab" class="src_link" title="/usr/local/rvm/scripts/cli">/usr/local/rvm/scripts/cli</a></td>
        <td class="red strong">30.53 %</td>
        <td>1208</td>
        <td>737</td>
        <td>225</td>
        <td>512</td>
        <td>35.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a20f78cd2aca8ff48edaa7264167bcd511d10400" class="src_link" title="/usr/local/rvm/scripts/color">/usr/local/rvm/scripts/color</a></td>
        <td class="red strong">34.62 %</td>
        <td>69</td>
        <td>26</td>
        <td>9</td>
        <td>17</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c7758c8b12e002d0122639e0996af29d2bbc4f53" class="src_link" title="/usr/local/rvm/scripts/db">/usr/local/rvm/scripts/db</a></td>
        <td class="red strong">53.66 %</td>
        <td>76</td>
        <td>41</td>
        <td>22</td>
        <td>19</td>
        <td>450.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#966ae3cf3739addb3951738f8288fe3c8d59e9dd" class="src_link" title="/usr/local/rvm/scripts/env">/usr/local/rvm/scripts/env</a></td>
        <td class="red strong">60.0 %</td>
        <td>19</td>
        <td>10</td>
        <td>6</td>
        <td>4</td>
        <td>1.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#00e1c80c56f7c2ce5e6b39d5e12c0062136b661c" class="src_link" title="/usr/local/rvm/scripts/external">/usr/local/rvm/scripts/external</a></td>
        <td class="red strong">29.86 %</td>
        <td>586</td>
        <td>345</td>
        <td>103</td>
        <td>242</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b9e9deb5726bbbc35806b0557024b646620e94fa" class="src_link" title="/usr/local/rvm/scripts/fetch">/usr/local/rvm/scripts/fetch</a></td>
        <td class="red strong">32.18 %</td>
        <td>147</td>
        <td>87</td>
        <td>28</td>
        <td>59</td>
        <td>0.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a2fc3e2b65ba6253ea4dcf4cd456170cc8f47282" class="src_link" title="/usr/local/rvm/scripts/functions/build">/usr/local/rvm/scripts/functions/build</a></td>
        <td class="red strong">21.01 %</td>
        <td>287</td>
        <td>138</td>
        <td>29</td>
        <td>109</td>
        <td>0.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9185b3710b2541f5d700afd06bdcf7298f8e7cab" class="src_link" title="/usr/local/rvm/scripts/functions/build_config">/usr/local/rvm/scripts/functions/build_config</a></td>
        <td class="red strong">31.73 %</td>
        <td>441</td>
        <td>208</td>
        <td>66</td>
        <td>142</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5efa8726634d787efde30cad65911092ec7ab1b2" class="src_link" title="/usr/local/rvm/scripts/functions/checksum">/usr/local/rvm/scripts/functions/checksum</a></td>
        <td class="red strong">47.3 %</td>
        <td>163</td>
        <td>74</td>
        <td>35</td>
        <td>39</td>
        <td>2.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0fc1bba6f7eb5ce95c08fed66019626a646e8fc5" class="src_link" title="/usr/local/rvm/scripts/functions/cleanup">/usr/local/rvm/scripts/functions/cleanup</a></td>
        <td class="red strong">33.33 %</td>
        <td>118</td>
        <td>54</td>
        <td>18</td>
        <td>36</td>
        <td>122.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c964e1f1535f5ac67006be52e6172806fd8ecdc9" class="src_link" title="/usr/local/rvm/scripts/functions/db">/usr/local/rvm/scripts/functions/db</a></td>
        <td class="green strong">92.31 %</td>
        <td>30</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>363.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82cfbf826ccc0ce57df81cb33c57ab19d625d6e1" class="src_link" title="/usr/local/rvm/scripts/functions/env">/usr/local/rvm/scripts/functions/env</a></td>
        <td class="red strong">51.24 %</td>
        <td>260</td>
        <td>121</td>
        <td>62</td>
        <td>59</td>
        <td>122.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7a800efcc3e16a516e931c593c126e60cacc865b" class="src_link" title="/usr/local/rvm/scripts/functions/environment">/usr/local/rvm/scripts/functions/environment</a></td>
        <td class="red strong">55.49 %</td>
        <td>378</td>
        <td>173</td>
        <td>96</td>
        <td>77</td>
        <td>119.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0fc044f8c9c8b992721d1e6b487e6d5de3ee05a0" class="src_link" title="/usr/local/rvm/scripts/functions/gemset">/usr/local/rvm/scripts/functions/gemset</a></td>
        <td class="green strong">92.31 %</td>
        <td>34</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>80.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bad22bba48cfa611578254b26032a080e28145b6" class="src_link" title="/usr/local/rvm/scripts/functions/init">/usr/local/rvm/scripts/functions/init</a></td>
        <td class="red strong">74.07 %</td>
        <td>54</td>
        <td>27</td>
        <td>20</td>
        <td>7</td>
        <td>622.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4a36bdcacd50f197d0a6bb7a2683aefaae643590" class="src_link" title="/usr/local/rvm/scripts/functions/install">/usr/local/rvm/scripts/functions/install</a></td>
        <td class="red strong">60.0 %</td>
        <td>45</td>
        <td>20</td>
        <td>12</td>
        <td>8</td>
        <td>1.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e2fa337414f18cbf0df4ed6eb05d626addb0db29" class="src_link" title="/usr/local/rvm/scripts/functions/irbrc">/usr/local/rvm/scripts/functions/irbrc</a></td>
        <td class="green strong">100.0 %</td>
        <td>11</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
        <td>1.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b4e4b5cf4efa2e6c1aef7482142972e0cd5baeab" class="src_link" title="/usr/local/rvm/scripts/functions/logging">/usr/local/rvm/scripts/functions/logging</a></td>
        <td class="red strong">46.43 %</td>
        <td>156</td>
        <td>84</td>
        <td>39</td>
        <td>45</td>
        <td>73.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82c43d8b786ef61dd15c51524e64d978c6ad2ea2" class="src_link" title="/usr/local/rvm/scripts/functions/manage/base">/usr/local/rvm/scripts/functions/manage/base</a></td>
        <td class="red strong">39.97 %</td>
        <td>1186</td>
        <td>638</td>
        <td>255</td>
        <td>383</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#efdf810c050823bccd0e89b78ecfe54144ada0e4" class="src_link" title="/usr/local/rvm/scripts/functions/manage/ruby">/usr/local/rvm/scripts/functions/manage/ruby</a></td>
        <td class="red strong">41.46 %</td>
        <td>77</td>
        <td>41</td>
        <td>17</td>
        <td>24</td>
        <td>0.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bf5b3b0069cd3d72171d9142bd740235070d5248" class="src_link" title="/usr/local/rvm/scripts/functions/requirements/debian">/usr/local/rvm/scripts/functions/requirements/debian</a></td>
        <td class="red strong">30.77 %</td>
        <td>57</td>
        <td>26</td>
        <td>8</td>
        <td>18</td>
        <td>1.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7d7d27067d69be9fb3dcc0b0eac468ff47e4478a" class="src_link" title="/usr/local/rvm/scripts/functions/reset">/usr/local/rvm/scripts/functions/reset</a></td>
        <td class="red strong">77.78 %</td>
        <td>69</td>
        <td>27</td>
        <td>21</td>
        <td>6</td>
        <td>1.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0e113e70949530ddd1af93247cf3bffd7bb7058d" class="src_link" title="/usr/local/rvm/scripts/functions/rvmrc">/usr/local/rvm/scripts/functions/rvmrc</a></td>
        <td class="red strong">47.6 %</td>
        <td>768</td>
        <td>416</td>
        <td>198</td>
        <td>218</td>
        <td>16.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a9570cf52d45d16781ca0072869bfbf493e1354f" class="src_link" title="/usr/local/rvm/scripts/functions/support">/usr/local/rvm/scripts/functions/support</a></td>
        <td class="red strong">59.32 %</td>
        <td>229</td>
        <td>118</td>
        <td>70</td>
        <td>48</td>
        <td>209.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bcdd5fcf12606b799d19e93755e38db2584283bb" class="src_link" title="/usr/local/rvm/scripts/functions/utility">/usr/local/rvm/scripts/functions/utility</a></td>
        <td class="red strong">47.12 %</td>
        <td>811</td>
        <td>416</td>
        <td>196</td>
        <td>220</td>
        <td>46.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#091ce7b7b73eb52abaafb7e7e2b7292275047b14" class="src_link" title="/usr/local/rvm/scripts/gemsets">/usr/local/rvm/scripts/gemsets</a></td>
        <td class="red strong">52.85 %</td>
        <td>1050</td>
        <td>562</td>
        <td>297</td>
        <td>265</td>
        <td>6.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dc2d7cca402fae5b742789910661cf6c2e521181" class="src_link" title="/usr/local/rvm/scripts/hook">/usr/local/rvm/scripts/hook</a></td>
        <td class="yellow strong">88.89 %</td>
        <td>35</td>
        <td>18</td>
        <td>16</td>
        <td>2</td>
        <td>250.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1d4d628718584985b846e6d88a7df47802f3b126" class="src_link" title="/usr/local/rvm/scripts/initialize">/usr/local/rvm/scripts/initialize</a></td>
        <td class="red strong">38.27 %</td>
        <td>140</td>
        <td>81</td>
        <td>31</td>
        <td>50</td>
        <td>167.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#922556263c106697519ff195b474fd9001cc2227" class="src_link" title="/usr/local/rvm/scripts/list">/usr/local/rvm/scripts/list</a></td>
        <td class="red strong">22.28 %</td>
        <td>389</td>
        <td>184</td>
        <td>41</td>
        <td>143</td>
        <td>4.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f265bbf282d03fdae21bec2175e3aefc9943c65f" class="src_link" title="/usr/local/rvm/scripts/manage">/usr/local/rvm/scripts/manage</a></td>
        <td class="yellow strong">88.89 %</td>
        <td>26</td>
        <td>18</td>
        <td>16</td>
        <td>2</td>
        <td>3.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#8ec3d5ed0d355c54ac855f1d2bcaee9cf62a1f85" class="src_link" title="/usr/local/rvm/scripts/override_gem">/usr/local/rvm/scripts/override_gem</a></td>
        <td class="green strong">92.31 %</td>
        <td>24</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>20.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#6fb914cf59b533e6d4c64812ea97989814f90290" class="src_link" title="/usr/local/rvm/scripts/patches">/usr/local/rvm/scripts/patches</a></td>
        <td class="red strong">76.67 %</td>
        <td>64</td>
        <td>30</td>
        <td>23</td>
        <td>7</td>
        <td>4.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0e6c9c465d10a584125e5db10028955524cc7357" class="src_link" title="/usr/local/rvm/scripts/patchsets">/usr/local/rvm/scripts/patchsets</a></td>
        <td class="red strong">60.71 %</td>
        <td>58</td>
        <td>28</td>
        <td>17</td>
        <td>11</td>
        <td>1.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d2c794e6ceb38ea8f98569a29490f5347bea6aa7" class="src_link" title="/usr/local/rvm/scripts/rubygems">/usr/local/rvm/scripts/rubygems</a></td>
        <td class="red strong">34.92 %</td>
        <td>346</td>
        <td>189</td>
        <td>66</td>
        <td>123</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#964c2a364c593dd9e0c7d0fd5d9e757e1755048f" class="src_link" title="/usr/local/rvm/scripts/rvm">/usr/local/rvm/scripts/rvm</a></td>
        <td class="red strong">55.43 %</td>
        <td>185</td>
        <td>92</td>
        <td>51</td>
        <td>41</td>
        <td>28.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1c1b676ad0dce47b0bec71cd2435cb8f2f932ede" class="src_link" title="/usr/local/rvm/scripts/selector">/usr/local/rvm/scripts/selector</a></td>
        <td class="red strong">34.91 %</td>
        <td>1025</td>
        <td>593</td>
        <td>207</td>
        <td>386</td>
        <td>56.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#fc9c3c053fc908af837da17f5577cdc23e9110e4" class="src_link" title="/usr/local/rvm/scripts/selector_gemsets">/usr/local/rvm/scripts/selector_gemsets</a></td>
        <td class="red strong">68.83 %</td>
        <td>168</td>
        <td>77</td>
        <td>53</td>
        <td>24</td>
        <td>84.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#63ed04ed90bdfe2a757dce6d45ec9a4333d0fa10" class="src_link" title="/usr/local/rvm/scripts/set">/usr/local/rvm/scripts/set</a></td>
        <td class="red strong">42.48 %</td>
        <td>218</td>
        <td>113</td>
        <td>48</td>
        <td>65</td>
        <td>5.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#68c440032b6268684d3e1b0f0d098f193afcf88b" class="src_link" title="/usr/local/rvm/scripts/tools">/usr/local/rvm/scripts/tools</a></td>
        <td class="red strong">10.83 %</td>
        <td>242</td>
        <td>120</td>
        <td>13</td>
        <td>107</td>
        <td>0.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ed9ce2db881129166dfcd48d20c115aa2f51a049" class="src_link" title="/usr/local/rvm/scripts/wrapper">/usr/local/rvm/scripts/wrapper</a></td>
        <td class="red strong">66.67 %</td>
        <td>246</td>
        <td>129</td>
        <td>86</td>
        <td>43</td>
        <td>42.5</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
          <div class="file_list_container" id="Functions">
  <h2>
    <span class="group_name">Functions</span>
    (<span class="covered_percent"><span class="red">44.79%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         94.18
       </span>
    </span> hits/line)
  </h2>
  <a name="Functions"></a>
  <div>
    <b>19</b> files in total.
    <b>2610</b> relevant lines. 
    <span class="green"><b>1169</b> lines covered</span> and
    <span class="red"><b>1441</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#a2fc3e2b65ba6253ea4dcf4cd456170cc8f47282" class="src_link" title="/usr/local/rvm/scripts/functions/build">/usr/local/rvm/scripts/functions/build</a></td>
        <td class="red strong">21.01 %</td>
        <td>287</td>
        <td>138</td>
        <td>29</td>
        <td>109</td>
        <td>0.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9185b3710b2541f5d700afd06bdcf7298f8e7cab" class="src_link" title="/usr/local/rvm/scripts/functions/build_config">/usr/local/rvm/scripts/functions/build_config</a></td>
        <td class="red strong">31.73 %</td>
        <td>441</td>
        <td>208</td>
        <td>66</td>
        <td>142</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#5efa8726634d787efde30cad65911092ec7ab1b2" class="src_link" title="/usr/local/rvm/scripts/functions/checksum">/usr/local/rvm/scripts/functions/checksum</a></td>
        <td class="red strong">47.3 %</td>
        <td>163</td>
        <td>74</td>
        <td>35</td>
        <td>39</td>
        <td>2.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0fc1bba6f7eb5ce95c08fed66019626a646e8fc5" class="src_link" title="/usr/local/rvm/scripts/functions/cleanup">/usr/local/rvm/scripts/functions/cleanup</a></td>
        <td class="red strong">33.33 %</td>
        <td>118</td>
        <td>54</td>
        <td>18</td>
        <td>36</td>
        <td>122.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#c964e1f1535f5ac67006be52e6172806fd8ecdc9" class="src_link" title="/usr/local/rvm/scripts/functions/db">/usr/local/rvm/scripts/functions/db</a></td>
        <td class="green strong">92.31 %</td>
        <td>30</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>363.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82cfbf826ccc0ce57df81cb33c57ab19d625d6e1" class="src_link" title="/usr/local/rvm/scripts/functions/env">/usr/local/rvm/scripts/functions/env</a></td>
        <td class="red strong">51.24 %</td>
        <td>260</td>
        <td>121</td>
        <td>62</td>
        <td>59</td>
        <td>122.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7a800efcc3e16a516e931c593c126e60cacc865b" class="src_link" title="/usr/local/rvm/scripts/functions/environment">/usr/local/rvm/scripts/functions/environment</a></td>
        <td class="red strong">55.49 %</td>
        <td>378</td>
        <td>173</td>
        <td>96</td>
        <td>77</td>
        <td>119.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0fc044f8c9c8b992721d1e6b487e6d5de3ee05a0" class="src_link" title="/usr/local/rvm/scripts/functions/gemset">/usr/local/rvm/scripts/functions/gemset</a></td>
        <td class="green strong">92.31 %</td>
        <td>34</td>
        <td>13</td>
        <td>12</td>
        <td>1</td>
        <td>80.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bad22bba48cfa611578254b26032a080e28145b6" class="src_link" title="/usr/local/rvm/scripts/functions/init">/usr/local/rvm/scripts/functions/init</a></td>
        <td class="red strong">74.07 %</td>
        <td>54</td>
        <td>27</td>
        <td>20</td>
        <td>7</td>
        <td>622.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#4a36bdcacd50f197d0a6bb7a2683aefaae643590" class="src_link" title="/usr/local/rvm/scripts/functions/install">/usr/local/rvm/scripts/functions/install</a></td>
        <td class="red strong">60.0 %</td>
        <td>45</td>
        <td>20</td>
        <td>12</td>
        <td>8</td>
        <td>1.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#e2fa337414f18cbf0df4ed6eb05d626addb0db29" class="src_link" title="/usr/local/rvm/scripts/functions/irbrc">/usr/local/rvm/scripts/functions/irbrc</a></td>
        <td class="green strong">100.0 %</td>
        <td>11</td>
        <td>3</td>
        <td>3</td>
        <td>0</td>
        <td>1.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#b4e4b5cf4efa2e6c1aef7482142972e0cd5baeab" class="src_link" title="/usr/local/rvm/scripts/functions/logging">/usr/local/rvm/scripts/functions/logging</a></td>
        <td class="red strong">46.43 %</td>
        <td>156</td>
        <td>84</td>
        <td>39</td>
        <td>45</td>
        <td>73.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82c43d8b786ef61dd15c51524e64d978c6ad2ea2" class="src_link" title="/usr/local/rvm/scripts/functions/manage/base">/usr/local/rvm/scripts/functions/manage/base</a></td>
        <td class="red strong">39.97 %</td>
        <td>1186</td>
        <td>638</td>
        <td>255</td>
        <td>383</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#efdf810c050823bccd0e89b78ecfe54144ada0e4" class="src_link" title="/usr/local/rvm/scripts/functions/manage/ruby">/usr/local/rvm/scripts/functions/manage/ruby</a></td>
        <td class="red strong">41.46 %</td>
        <td>77</td>
        <td>41</td>
        <td>17</td>
        <td>24</td>
        <td>0.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bf5b3b0069cd3d72171d9142bd740235070d5248" class="src_link" title="/usr/local/rvm/scripts/functions/requirements/debian">/usr/local/rvm/scripts/functions/requirements/debian</a></td>
        <td class="red strong">30.77 %</td>
        <td>57</td>
        <td>26</td>
        <td>8</td>
        <td>18</td>
        <td>1.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7d7d27067d69be9fb3dcc0b0eac468ff47e4478a" class="src_link" title="/usr/local/rvm/scripts/functions/reset">/usr/local/rvm/scripts/functions/reset</a></td>
        <td class="red strong">77.78 %</td>
        <td>69</td>
        <td>27</td>
        <td>21</td>
        <td>6</td>
        <td>1.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0e113e70949530ddd1af93247cf3bffd7bb7058d" class="src_link" title="/usr/local/rvm/scripts/functions/rvmrc">/usr/local/rvm/scripts/functions/rvmrc</a></td>
        <td class="red strong">47.6 %</td>
        <td>768</td>
        <td>416</td>
        <td>198</td>
        <td>218</td>
        <td>16.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a9570cf52d45d16781ca0072869bfbf493e1354f" class="src_link" title="/usr/local/rvm/scripts/functions/support">/usr/local/rvm/scripts/functions/support</a></td>
        <td class="red strong">59.32 %</td>
        <td>229</td>
        <td>118</td>
        <td>70</td>
        <td>48</td>
        <td>209.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bcdd5fcf12606b799d19e93755e38db2584283bb" class="src_link" title="/usr/local/rvm/scripts/functions/utility">/usr/local/rvm/scripts/functions/utility</a></td>
        <td class="red strong">47.12 %</td>
        <td>811</td>
        <td>416</td>
        <td>196</td>
        <td>220</td>
        <td>46.7</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
          <div class="file_list_container" id="Longfiles">
  <h2>
    <span class="group_name">Long files</span>
    (<span class="covered_percent"><span class="red">40.2%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         37.92
       </span>
    </span> hits/line)
  </h2>
  <a name="Longfiles"></a>
  <div>
    <b>18</b> files in total.
    <b>5313</b> relevant lines. 
    <span class="green"><b>2136</b> lines covered</span> and
    <span class="red"><b>3177</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#49904bc47f734d8045b59698b938bf50e7ea0791" class="src_link" title="/usr/local/rvm/scripts/alias">/usr/local/rvm/scripts/alias</a></td>
        <td class="red strong">69.03 %</td>
        <td>234</td>
        <td>113</td>
        <td>78</td>
        <td>35</td>
        <td>12.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7aab98c1f2746ec08a3e97aa8221049b9f7af5ab" class="src_link" title="/usr/local/rvm/scripts/cli">/usr/local/rvm/scripts/cli</a></td>
        <td class="red strong">30.53 %</td>
        <td>1208</td>
        <td>737</td>
        <td>225</td>
        <td>512</td>
        <td>35.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#00e1c80c56f7c2ce5e6b39d5e12c0062136b661c" class="src_link" title="/usr/local/rvm/scripts/external">/usr/local/rvm/scripts/external</a></td>
        <td class="red strong">29.86 %</td>
        <td>586</td>
        <td>345</td>
        <td>103</td>
        <td>242</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a2fc3e2b65ba6253ea4dcf4cd456170cc8f47282" class="src_link" title="/usr/local/rvm/scripts/functions/build">/usr/local/rvm/scripts/functions/build</a></td>
        <td class="red strong">21.01 %</td>
        <td>287</td>
        <td>138</td>
        <td>29</td>
        <td>109</td>
        <td>0.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#9185b3710b2541f5d700afd06bdcf7298f8e7cab" class="src_link" title="/usr/local/rvm/scripts/functions/build_config">/usr/local/rvm/scripts/functions/build_config</a></td>
        <td class="red strong">31.73 %</td>
        <td>441</td>
        <td>208</td>
        <td>66</td>
        <td>142</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82cfbf826ccc0ce57df81cb33c57ab19d625d6e1" class="src_link" title="/usr/local/rvm/scripts/functions/env">/usr/local/rvm/scripts/functions/env</a></td>
        <td class="red strong">51.24 %</td>
        <td>260</td>
        <td>121</td>
        <td>62</td>
        <td>59</td>
        <td>122.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7a800efcc3e16a516e931c593c126e60cacc865b" class="src_link" title="/usr/local/rvm/scripts/functions/environment">/usr/local/rvm/scripts/functions/environment</a></td>
        <td class="red strong">55.49 %</td>
        <td>378</td>
        <td>173</td>
        <td>96</td>
        <td>77</td>
        <td>119.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#82c43d8b786ef61dd15c51524e64d978c6ad2ea2" class="src_link" title="/usr/local/rvm/scripts/functions/manage/base">/usr/local/rvm/scripts/functions/manage/base</a></td>
        <td class="red strong">39.97 %</td>
        <td>1186</td>
        <td>638</td>
        <td>255</td>
        <td>383</td>
        <td>1.2</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#0e113e70949530ddd1af93247cf3bffd7bb7058d" class="src_link" title="/usr/local/rvm/scripts/functions/rvmrc">/usr/local/rvm/scripts/functions/rvmrc</a></td>
        <td class="red strong">47.6 %</td>
        <td>768</td>
        <td>416</td>
        <td>198</td>
        <td>218</td>
        <td>16.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a9570cf52d45d16781ca0072869bfbf493e1354f" class="src_link" title="/usr/local/rvm/scripts/functions/support">/usr/local/rvm/scripts/functions/support</a></td>
        <td class="red strong">59.32 %</td>
        <td>229</td>
        <td>118</td>
        <td>70</td>
        <td>48</td>
        <td>209.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#bcdd5fcf12606b799d19e93755e38db2584283bb" class="src_link" title="/usr/local/rvm/scripts/functions/utility">/usr/local/rvm/scripts/functions/utility</a></td>
        <td class="red strong">47.12 %</td>
        <td>811</td>
        <td>416</td>
        <td>196</td>
        <td>220</td>
        <td>46.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#091ce7b7b73eb52abaafb7e7e2b7292275047b14" class="src_link" title="/usr/local/rvm/scripts/gemsets">/usr/local/rvm/scripts/gemsets</a></td>
        <td class="red strong">52.85 %</td>
        <td>1050</td>
        <td>562</td>
        <td>297</td>
        <td>265</td>
        <td>6.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#922556263c106697519ff195b474fd9001cc2227" class="src_link" title="/usr/local/rvm/scripts/list">/usr/local/rvm/scripts/list</a></td>
        <td class="red strong">22.28 %</td>
        <td>389</td>
        <td>184</td>
        <td>41</td>
        <td>143</td>
        <td>4.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d2c794e6ceb38ea8f98569a29490f5347bea6aa7" class="src_link" title="/usr/local/rvm/scripts/rubygems">/usr/local/rvm/scripts/rubygems</a></td>
        <td class="red strong">34.92 %</td>
        <td>346</td>
        <td>189</td>
        <td>66</td>
        <td>123</td>
        <td>0.5</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1c1b676ad0dce47b0bec71cd2435cb8f2f932ede" class="src_link" title="/usr/local/rvm/scripts/selector">/usr/local/rvm/scripts/selector</a></td>
        <td class="red strong">34.91 %</td>
        <td>1025</td>
        <td>593</td>
        <td>207</td>
        <td>386</td>
        <td>56.1</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#63ed04ed90bdfe2a757dce6d45ec9a4333d0fa10" class="src_link" title="/usr/local/rvm/scripts/set">/usr/local/rvm/scripts/set</a></td>
        <td class="red strong">42.48 %</td>
        <td>218</td>
        <td>113</td>
        <td>48</td>
        <td>65</td>
        <td>5.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#68c440032b6268684d3e1b0f0d098f193afcf88b" class="src_link" title="/usr/local/rvm/scripts/tools">/usr/local/rvm/scripts/tools</a></td>
        <td class="red strong">10.83 %</td>
        <td>242</td>
        <td>120</td>
        <td>13</td>
        <td>107</td>
        <td>0.6</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#ed9ce2db881129166dfcd48d20c115aa2f51a049" class="src_link" title="/usr/local/rvm/scripts/wrapper">/usr/local/rvm/scripts/wrapper</a></td>
        <td class="red strong">66.67 %</td>
        <td>246</td>
        <td>129</td>
        <td>86</td>
        <td>43</td>
        <td>42.5</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
          <div class="file_list_container" id="Ungrouped">
  <h2>
    <span class="group_name">Ungrouped</span>
    (<span class="covered_percent"><span class="green">93.69%</span></span>
     covered at
     <span class="covered_strength">
       <span class="green">
         162.96
       </span>
    </span> hits/line)
  </h2>
  <a name="Ungrouped"></a>
  <div>
    <b>13</b> files in total.
    <b>1300</b> relevant lines. 
    <span class="green"><b>1218</b> lines covered</span> and
    <span class="red"><b>82</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
        <th>Avg. Hits / Line</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td class="strong"><a href="#c95e509edd80046f04cc97dca10ebf2e6808178f" class="src_link" title="/etc/rvmrc">/etc/rvmrc</a></td>
        <td class="green strong">100.0 %</td>
        <td>1</td>
        <td>1</td>
        <td>1</td>
        <td>0</td>
        <td>1940.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#a55f5e432b15ea60b3c04e4480f8b123860662b7" class="src_link" title="/usr/bin/ldd">/usr/bin/ldd</a></td>
        <td class="red strong">32.73 %</td>
        <td>193</td>
        <td>110</td>
        <td>36</td>
        <td>74</td>
        <td>23.9</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#46fd1fa4be8424d807e781f133259c0f71a01b2a" class="src_link" title="/usr/local/rvm/environments/ruby-1.8.7-p371">/usr/local/rvm/environments/ruby-1.8.7-p371</a></td>
        <td class="green strong">100.0 %</td>
        <td>12</td>
        <td>12</td>
        <td>12</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#32d5dc57f000049830c8434f94a87d8b2b197037" class="src_link" title="/usr/local/rvm/environments/ruby-1.9.3-p392">/usr/local/rvm/environments/ruby-1.9.3-p392</a></td>
        <td class="green strong">100.0 %</td>
        <td>12</td>
        <td>12</td>
        <td>12</td>
        <td>0</td>
        <td>1.8</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#04a9d9b004480408d9c1cb79def84c55e4ab8a37" class="src_link" title="/usr/local/rvm/hooks/after_install_auto_gem">/usr/local/rvm/hooks/after_install_auto_gem</a></td>
        <td class="red strong">12.5 %</td>
        <td>14</td>
        <td>8</td>
        <td>1</td>
        <td>7</td>
        <td>0.3</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#7a56ebeebe3084a67377f483eab88def35968685" class="src_link" title="/usr/local/rvm/hooks/after_use_maglev">/usr/local/rvm/hooks/after_use_maglev</a></td>
        <td class="red strong">66.67 %</td>
        <td>9</td>
        <td>3</td>
        <td>2</td>
        <td>1</td>
        <td>116.7</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2719cca3e21a2c33be91ece87196aeca51c4d924" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p352/config">/usr/local/rvm/rubies/ruby-1.8.7-p352/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#d4800c0cb5229aba4dfb51e4d4284cd6791bac46" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p358/config">/usr/local/rvm/rubies/ruby-1.8.7-p358/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#2cd38b5e0a0bb625e1cee7a53eae7b02b487d7a6" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p370/config">/usr/local/rvm/rubies/ruby-1.8.7-p370/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#688640f15fead3ee3c31f3de40192b567f7ff34d" class="src_link" title="/usr/local/rvm/rubies/ruby-1.8.7-p371/config">/usr/local/rvm/rubies/ruby-1.8.7-p371/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>148</td>
        <td>148</td>
        <td>148</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#1fbf77604a5393d83c4617407c4e6a20678c78cb" class="src_link" title="/usr/local/rvm/rubies/ruby-1.9.2-p320/config">/usr/local/rvm/rubies/ruby-1.9.2-p320/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>181</td>
        <td>181</td>
        <td>181</td>
        <td>0</td>
        <td>4.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#dc5261aebcb99d6517d8eb2057636e7a55273422" class="src_link" title="/usr/local/rvm/rubies/ruby-1.9.3-p194/config">/usr/local/rvm/rubies/ruby-1.9.3-p194/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>190</td>
        <td>190</td>
        <td>190</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
      <tr>
        <td class="strong"><a href="#f995a6f9a69a00eda922a5523ac6876679d464f2" class="src_link" title="/usr/local/rvm/rubies/ruby-1.9.3-p392/config">/usr/local/rvm/rubies/ruby-1.9.3-p392/config</a></td>
        <td class="green strong">100.0 %</td>
        <td>191</td>
        <td>191</td>
        <td>191</td>
        <td>0</td>
        <td>5.0</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.7.1 
        and simplecov-html v0.7.1<br/>
        using bashcov v1.0.0
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="c95e509edd80046f04cc97dca10ebf2e6808178f">
  <div class="header">
    <h3>/etc/rvmrc</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>1</b> relevant lines. 
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="1940" data-linenumber="1">
          <span class="hits">1940</span>
          
          <code class="ruby">umask u=rwx,g=rwx,o=rx</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="a55f5e432b15ea60b3c04e4480f8b123860662b7">
  <div class="header">
    <h3>/usr/bin/ldd</h3>
    <h4><span class="red">32.73 %</span> covered</h4>
    <div>
      <b>110</b> relevant lines. 
      <span class="green"><b>36</b> lines covered</span> and
      <span class="red"><b>74</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#! /bin/bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"># Copyright (C) 1996-2008, 2009, 2010, 2011 Free Software Foundation, Inc.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># This file is part of the GNU C Library.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># The GNU C Library is free software; you can redistribute it and/or</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># modify it under the terms of the GNU Lesser General Public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"># License as published by the Free Software Foundation; either</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"># version 2.1 of the License, or (at your option) any later version.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"># The GNU C Library is distributed in the hope that it will be useful,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"># but WITHOUT ANY WARRANTY; without even the implied warranty of</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"># Lesser General Public License for more details.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"># You should have received a copy of the GNU Lesser General Public</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"># License along with the GNU C Library; if not, write to the Free</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"># Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"># 02111-1307 USA.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"># This is the `ldd' command, which lists what shared libraries are</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"># used by given dynamically-linked executables.  It works by invoking the</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"># run-time dynamic linker as a command and setting the environment</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"># variable LD_TRACE_LOADED_OBJECTS to a non-empty value.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"># We should be able to find the translation right at the beginning.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">TEXTDOMAIN=libc</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">TEXTDOMAINDIR=/usr/share/locale</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">RTLDLIST=&quot;/lib/ld-linux.so.2 /lib64/ld-linux-x86-64.so.2&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">warn=</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="32">
          <span class="hits">1</span>
          
          <code class="ruby">bind_now=</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="33">
          <span class="hits">1</span>
          
          <code class="ruby">verbose=</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="35">
          <span class="hits">1</span>
          
          <code class="ruby">while test $# -gt 0; do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">  --vers | --versi | --versio | --version)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">    echo 'ldd (Debian EGLIBC 2.13-38) 2.13'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    printf $&quot;Copyright (C) %s Free Software Foundation, Inc.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">This is free software; see the source for copying conditions.  There is NO</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">&quot; &quot;2011&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    printf $&quot;Written by %s and %s.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">&quot; &quot;Roland McGrath&quot; &quot;Ulrich Drepper&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    exit 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">  --h | --he | --hel | --help)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">    printf $&quot;Usage: ldd [OPTION]... FILE...</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">      --help              print this help and exit</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">      --version           print version information and exit</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">  -d, --data-relocs       process data relocations</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">  -r, --function-relocs   process data and function relocations</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">  -u, --unused            print unused direct dependencies</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">  -v, --verbose           print all information</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">    printf $&quot;For bug reporting instructions, please see:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">%s.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">&quot; &quot;&lt;http://www.debian.org/Bugs/&gt;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    exit 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">  -d | --d | --da | --dat | --data | --data- | --data-r | --data-re | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">  --data-rel | --data-relo | --data-reloc | --data-relocs)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">    warn=yes</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">  -r | --f | --fu | --fun | --func | --funct | --functi | --functio | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">  --function | --function- | --function-r | --function-re | --function-rel | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">  --function-relo | --function-reloc | --function-relocs)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">    warn=yes</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="70">
          
          
          <code class="ruby">    bind_now=yes</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="73">
          
          
          <code class="ruby">  -v | --verb | --verbo | --verbos | --verbose)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">    verbose=yes</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">  -u | --u | --un | --unu | --unus | --unuse | --unused)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">    unused=yes</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">  --v | --ve | --ver)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">    echo &gt;&amp;2 $&quot;ldd: option \`$1' is ambiguous&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">  --)		# Stop option processing.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">    shift; break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">  -*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">    echo &gt;&amp;2 'ldd:' $&quot;unrecognized option&quot; &quot;\`$1'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">    echo &gt;&amp;2 $&quot;Try \`ldd --help' for more information.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">  *)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="94">
          <span class="hits">1</span>
          
          <code class="ruby">    break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">nonelf ()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">  # Maybe extra code for non-ELF binaries.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">  return 1;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">add_env=&quot;LD_TRACE_LOADED_OBJECTS=1 LD_WARN=$warn LD_BIND_NOW=$bind_now&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">add_env=&quot;$add_env LD_LIBRARY_VERSION=\$verify_out&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">add_env=&quot;$add_env LD_VERBOSE=$verbose&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="108">
          <span class="hits">1</span>
          
          <code class="ruby">if test &quot;$unused&quot; = yes; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="109">
          
          
          <code class="ruby">  add_env=&quot;$add_env LD_DEBUG=\&quot;$LD_DEBUG${LD_DEBUG:+,}unused\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"># The following use of cat is needed to make ldd work in SELinux</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby"># environments where the executed program might not have permissions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"># to write to the console/tty.  But only bash 3.x supports the pipefail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby"># option, and we don't bother to handle the case for older bash versions.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="116">
          <span class="hits">4</span>
          
          <code class="ruby">if x=`set -o` &amp;&amp; test &quot;$x&quot; != &quot;${x#*pipefail}&quot; &amp;&amp; set -o pipefail ; then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">  try_trace() {</code>
        </li>
      
        <li class="covered" data-hits="696" data-linenumber="118">
          <span class="hits">696</span>
          
          <code class="ruby">    eval $add_env '&quot;$@&quot;' | cat</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">  try_trace() {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">    eval $add_env '&quot;$@&quot;'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="126">
          <span class="hits">1</span>
          
          <code class="ruby">case $# in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="127">
          
          
          <code class="ruby">0)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">  echo &gt;&amp;2 'ldd:' $&quot;missing file arguments&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">  echo &gt;&amp;2 $&quot;Try \`ldd --help' for more information.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">  ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">1)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">  single_file=t</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">  ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">  single_file=f</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">result=0</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="141">
          <span class="hits">87</span>
          
          <code class="ruby">for file do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">  # We don't list the file name when there is only one.</code>
        </li>
      
        <li class="covered" data-hits="174" data-linenumber="143">
          <span class="hits">174</span>
          
          <code class="ruby">  test $single_file = t || echo &quot;${file}:&quot;</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="144">
          <span class="hits">87</span>
          
          <code class="ruby">  case $file in</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="145">
          <span class="hits">87</span>
          
          <code class="ruby">  */*) :</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">       ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="147">
          
          
          <code class="ruby">  *) file=./$file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">     ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="150">
          <span class="hits">87</span>
          
          <code class="ruby">  if test ! -e &quot;$file&quot;; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">    echo &quot;ldd: ${file}:&quot; $&quot;No such file or directory&quot; &gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">    result=1</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="153">
          <span class="hits">87</span>
          
          <code class="ruby">  elif test ! -f &quot;$file&quot;; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="154">
          
          
          <code class="ruby">    echo &quot;ldd: ${file}:&quot; $&quot;not regular file&quot; &gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">    result=1</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="156">
          <span class="hits">87</span>
          
          <code class="ruby">  elif test -r &quot;$file&quot;; then</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="157">
          <span class="hits">87</span>
          
          <code class="ruby">    RTLD=</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="158">
          <span class="hits">87</span>
          
          <code class="ruby">    ret=1</code>
        </li>
      
        <li class="covered" data-hits="174" data-linenumber="159">
          <span class="hits">174</span>
          
          <code class="ruby">    for rtld in ${RTLDLIST}; do</code>
        </li>
      
        <li class="covered" data-hits="174" data-linenumber="160">
          <span class="hits">174</span>
          
          <code class="ruby">      if test -x $rtld; then</code>
        </li>
      
        <li class="covered" data-hits="174" data-linenumber="161">
          <span class="hits">174</span>
          
          <code class="ruby">	verify_out=`${rtld} --verify &quot;$file&quot;`</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="162">
          <span class="hits">87</span>
          
          <code class="ruby">	ret=$?</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="163">
          <span class="hits">87</span>
          
          <code class="ruby">	case $ret in</code>
        </li>
      
        <li class="covered" data-hits="174" data-linenumber="164">
          <span class="hits">174</span>
          
          <code class="ruby">	[02]) RTLD=${rtld}; break;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">	esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="168">
          <span class="hits">87</span>
          
          <code class="ruby">    case $ret in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">    0|2)</code>
        </li>
      
        <li class="covered" data-hits="87" data-linenumber="170">
          <span class="hits">87</span>
          
          <code class="ruby">      try_trace &quot;$RTLD&quot; &quot;$file&quot; || result=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">    1|126)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">      # This can be a non-ELF binary or no binary at all.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">      nonelf &quot;$file&quot; || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">	echo $&quot;	not a dynamic executable&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">	result=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="180">
          
          
          <code class="ruby">      echo 'ldd:' ${RTLD} $&quot;exited with unknown exit code&quot; &quot;($ret)&quot; &gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">      exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">    echo 'ldd:' $&quot;error: you do not have read permission for&quot; &quot;\`$file'&quot; &gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">    result=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">exit $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby"># Local Variables:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">#  mode:ksh</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby"># End:</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="b9ead1b3d2d11f40cc42cecc2b97b6ab8e2839c2">
  <div class="header">
    <h3>/usr/local/rvm/bin/bundle</h3>
    <h4><span class="red">30.77 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>9</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">function bundle_not_found()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="5">
          <span class="hits">3</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;$(tput setaf 1)ERROR: Gem bundler is not installed, run \`gem install bundler\` first.$(tput sgr0)\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">  exit 127</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"># in rvm warn about missing gem</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">if [[ -n &quot;${GEM_HOME:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  bundle_not_found</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">  current_bundle=&quot;$(dirname $(which $0))&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">  export PATH</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">  PATH=&quot;:${PATH}:&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">  PATH=&quot;${PATH//:${current_bundle}:/:}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">  PATH=&quot;${PATH#:}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">  PATH=&quot;${PATH%:}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">  if [[ -n &quot;${current_bundle}&quot; ]] &amp;&amp; builtin command -v bundle &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    builtin command bundle &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">    bundle_not_found</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="6ad83c80bcf3805cf9f2e527f581f969e76d6b91">
  <div class="header">
    <h3>/usr/local/rvm/bin/rvm</h3>
    <h4><span class="red">51.52 %</span> covered</h4>
    <div>
      <b>33</b> relevant lines. 
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>16</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="3">
          <span class="hits">22</span>
          
          <code class="ruby">if (( ${rvm_ignore_rvmrc:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="5">
          <span class="hits">11</span>
          
          <code class="ruby">  declare rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="7">
          <span class="hits">11</span>
          
          <code class="ruby">  rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="8">
          <span class="hits">22</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp; ! [[ &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="9">
          <span class="hits">11</span>
          
          <code class="ruby">     then rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="12">
          <span class="hits">33</span>
          
          <code class="ruby">  for rvmrc in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="14">
          <span class="hits">33</span>
          
          <code class="ruby">    if [[ -f &quot;$rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="16">
          <span class="hits">22</span>
          
          <code class="ruby">      if GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$rvmrc&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">  Error:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    $rvmrc is for rvm settings only.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">    rvm CLI may NOT be called from within $rvmrc.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    Skipping the loading of $rvmrc</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">        exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="26">
          <span class="hits">11</span>
          
          <code class="ruby">        source &quot;$rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="30">
          <span class="hits">11</span>
          
          <code class="ruby">  unset rvm_rvmrc_files</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="31">
          <span class="hits">11</span>
          
          <code class="ruby">  unset rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="34">
          <span class="hits">22</span>
          
          <code class="ruby">export rvm_path</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="35">
          <span class="hits">22</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">  if (( UID == 0 )) &amp;&amp; [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">  then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">  elif [[ -d &quot;${HOME}/.rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">  then rvm_path=&quot;${HOME}/.rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">  elif [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">  then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">  else echo &quot;Can't find rvm install!&quot; 1&gt;&amp;2 ; exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"># allow disabling check temporary</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="48">
          <span class="hits">22</span>
          
          <code class="ruby">: rvm_is_not_a_shell_function:${rvm_is_not_a_shell_function:=1}</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="49">
          <span class="hits">22</span>
          
          <code class="ruby">export rvm_is_not_a_shell_function</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"># if to prevent fork-bomb</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="52">
          <span class="hits">22</span>
          
          <code class="ruby">if source &quot;${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}/rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="54">
          <span class="hits">22</span>
          
          <code class="ruby">  rvm &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">  echo &quot;Error sourcing RVM!&quot;  1&gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="2996bd7b1a6d51e84527e68955f0852d03e12fba">
  <div class="header">
    <h3>/usr/local/rvm/bin/rvm-prompt</h3>
    <h4><span class="red">53.49 %</span> covered</h4>
    <div>
      <b>86</b> relevant lines. 
      <span class="green"><b>46</b> lines covered</span> and
      <span class="red"><b>40</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">add()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="5">
          <span class="hits">11</span>
          
          <code class="ruby">  token=${1:-&quot;&quot;}</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="6">
          <span class="hits">22</span>
          
          <code class="ruby">  eval &quot;${token}_flag=1&quot;</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="7">
          <span class="hits">11</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="9">
          <span class="hits">11</span>
          
          <code class="ruby">    [[ -n &quot;$format&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="11">
          <span class="hits">15</span>
          
          <code class="ruby">    [[ ${previous_is_format_var:-0} == 1 ]] &amp;&amp; eval &quot;${token}_prefix_flag=1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">    format=&quot;${format}\$${token}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="14">
          <span class="hits">6</span>
          
          <code class="ruby">    format=&quot;\$${token}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="16">
          <span class="hits">11</span>
          
          <code class="ruby">  previous_is_format_var=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">add_raw_token()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">  previous_is_format_var=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">  token=${1:-&quot;&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">  format=&quot;${format:-&quot;&quot;}${token}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="26">
          <span class="hits">8</span>
          
          <code class="ruby">rvm_gemset_separator=&quot;${rvm_gemset_separator:-&quot;@&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">ruby=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  builtin command -v ruby | GREP_OPTIONS=&quot;&quot; \grep -v $rvm_path/bin/ruby</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="29">
          <span class="hits">8</span>
          
          <code class="ruby">)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="30">
          <span class="hits">24</span>
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="31">
          <span class="hits">32</span>
          
          <code class="ruby">  [[ -n &quot;$ruby&quot; &amp;&amp; -n &quot;$(echo &quot;$ruby&quot; | awk '/rvm/{print}')&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="33">
          <span class="hits">6</span>
          
          <code class="ruby">  unset format</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">  while</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="35">
          <span class="hits">14</span>
          
          <code class="ruby">    [[ $# -gt 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="37">
          <span class="hits">8</span>
          
          <code class="ruby">    token=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="38">
          <span class="hits">8</span>
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="39">
          <span class="hits">8</span>
          
          <code class="ruby">    case &quot;$token&quot; in</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="40">
          <span class="hits">2</span>
          
          <code class="ruby">      i|interpreter)   add &quot;interpreter&quot;  ;;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="41">
          <span class="hits">4</span>
          
          <code class="ruby">      v|version)       add &quot;version&quot;      ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">      p|patchlevel)    add &quot;patchlevel&quot;   ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">      r|revision)      add &quot;revision&quot;     ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">      a|architecture)  add &quot;architecture&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">      g|gemset)        add &quot;gemset&quot;       ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">      u|unicode)       add &quot;unicode&quot;      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">      s|system)                           ;; #skip when in ruby</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">      -d|--no-default) no_default=1       ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">      *)               add_raw_token &quot;$token&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="54">
          <span class="hits">7</span>
          
          <code class="ruby">    [[ -z &quot;${format:-&quot;&quot;}&quot; &amp;&amp; -z &quot;$no_default&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="56">
          <span class="hits">4</span>
          
          <code class="ruby">    for default in interpreter version patchlevel gemset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="58">
          <span class="hits">4</span>
          
          <code class="ruby">      add &quot;$default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="61">
          <span class="hits">24</span>
          
          <code class="ruby">  ruby_string=$(dirname &quot;$ruby&quot; | xargs dirname | xargs basename)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="63">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -n &quot;$no_default&quot; &amp;&amp; -n &quot;${format:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    # Do not display anything if no default flag was provided</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    #   and we are using the default ruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    # Only people who explicitely ask for this will have the</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">    #   slight performance penalty associated.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">    [[ &quot;$(rvm tools identifier)&quot; != &quot;$(rvm alias show default)&quot;  ]] || exit 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="71">
          <span class="hits">6</span>
          
          <code class="ruby">  strings=(${ruby_string//-/ })</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="73">
          <span class="hits">9</span>
          
          <code class="ruby">    (( ${interpreter_flag:-0} )) || [[ -n &quot;$unicode_flag&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="75">
          <span class="hits">3</span>
          
          <code class="ruby">    interpreter=${strings[0]}</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="76">
          <span class="hits">3</span>
          
          <code class="ruby">    (( ${interpreter_prefix_flag:-0} )) &amp;&amp; interpreter=&quot;-${interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="79">
          <span class="hits">7</span>
          
          <code class="ruby">    (( ${version_flag:-0} )) || [[ -n &quot;$unicode_flag&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">    version=${strings[1]}</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="82">
          <span class="hits">7</span>
          
          <code class="ruby">    (( ${version_prefix_flag:-0} )) &amp;&amp; version=&quot;-${version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="85">
          <span class="hits">6</span>
          
          <code class="ruby">    (( ${#strings[@]} &gt; 2 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="88">
          <span class="hits">6</span>
          
          <code class="ruby">      (( ${patchlevel_flag:-0} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="90">
          <span class="hits">2</span>
          
          <code class="ruby">      patchlevel=${strings[2]}</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="91">
          <span class="hits">4</span>
          
          <code class="ruby">      (( ${patchlevel_prefix_flag:-0} )) &amp;&amp; patchlevel=&quot;-${patchlevel}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="95">
          <span class="hits">6</span>
          
          <code class="ruby">    (( ${architecture_flag:-0} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">    architecture=&quot;$(echo &quot;$(ruby -v)&quot; | sed 's/^.*\[//' | sed 's/\].*$//')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">    (( ${architecture_prefix_flag:-0} )) &amp;&amp; architecture=&quot;-${architecture}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="101">
          <span class="hits">6</span>
          
          <code class="ruby">    (( ${gemset_flag:-0} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">    case &quot;${GEM_HOME:-&quot;&quot;}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="104">
          
          
          <code class="ruby">      (*${rvm_gemset_separator:-&quot;@&quot;}*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="105">
          
          
          <code class="ruby">        gemset=&quot;${rvm_gemset_separator:-&quot;@&quot;}${GEM_HOME/*${rvm_gemset_separator:-&quot;@&quot;}/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="110">
          <span class="hits">6</span>
          
          <code class="ruby">    (( ${unicode_flag:-0} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">    case &quot;$interpreter&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">      (jruby)    unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">      (rbx)      unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="115">
          
          
          <code class="ruby">      (ree)      unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">      (macruby)  unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">      (maglev)   unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">      (ironruby) unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="119">
          
          
          <code class="ruby">      (system)   unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">      (goruby)   unicode=&quot;&quot;;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">      (topaz)    unicode=&quot;&quot;;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">      (ruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">        case ${version:-&quot;&quot;} in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">          (1.8.6)  unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">          (1.8.7)  unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">          (1.8*)   unicode=&quot;&quot;  ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="127">
          
          
          <code class="ruby">          (1.9.1)  unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">          (1.9.2)  unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">          (1.9.3)  unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">          (*)      unicode=&quot;&quot;  ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">        esac ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">      (*) unicode=&quot;&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">      echo &quot;$ruby_string&quot; | GREP_OPTIONS=&quot;&quot; \grep '-head' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="137">
          
          
          <code class="ruby">      unicode=&quot;${unicode}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">    (( ${unicode_prefix_flag:-0} )) &amp;&amp; unicode=&quot;-${unicode}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="141">
          <span class="hits">12</span>
          
          <code class="ruby">  eval &quot;echo \&quot;$format\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">  while</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="144">
          <span class="hits">4</span>
          
          <code class="ruby">    (( $# ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="146">
          <span class="hits">2</span>
          
          <code class="ruby">    token=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="147">
          <span class="hits">2</span>
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="148">
          <span class="hits">2</span>
          
          <code class="ruby">    case &quot;$token&quot; in</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">      s|system) echo &quot;system&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="ae5615743e96aaf8e7f257a7b91b428deb4467da">
  <div class="header">
    <h3>/usr/local/rvm/bin/rvm-shell</h3>
    <h4><span class="red">63.83 %</span> covered</h4>
    <div>
      <b>47</b> relevant lines. 
      <span class="green"><b>30</b> lines covered</span> and
      <span class="red"><b>17</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="3">
          <span class="hits">8</span>
          
          <code class="ruby">export HOME=&quot;${HOME%%+(\/)}&quot; # Remove trailing slashes if they exist on HOME</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="5">
          <span class="hits">4</span>
          
          <code class="ruby">if (( ${rvm_ignore_rvmrc:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="7">
          <span class="hits">8</span>
          
          <code class="ruby">  for rvmrc in /etc/rvmrc &quot;$HOME/.rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="9">
          <span class="hits">8</span>
          
          <code class="ruby">    if [[ -f &quot;$rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="11">
          <span class="hits">8</span>
          
          <code class="ruby">      if GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$rvmrc&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;\nError: $rvmrc is for rvm settings only.\nrvm CLI may NOT be called from within $rvmrc. \nSkipping the loading of $rvmrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="16">
          <span class="hits">4</span>
          
          <code class="ruby">        source &quot;$rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="22">
          <span class="hits">4</span>
          
          <code class="ruby">export rvm_path</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="23">
          <span class="hits">4</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">  if (( UID == 0 )) &amp;&amp; [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">  elif [[ -d &quot;${HOME}/.rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  then rvm_path=&quot;${HOME}/.rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  elif [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">  then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">  else echo &quot;Can't find rvm install!&quot; 1&gt;&amp;2 ; exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="35">
          <span class="hits">4</span>
          
          <code class="ruby">true ${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">__rvm_shell_lookup_script()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="39">
          <span class="hits">4</span>
          
          <code class="ruby">  local relative_scripts_dir directory</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="40">
          <span class="hits">4</span>
          
          <code class="ruby">  if [[ -L $0 ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">  then relative_scripts_dir=&quot;$(dirname -- &quot;$(dirname -- &quot;$( readlink &quot;$0&quot;)&quot; )&quot; )/scripts&quot; #&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="42">
          <span class="hits">12</span>
          
          <code class="ruby">  else relative_scripts_dir=&quot;$(dirname -- &quot;$(dirname -- &quot;$0&quot;)&quot;)/scripts&quot; #&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="45">
          <span class="hits">4</span>
          
          <code class="ruby">  for directory in &quot;$rvm_scripts_path&quot; &quot;$HOME/.rvm/scripts&quot; &quot;/usr/local/rvm/scripts&quot; &quot;$relative_scripts_dir&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="47">
          <span class="hits">8</span>
          
          <code class="ruby">    if [[ -d &quot;$directory&quot; &amp;&amp; -s &quot;$directory/rvm&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="49">
          <span class="hits">4</span>
          
          <code class="ruby">      echo &quot;$directory/rvm&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="50">
          <span class="hits">4</span>
          
          <code class="ruby">      return</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="55">
          <span class="hits">4</span>
          
          <code class="ruby">case $0 in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">  (*-rvm-env) selected_shell=${0%-rvm-env} ;;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="57">
          <span class="hits">4</span>
          
          <code class="ruby">  (*)         selected_shell=bash          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="59">
          <span class="hits">8</span>
          
          <code class="ruby">selected_shell=&quot;$(basename &quot;${selected_shell}&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="61">
          <span class="hits">24</span>
          
          <code class="ruby">if [[ -n &quot;$1&quot; &amp;&amp; ! -f &quot;$1&quot; &amp;&amp; -n &quot;$(echo &quot;$1&quot; | GREP_OPTIONS=&quot;&quot; \grep -v '^-')&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">  rvm_shell_ruby_string=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="65">
          <span class="hits">8</span>
          
          <code class="ruby">elif [[ &quot;$1&quot; == &quot;--path&quot; &amp;&amp; &quot;$2&quot; =~ /* ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="67">
          <span class="hits">4</span>
          
          <code class="ruby">  if [[ -d &quot;$2&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="69">
          <span class="hits">4</span>
          
          <code class="ruby">    cd $2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">    rvm_shell_ruby_string=&quot;default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="73">
          <span class="hits">4</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="76">
          <span class="hits">8</span>
          
          <code class="ruby">rvm_shell_rvm_path=&quot;$(__rvm_shell_lookup_script)&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="77">
          <span class="hits">4</span>
          
          <code class="ruby">if [[ -n &quot;$rvm_shell_rvm_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="79">
          <span class="hits">4</span>
          
          <code class="ruby">  source &quot;$rvm_shell_rvm_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">  # Setup as expected.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="81">
          <span class="hits">4</span>
          
          <code class="ruby">  if [[ -n &quot;$rvm_shell_ruby_string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">    if ! rvm &quot;$rvm_shell_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">      echo &quot;Error: RVM was unable to use '$rvm_shell_ruby_string'&quot; 1&gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">      exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="89">
          <span class="hits">4</span>
          
          <code class="ruby">    __rvm_conditionally_do_with_env __rvm_rvmrc_tools load . &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="93">
          <span class="hits">4</span>
          
          <code class="ruby">exec ${selected_shell} &quot;$@&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="46fd1fa4be8424d807e781f133259c0f71a01b2a">
  <div class="header">
    <h3>/usr/local/rvm/environments/ruby-1.8.7-p371</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>12</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="2" data-linenumber="1">
          <span class="hits">2</span>
          
          <code class="ruby">export PATH ; PATH=&quot;/usr/local/rvm/gems/ruby-1.8.7-p371/bin:/usr/local/rvm/gems/ruby-1.8.7-p371@global/bin:/usr/local/rvm/rubies/ruby-1.8.7-p371/bin:/usr/local/rvm/bin:$PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="2">
          <span class="hits">2</span>
          
          <code class="ruby">export rvm_env_string ; rvm_env_string='ruby-1.8.7-p371'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="3">
          <span class="hits">2</span>
          
          <code class="ruby">export rvm_path ; rvm_path='/usr/local/rvm'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="4">
          <span class="hits">2</span>
          
          <code class="ruby">export rvm_ruby_string ; rvm_ruby_string='ruby-1.8.7-p371'</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">unset rvm_gemset_name</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="6">
          <span class="hits">2</span>
          
          <code class="ruby">export RUBY_VERSION ; RUBY_VERSION='ruby-1.8.7-p371'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="7">
          <span class="hits">2</span>
          
          <code class="ruby">export GEM_HOME ; GEM_HOME='/usr/local/rvm/gems/ruby-1.8.7-p371'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="8">
          <span class="hits">2</span>
          
          <code class="ruby">export GEM_PATH ; GEM_PATH='/usr/local/rvm/gems/ruby-1.8.7-p371:/usr/local/rvm/gems/ruby-1.8.7-p371@global'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="9">
          <span class="hits">2</span>
          
          <code class="ruby">export MY_RUBY_HOME ; MY_RUBY_HOME='/usr/local/rvm/rubies/ruby-1.8.7-p371'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="10">
          <span class="hits">2</span>
          
          <code class="ruby">export IRBRC ; IRBRC='/usr/local/rvm/rubies/ruby-1.8.7-p371/.irbrc'</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">unset MAGLEV_HOME</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">unset RBXOPT</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="32d5dc57f000049830c8434f94a87d8b2b197037">
  <div class="header">
    <h3>/usr/local/rvm/environments/ruby-1.9.3-p392</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>12</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="2" data-linenumber="1">
          <span class="hits">2</span>
          
          <code class="ruby">export PATH ; PATH=&quot;/usr/local/rvm/gems/ruby-1.9.3-p392/bin:/usr/local/rvm/gems/ruby-1.9.3-p392@global/bin:/usr/local/rvm/rubies/ruby-1.9.3-p392/bin:/usr/local/rvm/bin:$PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="2">
          <span class="hits">2</span>
          
          <code class="ruby">export rvm_env_string ; rvm_env_string='ruby-1.9.3-p392'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="3">
          <span class="hits">2</span>
          
          <code class="ruby">export rvm_path ; rvm_path='/usr/local/rvm'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="4">
          <span class="hits">2</span>
          
          <code class="ruby">export rvm_ruby_string ; rvm_ruby_string='ruby-1.9.3-p392'</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">unset rvm_gemset_name</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="6">
          <span class="hits">2</span>
          
          <code class="ruby">export RUBY_VERSION ; RUBY_VERSION='ruby-1.9.3-p392'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="7">
          <span class="hits">2</span>
          
          <code class="ruby">export GEM_HOME ; GEM_HOME='/usr/local/rvm/gems/ruby-1.9.3-p392'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="8">
          <span class="hits">2</span>
          
          <code class="ruby">export GEM_PATH ; GEM_PATH='/usr/local/rvm/gems/ruby-1.9.3-p392:/usr/local/rvm/gems/ruby-1.9.3-p392@global'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="9">
          <span class="hits">2</span>
          
          <code class="ruby">export MY_RUBY_HOME ; MY_RUBY_HOME='/usr/local/rvm/rubies/ruby-1.9.3-p392'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="10">
          <span class="hits">2</span>
          
          <code class="ruby">export IRBRC ; IRBRC='/usr/local/rvm/rubies/ruby-1.9.3-p392/.irbrc'</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">unset MAGLEV_HOME</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">unset RBXOPT</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="04a9d9b004480408d9c1cb79def84c55e4ab8a37">
  <div class="header">
    <h3>/usr/local/rvm/hooks/after_install_auto_gem</h3>
    <h4><span class="red">12.5 %</span> covered</h4>
    <div>
      <b>8</b> relevant lines. 
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>7</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="4">
          
          
          <code class="ruby">  [[ -f &quot;/etc/gentoo-release&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="5">
          
          
          <code class="ruby">    &quot;${RUBYOPT:-}&quot; =~ &quot;-rauto_gem&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="6">
          <span class="hits">2</span>
          
          <code class="ruby">  ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">  typeset __sitelib</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">  __sitelib=&quot;$( $rvm_ruby_binary -rrbconfig -e &quot;puts RbConfig::CONFIG['sitelibdir']&quot; )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">  if [[ -n &quot;${__sitelib}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">  then touch &quot;${__sitelib}/auto_gem.rb&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  else echo &quot;WARN: Installed ruby does not have valid 'sitelibdir', no 'auto_gem.rb' was created, please report a bug here: https://github.com/wayneeseguin/rvm/issues&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="7a56ebeebe3084a67377f483eab88def35968685">
  <div class="header">
    <h3>/usr/local/rvm/hooks/after_use_maglev</h3>
    <h4><span class="red">66.67 %</span> covered</h4>
    <div>
      <b>3</b> relevant lines. 
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="175" data-linenumber="3">
          <span class="hits">175</span>
          
          <code class="ruby">. &quot;${rvm_path}/scripts/functions/hooks/maglev&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="175" data-linenumber="6">
          <span class="hits">175</span>
          
          <code class="ruby">  [[ &quot;${rvm_ruby_string}&quot; =~ &quot;maglev&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">  _maglev_gemstone start</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="2719cca3e21a2c33be91ece87196aeca51c4d924">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.8.7-p352/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>148</b> relevant lines. 
      <span class="green"><b>148</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">CCDLFLAGS=&quot; -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">CFLAGS=&quot;-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls  -fPIC  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p352/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p352/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p352/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p352/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.8 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">LIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEDIRS=&quot;mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">MINOR=&quot;8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">NM=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">OBJDUMP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">PATCHLEVEL=&quot;352&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">RDOCTARGET=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">SOLIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">TEENY=&quot;7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">YACC=&quot;yacc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">YFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">cflags=&quot; &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.8.7-p352' '--disable-install-doc' '--enable-shared' 'CFLAGS=-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls'&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">debugflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">optflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="128">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_version=&quot;1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="132">
          <span class="hits">5</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="133">
          <span class="hits">5</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="134">
          <span class="hits">5</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="135">
          <span class="hits">5</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/site_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="138">
          <span class="hits">5</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/site_ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="139">
          <span class="hits">5</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="143">
          <span class="hits">5</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="144">
          <span class="hits">5</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="145">
          <span class="hits">5</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="146">
          <span class="hits">5</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/vendor_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p352/lib/ruby/vendor_ruby/1.8&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="d4800c0cb5229aba4dfb51e4d4284cd6791bac46">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.8.7-p358/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>148</b> relevant lines. 
      <span class="green"><b>148</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">CCDLFLAGS=&quot; -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">CFLAGS=&quot;-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls  -fPIC  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p358/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p358/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p358/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p358/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.8 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">LIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEDIRS=&quot;mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">MINOR=&quot;8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">NM=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">OBJDUMP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">PATCHLEVEL=&quot;358&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">RDOCTARGET=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">SOLIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">TEENY=&quot;7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">YACC=&quot;yacc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">YFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">cflags=&quot; &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.8.7-p358' '--disable-install-doc' '--enable-shared' 'CFLAGS=-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls'&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">debugflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">optflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="128">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_version=&quot;1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="132">
          <span class="hits">5</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="133">
          <span class="hits">5</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="134">
          <span class="hits">5</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="135">
          <span class="hits">5</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="138">
          <span class="hits">5</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/site_ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="139">
          <span class="hits">5</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="143">
          <span class="hits">5</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="144">
          <span class="hits">5</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="145">
          <span class="hits">5</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="146">
          <span class="hits">5</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/vendor_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p358/lib/ruby/vendor_ruby/1.8&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="2cd38b5e0a0bb625e1cee7a53eae7b02b487d7a6">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.8.7-p370/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>148</b> relevant lines. 
      <span class="green"><b>148</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">CCDLFLAGS=&quot; -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">CFLAGS=&quot;-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls  -fPIC  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p370/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p370/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p370/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p370/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.8 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">LIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEDIRS=&quot;mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">MINOR=&quot;8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">NM=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">OBJDUMP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">PATCHLEVEL=&quot;370&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">RDOCTARGET=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">SOLIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">TEENY=&quot;7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">YACC=&quot;yacc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">YFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">cflags=&quot; &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.8.7-p370' '--disable-install-doc' '--enable-shared' 'CFLAGS=-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls'&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">debugflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">optflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="128">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_version=&quot;1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="132">
          <span class="hits">5</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="133">
          <span class="hits">5</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="134">
          <span class="hits">5</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="135">
          <span class="hits">5</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/site_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="138">
          <span class="hits">5</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/site_ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="139">
          <span class="hits">5</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="143">
          <span class="hits">5</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="144">
          <span class="hits">5</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="145">
          <span class="hits">5</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="146">
          <span class="hits">5</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/vendor_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p370/lib/ruby/vendor_ruby/1.8&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="688640f15fead3ee3c31f3de40192b567f7ff34d">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.8.7-p371/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>148</b> relevant lines. 
      <span class="green"><b>148</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">CCDLFLAGS=&quot; -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">CFLAGS=&quot;-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls  -fPIC  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p371/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p371/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.8.7-p371/lib -L/usr/local/rvm/rubies/ruby-1.8.7-p371/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.8 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.8.7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">LIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEDIRS=&quot;mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">MINOR=&quot;8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">NM=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">OBJDUMP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">PATCHLEVEL=&quot;371&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">RDOCTARGET=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">SOLIBS=&quot;-lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">TEENY=&quot;7&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">YACC=&quot;yacc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">YFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">cflags=&quot; &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.8.7-p371' '--disable-install-doc' '--enable-shared' 'CFLAGS=-O3 -O2 -fno-tree-dce -fno-optimize-sibling-calls'&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">debugflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">optflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/share/doc/\$(PACKAGE)&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="128">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_version=&quot;1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="132">
          <span class="hits">5</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="133">
          <span class="hits">5</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="134">
          <span class="hits">5</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="135">
          <span class="hits">5</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/site_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="138">
          <span class="hits">5</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/site_ruby/1.8&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="139">
          <span class="hits">5</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="143">
          <span class="hits">5</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="144">
          <span class="hits">5</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="145">
          <span class="hits">5</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="146">
          <span class="hits">5</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/vendor_ruby/1.8/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/vendor_ruby/1.8&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="1fbf77604a5393d83c4617407c4e6a20678c78cb">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.9.2-p320/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>181</b> relevant lines. 
      <span class="green"><b>181</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="4" data-linenumber="1">
          <span class="hits">4</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="2">
          <span class="hits">4</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="3">
          <span class="hits">4</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="4">
          <span class="hits">4</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="5">
          <span class="hits">4</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="6">
          <span class="hits">4</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="7">
          <span class="hits">4</span>
          
          <code class="ruby">BASERUBY=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="8">
          <span class="hits">4</span>
          
          <code class="ruby">BUILTIN_TRANSSRCS=&quot; newline.c&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="9">
          <span class="hits">4</span>
          
          <code class="ruby">CAPITARGET=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="10">
          <span class="hits">4</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="11">
          <span class="hits">4</span>
          
          <code class="ruby">CCDLFLAGS=&quot;-fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="12">
          <span class="hits">4</span>
          
          <code class="ruby">CFLAGS=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-missing-field-initializers -Wno-long-long  -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="13">
          <span class="hits">4</span>
          
          <code class="ruby">CHDIR=&quot;cd -P&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="14">
          <span class="hits">4</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="15">
          <span class="hits">4</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="16">
          <span class="hits">4</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="17">
          <span class="hits">4</span>
          
          <code class="ruby">COUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="18">
          <span class="hits">4</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="19">
          <span class="hits">4</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="20">
          <span class="hits">4</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="21">
          <span class="hits">4</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="22">
          <span class="hits">4</span>
          
          <code class="ruby">CXX=&quot;g++&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="23">
          <span class="hits">4</span>
          
          <code class="ruby">CXXFLAGS=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-missing-field-initializers -Wno-long-long&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="24">
          <span class="hits">4</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="25">
          <span class="hits">4</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="26">
          <span class="hits">4</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="27">
          <span class="hits">4</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="28">
          <span class="hits">4</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="29">
          <span class="hits">4</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="30">
          <span class="hits">4</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="31">
          <span class="hits">4</span>
          
          <code class="ruby">DOT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="32">
          <span class="hits">4</span>
          
          <code class="ruby">DOXYGEN=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="33">
          <span class="hits">4</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="34">
          <span class="hits">4</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="35">
          <span class="hits">4</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="36">
          <span class="hits">4</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="37">
          <span class="hits">4</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="38">
          <span class="hits">4</span>
          
          <code class="ruby">EXECUTABLE_EXTS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="39">
          <span class="hits">4</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="40">
          <span class="hits">4</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="41">
          <span class="hits">4</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="42">
          <span class="hits">4</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="43">
          <span class="hits">4</span>
          
          <code class="ruby">GCC=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="44">
          <span class="hits">4</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="45">
          <span class="hits">4</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="46">
          <span class="hits">4</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="47">
          <span class="hits">4</span>
          
          <code class="ruby">INSTALLDOC=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="48">
          <span class="hits">4</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="49">
          <span class="hits">4</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="50">
          <span class="hits">4</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="51">
          <span class="hits">4</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="52">
          <span class="hits">4</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="53">
          <span class="hits">4</span>
          
          <code class="ruby">LDSHAREDXX=&quot;g++ -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="54">
          <span class="hits">4</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="55">
          <span class="hits">4</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="56">
          <span class="hits">4</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="57">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="58">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.2-p320/lib -L/usr/local/rvm/rubies/ruby-1.9.2-p320/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="59">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.2-p320/lib -L/usr/local/rvm/rubies/ruby-1.9.2-p320/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="60">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.2-p320/lib -L/usr/local/rvm/rubies/ruby-1.9.2-p320/lib -lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="61">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="62">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.9 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="63">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.9&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="64">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="65">
          <span class="hits">4</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="66">
          <span class="hits">4</span>
          
          <code class="ruby">LIBS=&quot;-lpthread -lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="67">
          <span class="hits">4</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="68">
          <span class="hits">4</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="69">
          <span class="hits">4</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="70">
          <span class="hits">4</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="71">
          <span class="hits">4</span>
          
          <code class="ruby">MAKEDIRS=&quot;/bin/mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="72">
          <span class="hits">4</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="73">
          <span class="hits">4</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="74">
          <span class="hits">4</span>
          
          <code class="ruby">MINOR=&quot;9&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="75">
          <span class="hits">4</span>
          
          <code class="ruby">MKDIR_P=&quot;/bin/mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="76">
          <span class="hits">4</span>
          
          <code class="ruby">NM=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="77">
          <span class="hits">4</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="78">
          <span class="hits">4</span>
          
          <code class="ruby">OBJCOPY=&quot;objcopy&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="79">
          <span class="hits">4</span>
          
          <code class="ruby">OBJDUMP=&quot;objdump&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="80">
          <span class="hits">4</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="81">
          <span class="hits">4</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="82">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="83">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="84">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="85">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="86">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="87">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="88">
          <span class="hits">4</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="89">
          <span class="hits">4</span>
          
          <code class="ruby">PATCHLEVEL=&quot;320&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="90">
          <span class="hits">4</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="91">
          <span class="hits">4</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="92">
          <span class="hits">4</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="93">
          <span class="hits">4</span>
          
          <code class="ruby">RDOCTARGET=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="94">
          <span class="hits">4</span>
          
          <code class="ruby">RI_BASE_NAME=&quot;ri&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="95">
          <span class="hits">4</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="96">
          <span class="hits">4</span>
          
          <code class="ruby">RMALL=&quot;rm -fr&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="97">
          <span class="hits">4</span>
          
          <code class="ruby">RMDIRS=&quot;\$(top_srcdir)/tool/rmdirs&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="98">
          <span class="hits">4</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="99">
          <span class="hits">4</span>
          
          <code class="ruby">RUBYW_BASE_NAME=&quot;rubyw&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="100">
          <span class="hits">4</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="101">
          <span class="hits">4</span>
          
          <code class="ruby">RUBY_BASE_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="102">
          <span class="hits">4</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="103">
          <span class="hits">4</span>
          
          <code class="ruby">RUBY_PROGRAM_VERSION=&quot;1.9.2&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="104">
          <span class="hits">4</span>
          
          <code class="ruby">RUBY_RELEASE_DATE=&quot;2012-04-20&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="105">
          <span class="hits">4</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="106">
          <span class="hits">4</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="107">
          <span class="hits">4</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="108">
          <span class="hits">4</span>
          
          <code class="ruby">SOLIBS=&quot;-lpthread -lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="109">
          <span class="hits">4</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="110">
          <span class="hits">4</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="111">
          <span class="hits">4</span>
          
          <code class="ruby">TEENY=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="112">
          <span class="hits">4</span>
          
          <code class="ruby">TEST_RUNNABLE=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="113">
          <span class="hits">4</span>
          
          <code class="ruby">THREAD_MODEL=&quot;pthread&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="114">
          <span class="hits">4</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="115">
          <span class="hits">4</span>
          
          <code class="ruby">UNIVERSAL_ARCHNAMES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="116">
          <span class="hits">4</span>
          
          <code class="ruby">UNIVERSAL_INTS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="117">
          <span class="hits">4</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="118">
          <span class="hits">4</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="119">
          <span class="hits">4</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="120">
          <span class="hits">4</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="121">
          <span class="hits">4</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="122">
          <span class="hits">4</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="123">
          <span class="hits">4</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="124">
          <span class="hits">4</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="125">
          <span class="hits">4</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="126">
          <span class="hits">4</span>
          
          <code class="ruby">cflags=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-missing-field-initializers -Wno-long-long&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="127">
          <span class="hits">4</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.9.2-p320' '--disable-install-doc' '--enable-shared'&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="128">
          <span class="hits">4</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="129">
          <span class="hits">4</span>
          
          <code class="ruby">cxxflags=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-missing-field-initializers -Wno-long-long&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="130">
          <span class="hits">4</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="131">
          <span class="hits">4</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="132">
          <span class="hits">4</span>
          
          <code class="ruby">debugflags=&quot;-ggdb&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="133">
          <span class="hits">4</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="134">
          <span class="hits">4</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="135">
          <span class="hits">4</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="136">
          <span class="hits">4</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="137">
          <span class="hits">4</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="138">
          <span class="hits">4</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="139">
          <span class="hits">4</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="140">
          <span class="hits">4</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="141">
          <span class="hits">4</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="142">
          <span class="hits">4</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="143">
          <span class="hits">4</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="144">
          <span class="hits">4</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="145">
          <span class="hits">4</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="146">
          <span class="hits">4</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="147">
          <span class="hits">4</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="148">
          <span class="hits">4</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="149">
          <span class="hits">4</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="150">
          <span class="hits">4</span>
          
          <code class="ruby">optflags=&quot;-O3&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="151">
          <span class="hits">4</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="152">
          <span class="hits">4</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="153">
          <span class="hits">4</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="154">
          <span class="hits">4</span>
          
          <code class="ruby">ridir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/share/ri&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="155">
          <span class="hits">4</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="156">
          <span class="hits">4</span>
          
          <code class="ruby">ruby_version=&quot;1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="157">
          <span class="hits">4</span>
          
          <code class="ruby">rubyhdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/include/ruby-1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="158">
          <span class="hits">4</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="159">
          <span class="hits">4</span>
          
          <code class="ruby">rubylibprefix=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="160">
          <span class="hits">4</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="161">
          <span class="hits">4</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="162">
          <span class="hits">4</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="163">
          <span class="hits">4</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="164">
          <span class="hits">4</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="165">
          <span class="hits">4</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/site_ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="166">
          <span class="hits">4</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="167">
          <span class="hits">4</span>
          
          <code class="ruby">sitehdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/include/ruby-1.9.1/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="168">
          <span class="hits">4</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/site_ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="169">
          <span class="hits">4</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="170">
          <span class="hits">4</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="171">
          <span class="hits">4</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="172">
          <span class="hits">4</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="173">
          <span class="hits">4</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="174">
          <span class="hits">4</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="175">
          <span class="hits">4</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="176">
          <span class="hits">4</span>
          
          <code class="ruby">try_header=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="177">
          <span class="hits">4</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/vendor_ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="178">
          <span class="hits">4</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="179">
          <span class="hits">4</span>
          
          <code class="ruby">vendorhdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/include/ruby-1.9.1/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="180">
          <span class="hits">4</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.2-p320/lib/ruby/vendor_ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="181">
          <span class="hits">4</span>
          
          <code class="ruby">warnflags=&quot;-Wextra -Wno-unused-parameter -Wno-parentheses -Wpointer-arith -Wwrite-strings -Wno-missing-field-initializers -Wno-long-long&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="dc5261aebcb99d6517d8eb2057636e7a55273422">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.9.3-p194/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>190</b> relevant lines. 
      <span class="green"><b>190</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">BASERUBY=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">BUILTIN_TRANSSRCS=&quot; newline.c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">CAPITARGET=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">CCDLFLAGS=&quot;-fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">CFLAGS=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration  -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">CHDIR=&quot;cd -P&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">COUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">CXX=&quot;g++&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">CXXFLAGS=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">DOT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">DOXYGEN=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">EXECUTABLE_EXTS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">GCC=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALLDOC=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHAREDXX=&quot;g++ -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.3-p194/lib -L/usr/local/rvm/rubies/ruby-1.9.3-p194/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.3-p194/lib -L/usr/local/rvm/rubies/ruby-1.9.3-p194/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.3-p194/lib -L/usr/local/rvm/rubies/ruby-1.9.3-p194/lib -lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.9 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.9&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_RELATIVE=&quot;no&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">LIBS=&quot;-lpthread -lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEDIRS=&quot;/bin/mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">MINOR=&quot;9&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">MKDIR_P=&quot;/bin/mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">NM=&quot;nm&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">NULLCMD=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">OBJCOPY=&quot;objcopy&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">OBJDUMP=&quot;objdump&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">PATCHLEVEL=&quot;194&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">PKG_CONFIG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">RDOCTARGET=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">RI_BASE_NAME=&quot;ri&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">RMALL=&quot;rm -fr&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">RMDIR=&quot;rmdir --ignore-fail-on-non-empty&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">RMDIRS=&quot;rmdir --ignore-fail-on-non-empty -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_BASE_NAME=&quot;rubyw&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_BASE_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_PROGRAM_VERSION=&quot;1.9.3&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_RELEASE_DATE=&quot;2012-04-20&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">SOLIBS=&quot;-lpthread -lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">SYMBOL_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">TEENY=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">TEST_RUNNABLE=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">THREAD_MODEL=&quot;pthread&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">UNIVERSAL_ARCHNAMES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">UNIVERSAL_INTS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">USE_RUBYGEMS=&quot;YES&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">WERRORFLAG=&quot;-Werror&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="128">
          <span class="hits">5</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="132">
          <span class="hits">5</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="133">
          <span class="hits">5</span>
          
          <code class="ruby">cflags=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="134">
          <span class="hits">5</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.9.3-p194' '--disable-install-doc' '--enable-shared'&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="135">
          <span class="hits">5</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">cxxflags=&quot; -O3 -ggdb -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="138">
          <span class="hits">5</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="139">
          <span class="hits">5</span>
          
          <code class="ruby">debugflags=&quot;-ggdb&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">exec=&quot;exec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="143">
          <span class="hits">5</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="144">
          <span class="hits">5</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="145">
          <span class="hits">5</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="146">
          <span class="hits">5</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="149">
          <span class="hits">5</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="150">
          <span class="hits">5</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="151">
          <span class="hits">5</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="152">
          <span class="hits">5</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="153">
          <span class="hits">5</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="154">
          <span class="hits">5</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="155">
          <span class="hits">5</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="156">
          <span class="hits">5</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="157">
          <span class="hits">5</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="158">
          <span class="hits">5</span>
          
          <code class="ruby">optflags=&quot;-O3&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="159">
          <span class="hits">5</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="160">
          <span class="hits">5</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="161">
          <span class="hits">5</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="162">
          <span class="hits">5</span>
          
          <code class="ruby">ridir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/share/ri&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="163">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="164">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_pc=&quot;ruby-1.9.pc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="165">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_version=&quot;1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="166">
          <span class="hits">5</span>
          
          <code class="ruby">rubyhdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/include/ruby-1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="167">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="168">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibprefix=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="169">
          <span class="hits">5</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="170">
          <span class="hits">5</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="171">
          <span class="hits">5</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="172">
          <span class="hits">5</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="173">
          <span class="hits">5</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="174">
          <span class="hits">5</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="175">
          <span class="hits">5</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="176">
          <span class="hits">5</span>
          
          <code class="ruby">sitehdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/include/ruby-1.9.1/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="177">
          <span class="hits">5</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="178">
          <span class="hits">5</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="179">
          <span class="hits">5</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="180">
          <span class="hits">5</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="181">
          <span class="hits">5</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="182">
          <span class="hits">5</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="183">
          <span class="hits">5</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="184">
          <span class="hits">5</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="185">
          <span class="hits">5</span>
          
          <code class="ruby">try_header=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="186">
          <span class="hits">5</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/vendor_ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="187">
          <span class="hits">5</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="188">
          <span class="hits">5</span>
          
          <code class="ruby">vendorhdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/include/ruby-1.9.1/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="189">
          <span class="hits">5</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/vendor_ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="190">
          <span class="hits">5</span>
          
          <code class="ruby">warnflags=&quot;-Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="f995a6f9a69a00eda922a5523ac6876679d464f2">
  <div class="header">
    <h3>/usr/local/rvm/rubies/ruby-1.9.3-p392/config</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>191</b> relevant lines. 
      <span class="green"><b>191</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="covered" data-hits="5" data-linenumber="1">
          <span class="hits">5</span>
          
          <code class="ruby">ALLOCA=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="2">
          <span class="hits">5</span>
          
          <code class="ruby">AR=&quot;ar&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">ARCHFILE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="4">
          <span class="hits">5</span>
          
          <code class="ruby">ARCH_FLAG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">AS=&quot;as&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="6">
          <span class="hits">5</span>
          
          <code class="ruby">ASFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">BASERUBY=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">BUILTIN_TRANSSRCS=&quot; newline.c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="9">
          <span class="hits">5</span>
          
          <code class="ruby">CAPITARGET=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">CC=&quot;gcc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="11">
          <span class="hits">5</span>
          
          <code class="ruby">CCDLFLAGS=&quot;-fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="12">
          <span class="hits">5</span>
          
          <code class="ruby">CFLAGS=&quot; -O3 -ggdb -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration  -fPIC&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">CHDIR=&quot;cd -P&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="14">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_HEADERS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_LIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">COMMON_MACROS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">COUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="18">
          <span class="hits">5</span>
          
          <code class="ruby">CP=&quot;cp&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="19">
          <span class="hits">5</span>
          
          <code class="ruby">CPP=&quot;gcc -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="20">
          <span class="hits">5</span>
          
          <code class="ruby">CPPFLAGS=&quot;  &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="21">
          <span class="hits">5</span>
          
          <code class="ruby">CPPOUTFILE=&quot;-o conftest.i&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="22">
          <span class="hits">5</span>
          
          <code class="ruby">CXX=&quot;g++&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">CXXFLAGS=&quot; -O3 -ggdb -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="24">
          <span class="hits">5</span>
          
          <code class="ruby">DEFS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">DESTDIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="26">
          <span class="hits">5</span>
          
          <code class="ruby">DLDFLAGS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">DLDLIBS=&quot; -lc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="28">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT=&quot;so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="29">
          <span class="hits">5</span>
          
          <code class="ruby">DLEXT2=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="30">
          <span class="hits">5</span>
          
          <code class="ruby">DLLWRAP=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="31">
          <span class="hits">5</span>
          
          <code class="ruby">DOT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="32">
          <span class="hits">5</span>
          
          <code class="ruby">DOXYGEN=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_C=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_N=&quot;-n&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">ECHO_T=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">EGREP=&quot;/bin/grep -E&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">ENABLE_SHARED=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="38">
          <span class="hits">5</span>
          
          <code class="ruby">EXECUTABLE_EXTS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">EXEEXT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="40">
          <span class="hits">5</span>
          
          <code class="ruby">EXPORT_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="41">
          <span class="hits">5</span>
          
          <code class="ruby">EXTOUT=&quot;.ext&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="42">
          <span class="hits">5</span>
          
          <code class="ruby">EXTSTATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="43">
          <span class="hits">5</span>
          
          <code class="ruby">GCC=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="44">
          <span class="hits">5</span>
          
          <code class="ruby">GNU_LD=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="45">
          <span class="hits">5</span>
          
          <code class="ruby">GREP=&quot;/bin/grep&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="46">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="47">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALLDOC=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="48">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_DATA=&quot;/usr/bin/install -c -m 644&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="49">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_PROGRAM=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="50">
          <span class="hits">5</span>
          
          <code class="ruby">INSTALL_SCRIPT=&quot;/usr/bin/install -c&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="51">
          <span class="hits">5</span>
          
          <code class="ruby">LDFLAGS=&quot;-L.  -rdynamic -Wl,-export-dynamic&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="52">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">LDSHAREDXX=&quot;g++ -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">LIBEXT=&quot;a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="55">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHENV=&quot;LD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">LIBPATHFLAG=&quot; -L%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="57">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY=&quot;libruby.so.1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.3-p392/lib -L/usr/local/rvm/rubies/ruby-1.9.3-p392/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="59">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_SHARED=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.3-p392/lib -L/usr/local/rvm/rubies/ruby-1.9.3-p392/lib -lruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBYARG_STATIC=&quot;-Wl,-R -Wl,/usr/local/rvm/rubies/ruby-1.9.3-p392/lib -L/usr/local/rvm/rubies/ruby-1.9.3-p392/lib -lruby-static&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="61">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_A=&quot;libruby-static.a&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="62">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_ALIASES=&quot;libruby.so.1.9 libruby.so&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_DLDFLAGS=&quot;-Wl,-soname,libruby.so.1.9&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="64">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_LDSHARED=&quot;gcc -shared&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_RELATIVE=&quot;no&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">LIBRUBY_SO=&quot;libruby.so.1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="67">
          <span class="hits">5</span>
          
          <code class="ruby">LIBS=&quot;-lpthread -lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">LINK_SO=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="69">
          <span class="hits">5</span>
          
          <code class="ruby">LN_S=&quot;ln -s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="70">
          <span class="hits">5</span>
          
          <code class="ruby">MAINLIBS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">MAJOR=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="72">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEDIRS=&quot;/bin/mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="73">
          <span class="hits">5</span>
          
          <code class="ruby">MAKEFILES=&quot;Makefile&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">MANTYPE=&quot;man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="75">
          <span class="hits">5</span>
          
          <code class="ruby">MINOR=&quot;9&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="76">
          <span class="hits">5</span>
          
          <code class="ruby">MKDIR_P=&quot;/bin/mkdir -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="77">
          <span class="hits">5</span>
          
          <code class="ruby">NM=&quot;nm&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="78">
          <span class="hits">5</span>
          
          <code class="ruby">NROFF=&quot;/bin/false&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">NULLCMD=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="80">
          <span class="hits">5</span>
          
          <code class="ruby">OBJCOPY=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="81">
          <span class="hits">5</span>
          
          <code class="ruby">OBJDUMP=&quot;objdump&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="82">
          <span class="hits">5</span>
          
          <code class="ruby">OBJEXT=&quot;o&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="83">
          <span class="hits">5</span>
          
          <code class="ruby">OUTFLAG=&quot;-o &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="85">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_BUGREPORT=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="86">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_STRING=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="88">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_TARNAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_URL=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="90">
          <span class="hits">5</span>
          
          <code class="ruby">PACKAGE_VERSION=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="91">
          <span class="hits">5</span>
          
          <code class="ruby">PATCHLEVEL=&quot;392&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="92">
          <span class="hits">5</span>
          
          <code class="ruby">PATH_SEPARATOR=&quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="93">
          <span class="hits">5</span>
          
          <code class="ruby">PKG_CONFIG=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="94">
          <span class="hits">5</span>
          
          <code class="ruby">PLATFORM_DIR=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="95">
          <span class="hits">5</span>
          
          <code class="ruby">PREP=&quot;miniruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="96">
          <span class="hits">5</span>
          
          <code class="ruby">RANLIB=&quot;ranlib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="97">
          <span class="hits">5</span>
          
          <code class="ruby">RDOCTARGET=&quot;nodoc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="98">
          <span class="hits">5</span>
          
          <code class="ruby">RI_BASE_NAME=&quot;ri&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="99">
          <span class="hits">5</span>
          
          <code class="ruby">RM=&quot;rm -f&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="100">
          <span class="hits">5</span>
          
          <code class="ruby">RMALL=&quot;rm -fr&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="101">
          <span class="hits">5</span>
          
          <code class="ruby">RMDIR=&quot;rmdir --ignore-fail-on-non-empty&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="102">
          <span class="hits">5</span>
          
          <code class="ruby">RMDIRS=&quot;rmdir --ignore-fail-on-non-empty -p&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="103">
          <span class="hits">5</span>
          
          <code class="ruby">RPATHFLAG=&quot; -Wl,-R%1\$-s&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="104">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_BASE_NAME=&quot;rubyw&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="105">
          <span class="hits">5</span>
          
          <code class="ruby">RUBYW_INSTALL_NAME=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="106">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_BASE_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="107">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_INSTALL_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="108">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_PROGRAM_VERSION=&quot;1.9.3&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="109">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_RELEASE_DATE=&quot;2013-02-22&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="110">
          <span class="hits">5</span>
          
          <code class="ruby">RUBY_SO_NAME=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="111">
          <span class="hits">5</span>
          
          <code class="ruby">SET_MAKE=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="112">
          <span class="hits">5</span>
          
          <code class="ruby">SHELL=&quot;/bin/bash&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="113">
          <span class="hits">5</span>
          
          <code class="ruby">SOLIBS=&quot;-lpthread -lrt -ldl -lcrypt -lm &quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="114">
          <span class="hits">5</span>
          
          <code class="ruby">STATIC=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="115">
          <span class="hits">5</span>
          
          <code class="ruby">STRIP=&quot;strip -S -x&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="116">
          <span class="hits">5</span>
          
          <code class="ruby">SYMBOL_PREFIX=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="117">
          <span class="hits">5</span>
          
          <code class="ruby">TEENY=&quot;1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="118">
          <span class="hits">5</span>
          
          <code class="ruby">TEST_RUNNABLE=&quot;yes&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="119">
          <span class="hits">5</span>
          
          <code class="ruby">THREAD_MODEL=&quot;pthread&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="120">
          <span class="hits">5</span>
          
          <code class="ruby">TRY_LINK=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="121">
          <span class="hits">5</span>
          
          <code class="ruby">UNIVERSAL_ARCHNAMES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="122">
          <span class="hits">5</span>
          
          <code class="ruby">UNIVERSAL_INTS=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="123">
          <span class="hits">5</span>
          
          <code class="ruby">USE_RUBYGEMS=&quot;YES&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="124">
          <span class="hits">5</span>
          
          <code class="ruby">WERRORFLAG=&quot;-Werror&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">WINDRES=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="126">
          <span class="hits">5</span>
          
          <code class="ruby">arch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="127">
          <span class="hits">5</span>
          
          <code class="ruby">archdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="128">
          <span class="hits">5</span>
          
          <code class="ruby">bindir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="129">
          <span class="hits">5</span>
          
          <code class="ruby">build=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="130">
          <span class="hits">5</span>
          
          <code class="ruby">build_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="131">
          <span class="hits">5</span>
          
          <code class="ruby">build_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="132">
          <span class="hits">5</span>
          
          <code class="ruby">build_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="133">
          <span class="hits">5</span>
          
          <code class="ruby">build_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="134">
          <span class="hits">5</span>
          
          <code class="ruby">cflags=&quot; -O3 -ggdb -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="135">
          <span class="hits">5</span>
          
          <code class="ruby">configure_args=&quot; '--prefix=/usr/local/rvm/rubies/ruby-1.9.3-p392' '--with-zlib-dir=/usr/local/rvm/usr' '--disable-install-doc' '--enable-shared'&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="136">
          <span class="hits">5</span>
          
          <code class="ruby">cppflags=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="137">
          <span class="hits">5</span>
          
          <code class="ruby">cxxflags=&quot; -O3 -ggdb -Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="138">
          <span class="hits">5</span>
          
          <code class="ruby">datadir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="139">
          <span class="hits">5</span>
          
          <code class="ruby">datarootdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="140">
          <span class="hits">5</span>
          
          <code class="ruby">debugflags=&quot;-ggdb&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="141">
          <span class="hits">5</span>
          
          <code class="ruby">docdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="142">
          <span class="hits">5</span>
          
          <code class="ruby">dvidir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="143">
          <span class="hits">5</span>
          
          <code class="ruby">exec=&quot;exec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="144">
          <span class="hits">5</span>
          
          <code class="ruby">exec_prefix=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="145">
          <span class="hits">5</span>
          
          <code class="ruby">host=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="146">
          <span class="hits">5</span>
          
          <code class="ruby">host_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="147">
          <span class="hits">5</span>
          
          <code class="ruby">host_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="148">
          <span class="hits">5</span>
          
          <code class="ruby">host_os=&quot;linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="149">
          <span class="hits">5</span>
          
          <code class="ruby">host_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="150">
          <span class="hits">5</span>
          
          <code class="ruby">htmldir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="151">
          <span class="hits">5</span>
          
          <code class="ruby">includedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="152">
          <span class="hits">5</span>
          
          <code class="ruby">infodir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/info&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="153">
          <span class="hits">5</span>
          
          <code class="ruby">libdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="154">
          <span class="hits">5</span>
          
          <code class="ruby">libexecdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/libexec&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="155">
          <span class="hits">5</span>
          
          <code class="ruby">localedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/locale&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="156">
          <span class="hits">5</span>
          
          <code class="ruby">localstatedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/var&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="157">
          <span class="hits">5</span>
          
          <code class="ruby">mandir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/man&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="158">
          <span class="hits">5</span>
          
          <code class="ruby">oldincludedir=&quot;/usr/include&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="159">
          <span class="hits">5</span>
          
          <code class="ruby">optflags=&quot;-O3&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="160">
          <span class="hits">5</span>
          
          <code class="ruby">pdfdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="161">
          <span class="hits">5</span>
          
          <code class="ruby">prefix=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="162">
          <span class="hits">5</span>
          
          <code class="ruby">psdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/doc/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="163">
          <span class="hits">5</span>
          
          <code class="ruby">ridir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/share/ri&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="164">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_install_name=&quot;ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="165">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_pc=&quot;ruby-1.9.pc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="166">
          <span class="hits">5</span>
          
          <code class="ruby">ruby_version=&quot;1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="167">
          <span class="hits">5</span>
          
          <code class="ruby">rubyhdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/include/ruby-1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="168">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="169">
          <span class="hits">5</span>
          
          <code class="ruby">rubylibprefix=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="170">
          <span class="hits">5</span>
          
          <code class="ruby">rubyw_install_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="171">
          <span class="hits">5</span>
          
          <code class="ruby">sbindir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/sbin&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="172">
          <span class="hits">5</span>
          
          <code class="ruby">setup=&quot;Setup&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="173">
          <span class="hits">5</span>
          
          <code class="ruby">sharedstatedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/com&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="174">
          <span class="hits">5</span>
          
          <code class="ruby">sitearch=&quot;x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="175">
          <span class="hits">5</span>
          
          <code class="ruby">sitearchdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/site_ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="176">
          <span class="hits">5</span>
          
          <code class="ruby">sitedir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="177">
          <span class="hits">5</span>
          
          <code class="ruby">sitehdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/include/ruby-1.9.1/site_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="178">
          <span class="hits">5</span>
          
          <code class="ruby">sitelibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/site_ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="179">
          <span class="hits">5</span>
          
          <code class="ruby">sysconfdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/etc&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="180">
          <span class="hits">5</span>
          
          <code class="ruby">target=&quot;x86_64-unknown-linux-gnu&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="181">
          <span class="hits">5</span>
          
          <code class="ruby">target_alias=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="182">
          <span class="hits">5</span>
          
          <code class="ruby">target_cpu=&quot;x86_64&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="183">
          <span class="hits">5</span>
          
          <code class="ruby">target_os=&quot;linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="184">
          <span class="hits">5</span>
          
          <code class="ruby">target_vendor=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="185">
          <span class="hits">5</span>
          
          <code class="ruby">topdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="186">
          <span class="hits">5</span>
          
          <code class="ruby">try_header=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="187">
          <span class="hits">5</span>
          
          <code class="ruby">vendorarchdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/vendor_ruby/1.9.1/x86_64-linux&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="188">
          <span class="hits">5</span>
          
          <code class="ruby">vendordir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="189">
          <span class="hits">5</span>
          
          <code class="ruby">vendorhdrdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/include/ruby-1.9.1/vendor_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="190">
          <span class="hits">5</span>
          
          <code class="ruby">vendorlibdir=&quot;/usr/local/rvm/rubies/ruby-1.9.3-p392/lib/ruby/vendor_ruby/1.9.1&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="191">
          <span class="hits">5</span>
          
          <code class="ruby">warnflags=&quot;-Wall -Wextra -Wno-unused-parameter -Wno-parentheses -Wno-long-long -Wno-missing-field-initializers -Werror=pointer-arith -Werror=write-strings -Werror=declaration-after-statement -Werror=implicit-function-declaration&quot;</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="49904bc47f734d8045b59698b938bf50e7ea0791">
  <div class="header">
    <h3>/usr/local/rvm/scripts/alias</h3>
    <h4><span class="red">69.03 %</span> covered</h4>
    <div>
      <b>113</b> relevant lines. 
      <span class="green"><b>78</b> lines covered</span> and
      <span class="red"><b>35</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="3">
          <span class="hits">38</span>
          
          <code class="ruby">unset rvm_default_flag rvm_wrapper_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="5">
          <span class="hits">38</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">usage() {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">  Usage:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">    rvm alias [action] [arguments]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">  Examples:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">    rvm alias create [alias_name] [ruby]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">    rvm alias delete [alias_name]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">    rvm alias show [alias_name]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">    rvm alias list</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">alias_show() {</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="25">
          <span class="hits">5</span>
          
          <code class="ruby">  typeset expanded_alias_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="27">
          <span class="hits">5</span>
          
          <code class="ruby">  if [[ -z &quot;$alias_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    rvm_log &quot;usage: 'rvm alias show [alias_name]'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">    result=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    return</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="34">
          <span class="hits">8</span>
          
          <code class="ruby">  [[ -s &quot;$rvm_path/config/alias&quot; ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="36">
          <span class="hits">4</span>
          
          <code class="ruby">  expanded_alias_name=&quot;$(&quot;$rvm_scripts_path&quot;/db &quot;$rvm_path/config/alias&quot; &quot;$alias_name&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="38">
          <span class="hits">2</span>
          
          <code class="ruby">  if [[ -z &quot;$expanded_alias_name&quot; ]]; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    rvm_error &quot;Unknown alias name: '$alias_name'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">    result=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="42">
          <span class="hits">2</span>
          
          <code class="ruby">    result=0</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="43">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ -n &quot;$gemset_name&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${expanded_alias_name}${rvm_gemset_separator:-&quot;@&quot;}${gemset_name}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="46">
          <span class="hits">2</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${expanded_alias_name}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">alias_after_delete_default()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="53">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_log &quot;Deleting default links/files&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="55">
          <span class="hits">3</span>
          
          <code class="ruby">  for _path in $rvm_bin_path/default_*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    # remove default_ruby</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="58">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -f &quot;$_path&quot; ]] &amp;&amp; \rm -rf ${_path}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    # remove ruby</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="60">
          <span class="hits">3</span>
          
          <code class="ruby">    _path=${_path#default_}</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="61">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -f &quot;$_path&quot; ]] &amp;&amp; \rm -rf ${_path}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="64">
          <span class="hits">27</span>
          
          <code class="ruby">  for wrapper in &quot;$rvm_path&quot;/wrappers/default/* gem irb erb ri rdoc testrb rake ruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="66">
          <span class="hits">27</span>
          
          <code class="ruby">    wrapper=&quot;${wrapper##*\/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="67">
          <span class="hits">27</span>
          
          <code class="ruby">    \rm -f &quot;$rvm_bin_path/${wrapper}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    # If the RVM bin path is different from rvm_path/bin, ensure they are</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    # in sync.</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="71">
          <span class="hits">27</span>
          
          <code class="ruby">    if [[ &quot;${rvm_bin_path}&quot; != &quot;${rvm_path}/bin&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="72">
          
          
          <code class="ruby">    then \rm -f &quot;${rvm_path}/bin/${wrapper}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">alias_delete() {</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="78">
          <span class="hits">6</span>
          
          <code class="ruby">  rvm_log &quot;Deleting alias: $alias_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="80">
          <span class="hits">18</span>
          
          <code class="ruby">  for _path in &quot;$rvm_rubies_path&quot; &quot;$rvm_environments_path&quot; &quot;$rvm_wrappers_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="82">
          <span class="hits">33</span>
          
          <code class="ruby">    [[ -L &quot;$_path/$alias_name&quot; ]] &amp;&amp; \rm -f &quot;$_path/$alias_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="85">
          <span class="hits">7</span>
          
          <code class="ruby">  [[ -s &quot;$rvm_path/config/alias&quot; ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="87">
          <span class="hits">5</span>
          
          <code class="ruby">  &quot;$rvm_scripts_path&quot;/db &quot;$rvm_path/config/alias&quot; &quot;$alias_name&quot; &quot;delete&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="89">
          <span class="hits">5</span>
          
          <code class="ruby">  if [[ &quot;default&quot; == &quot;$alias_name&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="90">
          <span class="hits">3</span>
          
          <code class="ruby">    alias_after_delete_default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">alias_after_create_default()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="96">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_log &quot;Creating default links/files&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="98">
          <span class="hits">3</span>
          
          <code class="ruby">  environment_id=&quot;${final_environment_identifier}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="100">
          <span class="hits">3</span>
          
          <code class="ruby">  if (( ${rvm_user_install_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    # Sets up the default wrappers.</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="103">
          <span class="hits">3</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/wrapper&quot; &quot;$rvm_ruby_string&quot; --no-prefix</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="105">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/wrapper&quot; &quot;$rvm_ruby_string&quot; &quot;default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="108">
          <span class="hits">9</span>
          
          <code class="ruby">  RUBY_VERSION=&quot;$(&quot;$rvm_ruby_home/bin/ruby&quot; -v | \sed 's#^\(.*\) (.*$#\1#')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="110">
          <span class="hits">3</span>
          
          <code class="ruby">  export GEM_HOME GEM_PATH MY_RUBY_HOME RUBY_VERSION</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">  # Copy wrapper scripts for the newly set default to the RVM bin path.</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="113">
          <span class="hits">24</span>
          
          <code class="ruby">  for wrapper in &quot;$rvm_path&quot;/wrappers/default/*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="115">
          <span class="hits">24</span>
          
          <code class="ruby">    [[ -r &quot;${wrapper}&quot; ]] || continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="117">
          <span class="hits">24</span>
          
          <code class="ruby">    if [[ -L &quot;$rvm_bin_path/${wrapper##*\/}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="119">
          <span class="hits">24</span>
          
          <code class="ruby">      \rm -f &quot;$rvm_bin_path/${wrapper##*\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="122">
          <span class="hits">24</span>
          
          <code class="ruby">    \cp -f &quot;$wrapper&quot; &quot;$rvm_bin_path/${wrapper##*\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">    # If the RVM bin path is different from rvm_path/bin, ensure they are</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    # in sync.</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="126">
          <span class="hits">24</span>
          
          <code class="ruby">    if [[ &quot;${rvm_bin_path}&quot; != &quot;${rvm_path}/bin&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">      \cp -f &quot;${wrapper}&quot; &quot;${rvm_path}/bin/&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">alias_create()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="135">
          <span class="hits">6</span>
          
          <code class="ruby">  alias_name=&quot;${alias_name:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="136">
          <span class="hits">6</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;$rvm_environment_identifier&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="137">
          <span class="hits">6</span>
          
          <code class="ruby">  rvm_expanding_aliases=1</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="138">
          <span class="hits">6</span>
          
          <code class="ruby">  __rvm_become</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="139">
          <span class="hits">6</span>
          
          <code class="ruby">  unset rvm_expanding_aliases</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="142">
          <span class="hits">18</span>
          
          <code class="ruby">    [[ -z &quot;${rvm_environment_identifier:-&quot;&quot;}&quot; || -z &quot;$rvm_ruby_string&quot; || -z &quot;$alias_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">    rvm_error &quot;usage: 'rvm alias [alias_name] [ruby_string]'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="147">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="148">
          <span class="hits">11</span>
          
          <code class="ruby">    [[ ! -L &quot;$rvm_rubies_path/$alias_name&quot; &amp;&amp; -d &quot;$rvm_rubies_path/$alias_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">    rvm_error &quot;$alias_name is a full ruby name and can not be used as alias name.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">    return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="154">
          <span class="hits">6</span>
          
          <code class="ruby">    final_environment_identifier=&quot;${rvm_ruby_string:-$(__rvm_env_string)}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="156">
          <span class="hits">6</span>
          
          <code class="ruby">    rvm_log &quot;Creating alias $alias_name for $final_environment_identifier.&quot;</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="157">
          <span class="hits">18</span>
          
          <code class="ruby">    for _path in &quot;$rvm_rubies_path&quot; &quot;$rvm_environments_path&quot; &quot;$rvm_wrappers_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="159">
          <span class="hits">18</span>
          
          <code class="ruby">      [[ -L &quot;$_path/default&quot; ]] &amp;&amp; \rm -f &quot;$_path/$alias_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="160">
          <span class="hits">18</span>
          
          <code class="ruby">      \ln -fs &quot;$_path/$rvm_ruby_string&quot; &quot;$_path/$alias_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="163">
          <span class="hits">6</span>
          
          <code class="ruby">    rvm_log &quot;Recording alias $alias_name for $final_environment_identifier.&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="164">
          <span class="hits">6</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path&quot;/db &quot;$rvm_path/config/alias&quot; &quot;$alias_name&quot; &quot;$final_environment_identifier&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="166">
          <span class="hits">9</span>
          
          <code class="ruby">    [[ &quot;default&quot; != &quot;$alias_name&quot; ]] || alias_after_create_default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">alias_list() {</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="171">
          <span class="hits">12</span>
          
          <code class="ruby">  typeset item</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="172">
          <span class="hits">18</span>
          
          <code class="ruby">  case &quot;${alias_name}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="173">
          
          
          <code class="ruby">    (names)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">      cat - # just show it</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">      while</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="178">
          <span class="hits">9</span>
          
          <code class="ruby">        read item</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="180">
          <span class="hits">8</span>
          
          <code class="ruby">        echo &quot;$item =&gt; $(&quot;$rvm_scripts_path&quot;/db &quot;$rvm_path/config/alias&quot; &quot;$item&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">  esac &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">    __rvm_cd &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">    find . -maxdepth 1 -mindepth 1 -type l | sed -e 's#.*/##'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">alias_search_by_target() {</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="190">
          <span class="hits">15</span>
          
          <code class="ruby">  typeset item items target search</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="191">
          <span class="hits">15</span>
          
          <code class="ruby">  search=&quot;${alias_name}@${gemset_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="193">
          <span class="hits">60</span>
          
          <code class="ruby">  items=($(__rvm_cd &quot;$rvm_rubies_path&quot; ; find . -maxdepth 1 -mindepth 1 -type l | sed -e 's#./##'))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="195">
          <span class="hits">2</span>
          
          <code class="ruby">  for item in &quot;${items[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="197">
          <span class="hits">6</span>
          
          <code class="ruby">    target=$(&quot;$rvm_scripts_path&quot;/db &quot;$rvm_path/config/alias&quot; &quot;$(basename &quot;$item&quot;)&quot;)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="198">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ &quot;${search}&quot; == &quot;${target}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">      echo &quot;$(basename &quot;$item&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="205">
          <span class="hits">38</span>
          
          <code class="ruby">args=($*)</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="206">
          <span class="hits">38</span>
          
          <code class="ruby">action=&quot;${args[0]:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="207">
          <span class="hits">38</span>
          
          <code class="ruby">alias_name=&quot;${args[1]:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="208">
          <span class="hits">38</span>
          
          <code class="ruby">rvm_environment_identifier=&quot;${args[2]:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="209">
          <span class="hits">76</span>
          
          <code class="ruby">args=&quot;$(echo ${args[@]:3})&quot; # Strip trailing / leading / extra spacing.</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="210">
          <span class="hits">38</span>
          
          <code class="ruby">result=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="212">
          <span class="hits">38</span>
          
          <code class="ruby">if [[ ! -f &quot;$rvm_path/config/alias&quot; ]] ; then touch &quot;$rvm_path/config/alias&quot; ; fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="114" data-linenumber="214">
          <span class="hits">114</span>
          
          <code class="ruby">if printf &quot;%b&quot; &quot;$alias_name&quot; | GREP_OPTIONS=&quot;&quot; \grep &quot;${rvm_gemset_separator:-&quot;@&quot;}&quot; &gt;/dev/null 2&gt;&amp;1 ; then</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="215">
          <span class="hits">15</span>
          
          <code class="ruby">  gemset_name=&quot;${alias_name/*${rvm_gemset_separator:-&quot;@&quot;}/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="216">
          <span class="hits">15</span>
          
          <code class="ruby">  alias_name=&quot;${alias_name/${rvm_gemset_separator:-&quot;@&quot;}*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="218">
          <span class="hits">23</span>
          
          <code class="ruby">  gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="221">
          <span class="hits">38</span>
          
          <code class="ruby">case &quot;$action&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">  delete|create|list|show|search_by_target)</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="223">
          <span class="hits">38</span>
          
          <code class="ruby">    alias_${action}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="225">
          
          
          <code class="ruby">  help|usage)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">    usage</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="228">
          
          
          <code class="ruby">  *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="229">
          
          
          <code class="ruby">    usage</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="230">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="234">
          <span class="hits">38</span>
          
          <code class="ruby">exit $?</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="08743d84fc1e54d90fb373ac0bfbdfa7526f6fed">
  <div class="header">
    <h3>/usr/local/rvm/scripts/base</h3>
    <h4><span class="red">57.89 %</span> covered</h4>
    <div>
      <b>57</b> relevant lines. 
      <span class="green"><b>33</b> lines covered</span> and
      <span class="red"><b>24</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Base is a collection of general files + commonly included setup functions.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#duplicated from scripts/rvm - rare reload issue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">__rvm_has_opt()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="801" data-linenumber="9">
          <span class="hits">801</span>
          
          <code class="ruby">    [[ -n &quot;${ZSH_VERSION}&quot;  ]] &amp;&amp; setopt | \grep &quot;^${1}$&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">  } ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="1602" data-linenumber="12">
          <span class="hits">1602</span>
          
          <code class="ruby">    [[ -n &quot;${BASH_VERSION}&quot; ]] &amp;&amp; [[ &quot;:$SHELLOPTS:&quot; =~ &quot;:${1}:&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">  } ||</code>
        </li>
      
        <li class="covered" data-hits="801" data-linenumber="14">
          <span class="hits">801</span>
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="17">
          <span class="hits">528</span>
          
          <code class="ruby">if __rvm_has_opt &quot;errexit&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">then rvm_stored_errexit=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="21">
          <span class="hits">528</span>
          
          <code class="ruby">set +e</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="23">
          <span class="hits">528</span>
          
          <code class="ruby">: rvm_trace_flag:${rvm_trace_flag:=0}</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="24">
          <span class="hits">528</span>
          
          <code class="ruby">if (( rvm_trace_flag &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  set -o xtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  if [[ -z &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    #  set -o errtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    #  set -o pipefail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">    export PS4</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">    PS4=&quot;+ \$(date \&quot;+%s.%N\&quot;) \${BASH_SOURCE##\${rvm_path:-}} : \${FUNCNAME[0]:+\${FUNCNAME[0]}()}  \${LINENO} &gt; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="38">
          <span class="hits">528</span>
          
          <code class="ruby">export __array_start rvm_path &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"># Setup environment parameters.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="43">
          <span class="hits">528</span>
          
          <code class="ruby">if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">  __array_start=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="47">
          <span class="hits">528</span>
          
          <code class="ruby">  __array_start=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="50">
          <span class="hits">528</span>
          
          <code class="ruby">if (( ${rvm_ignore_rvmrc:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="497" data-linenumber="52">
          <span class="hits">497</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_stored_umask:-}&quot; ]] || export rvm_stored_umask=$(umask)</code>
        </li>
      
        <li class="covered" data-hits="497" data-linenumber="53">
          <span class="hits">497</span>
          
          <code class="ruby">  rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="covered" data-hits="994" data-linenumber="54">
          <span class="hits">994</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp; ! [[ &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="497" data-linenumber="55">
          <span class="hits">497</span>
          
          <code class="ruby">     then rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1491" data-linenumber="58">
          <span class="hits">1491</span>
          
          <code class="ruby">  for rvmrc in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="1491" data-linenumber="60">
          <span class="hits">1491</span>
          
          <code class="ruby">    if [[ -f &quot;$rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="994" data-linenumber="62">
          <span class="hits">994</span>
          
          <code class="ruby">      if GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$rvmrc&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">Error:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">        $rvmrc is for rvm settings only.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">        rvm CLI may NOT be called from within $rvmrc.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">        Skipping the loading of $rvmrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="497" data-linenumber="71">
          <span class="hits">497</span>
          
          <code class="ruby">        source &quot;$rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="497" data-linenumber="75">
          <span class="hits">497</span>
          
          <code class="ruby">  unset rvm_rvmrc_files</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="78">
          <span class="hits">528</span>
          
          <code class="ruby">export rvm_path</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="79">
          <span class="hits">528</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">  if (( UID == 0 )) &amp;&amp; [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">  then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">  elif [[ -d &quot;${HOME}/.rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">  then rvm_path=&quot;${HOME}/.rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">  elif [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">  then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="87">
          
          
          <code class="ruby">  else echo &quot;Can't find rvm install!&quot; 1&gt;&amp;2 ; exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="91">
          <span class="hits">528</span>
          
          <code class="ruby">true ${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"># Initialize all main RVM variables.</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="94">
          <span class="hits">528</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/initialize&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby"># Load the general scripts.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby"># Use rvm_base_except=&quot;selector&quot;, for example, to override the loading.</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="98">
          <span class="hits">528</span>
          
          <code class="ruby">case &quot; ${rvm_base_except:-} &quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">  (*[[:space:]]selector[[:space:]]*)</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="100">
          <span class="hits">21</span>
          
          <code class="ruby">    true # do not load.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">  (*)</code>
        </li>
      
        <li class="covered" data-hits="507" data-linenumber="103">
          <span class="hits">507</span>
          
          <code class="ruby">    source &quot;$rvm_scripts_path/selector&quot;</code>
        </li>
      
        <li class="covered" data-hits="507" data-linenumber="104">
          <span class="hits">507</span>
          
          <code class="ruby">    source &quot;$rvm_scripts_path/selector_gemsets&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="108">
          <span class="hits">528</span>
          
          <code class="ruby">typeset -a scripts</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">scripts=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  logging support utility init cleanup env rvmrc install environment gemset db checksum</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="111">
          <span class="hits">528</span>
          
          <code class="ruby">)</code>
        </li>
      
        <li class="covered" data-hits="6336" data-linenumber="112">
          <span class="hits">6336</span>
          
          <code class="ruby">for entry in ${scripts[@]} ; do</code>
        </li>
      
        <li class="covered" data-hits="6336" data-linenumber="113">
          <span class="hits">6336</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/functions/$entry&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">done</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="115">
          <span class="hits">528</span>
          
          <code class="ruby">unset scripts entry rvm_base_except</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="49ae28043e76f06371d24370a3718386bed5413b">
  <div class="header">
    <h3>/usr/local/rvm/scripts/cd</h3>
    <h4><span class="red">43.33 %</span> covered</h4>
    <div>
      <b>60</b> relevant lines. 
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>34</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Source a .rvmrc file in a directory after changing to it, if it exists.  To</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># disable this feature, set rvm_project_rvmrc=0 in /etc/rvmrc or $HOME/.rvmrc</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="5">
          <span class="hits">46</span>
          
          <code class="ruby">case &quot;${rvm_project_rvmrc:-1}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="6">
          
          
          <code class="ruby">1|cd)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">  __rvm_setup_cd()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">    # try to use smartcd function, fallback to builtin</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="10">
          <span class="hits">35</span>
          
          <code class="ruby">    typeset __cd_prefix __command</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="11">
          <span class="hits">35</span>
          
          <code class="ruby">    __cd_prefix=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="13">
          <span class="hits">35</span>
          
          <code class="ruby">    if typeset -f smartcd &gt;/dev/null 2&gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">    then __cd_prefix=&quot;smartcd&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="16">
          <span class="hits">35</span>
          
          <code class="ruby">    if typeset -f exec_scmb_expand_args &gt;/dev/null 2&gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">    then __cd_prefix=&quot;exec_scmb_expand_args ${__cd_prefix:-builtin}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="19">
          <span class="hits">70</span>
          
          <code class="ruby">    [[ -n &quot;${__cd_prefix}&quot; ]] || __cd_prefix=&quot;builtin&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    __rvm_after_cd()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">    {</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="23">
          <span class="hits">9</span>
          
          <code class="ruby">      typeset rvm_hook</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="24">
          <span class="hits">9</span>
          
          <code class="ruby">      rvm_hook=&quot;after_cd&quot;</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="25">
          <span class="hits">9</span>
          
          <code class="ruby">      if [[ -n &quot;${rvm_scripts_path:-}&quot; || -n &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="26">
          <span class="hits">9</span>
          
          <code class="ruby">      then source &quot;${rvm_scripts_path:-$rvm_path/scripts}/hook&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    __rvm_setup_cd_function()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    {</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="32">
          <span class="hits">105</span>
          
          <code class="ruby">      typeset __cd_prefix __command</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="33">
          <span class="hits">105</span>
          
          <code class="ruby">      __cd_prefix=$1</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="34">
          <span class="hits">105</span>
          
          <code class="ruby">      __command=$2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">      eval &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">${__command}(){</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">  if ${__cd_prefix} ${__command} \&quot;\$@\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    [[ -n \&quot;\${rvm_current_rvmrc:-&quot;&quot;}\&quot; &amp;&amp; \&quot;\$*\&quot; == \&quot;.\&quot; ]] &amp;&amp; rvm_current_rvmrc=\&quot;\&quot; || true</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">    __rvm_do_with_env_before</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    __rvm_project_rvmrc</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    __rvm_after_cd</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    __rvm_do_with_env_after</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">    return \$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="48">
          <span class="hits">105</span>
          
          <code class="ruby">}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="50">
          <span class="hits">9</span>
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="51">
          <span class="hits">35</span>
          
          <code class="ruby">    if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="52">
          <span class="hits">21</span>
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="53">
          <span class="hits">9</span>
          
          <code class="ruby">      autoload is-at-least</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="54">
          <span class="hits">9</span>
          
          <code class="ruby">      if is-at-least 4.3.4 &gt;/dev/null 2&gt;&amp;1; then</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="55">
          <span class="hits">9</span>
          
          <code class="ruby">        # On zsh, use chpwd_functions</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="56">
          <span class="hits">9</span>
          
          <code class="ruby">        export -a chpwd_functions</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="57">
          <span class="hits">9</span>
          
          <code class="ruby">        chpwd_functions=( &quot;${chpwd_functions[@]}&quot; __rvm_do_with_env_before __rvm_project_rvmrc __rvm_after_cd __rvm_do_with_env_after )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">        for __command in cd popd pushd</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">        do __rvm_setup_cd_function &quot;${__cd_prefix}&quot; &quot;${__command}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">        done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="64">
          <span class="hits">105</span>
          
          <code class="ruby">      for __command in cd popd pushd</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="65">
          <span class="hits">105</span>
          
          <code class="ruby">      do __rvm_setup_cd_function &quot;${__cd_prefix}&quot; &quot;${__command}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="69">
          <span class="hits">35</span>
          
          <code class="ruby">  __rvm_setup_cd</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  # This functionality is opt-in by setting rvm_cd_complete_flag=1 in ~/.rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">  # Generic bash cd completion seems to work great for most, so this is only</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  # for those that have some issues with that.</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="73">
          <span class="hits">35</span>
          
          <code class="ruby">  if (( ${rvm_cd_complete_flag:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    # If $CDPATH is set, bash should tab-complete based on directories in those paths,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # but with the cd function above, the built-in tab-complete ignores $CDPATH. This</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    # function returns that functionality.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">    _rvm_cd_complete ()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">    {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">      typeset directory current matches item index sep</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">      sep=&quot;${IFS}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">      export IFS</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">      IFS=$'\n'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">      COMPREPLY=()</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">      current=&quot;${COMP_WORDS[COMP_CWORD]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">      if [[ -n &quot;$CDPATH&quot; &amp;&amp; ${current:0:1} != &quot;/&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="87">
          
          
          <code class="ruby">        index=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">        # The change to IFS above means that the \tr below should replace ':'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">        # with a newline rather than a space. A space would be ignored, breaking</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">        # TAB completion based on CDPATH again</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">        for directory in $(printf &quot;%b&quot; &quot;$CDPATH&quot; | \tr -s ':' '\n') ; do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">          for item in $( compgen -d &quot;$directory/$current&quot; ) ; do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">            COMPREPLY[index++]=${item#$directory/}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">          done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">        done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">        COMPREPLY=( $(compgen -d ${current}) )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">      IFS=&quot;${sep}&quot;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">    complete -o bashdefault -o default -o filenames -o dirnames -o nospace -F _rvm_cd_complete cd</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="104">
          
          
          <code class="ruby">2|prompt)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">    [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">    precmd_functions+=(__rvm_do_with_env_before __rvm_project_rvmrc __rvm_do_with_env_after)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">    PROMPT_COMMAND=&quot;${PROMPT_COMMAND:-}${PROMPT_COMMAND:+; }__rvm_do_with_env_before; __rvm_project_rvmrc; __rvm_do_with_env_after&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">  ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">esac</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="7aab98c1f2746ec08a3e97aa8221049b9f7af5ab">
  <div class="header">
    <h3>/usr/local/rvm/scripts/cli</h3>
    <h4><span class="red">30.53 %</span> covered</h4>
    <div>
      <b>737</b> relevant lines. 
      <span class="green"><b>225</b> lines covered</span> and
      <span class="red"><b>512</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_usage() {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="4">
          
          
          <code class="ruby">  __rvm_pager_or_cat_v &quot;${rvm_path:-$HOME/.rvm}/README&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">__rvm_run_script()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="9">
          <span class="hits">14</span>
          
          <code class="ruby">  &quot;$rvm_scripts_path/${1:-&quot;$rvm_action&quot;}&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">__rvm_parse_args_find_known_flags()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="148" data-linenumber="14">
          <span class="hits">148</span>
          
          <code class="ruby">  typeset _args_array_name _temp_var</code>
        </li>
      
        <li class="covered" data-hits="148" data-linenumber="15">
          <span class="hits">148</span>
          
          <code class="ruby">  typeset -a _new_args</code>
        </li>
      
        <li class="covered" data-hits="148" data-linenumber="16">
          <span class="hits">148</span>
          
          <code class="ruby">  _args_array_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="17">
          <span class="hits">296</span>
          
          <code class="ruby">  (( $# == 0 )) || shift</code>
        </li>
      
        <li class="covered" data-hits="148" data-linenumber="18">
          <span class="hits">148</span>
          
          <code class="ruby">  _new_args=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  while</code>
        </li>
      
        <li class="covered" data-hits="394" data-linenumber="20">
          <span class="hits">394</span>
          
          <code class="ruby">    (( $# ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="246" data-linenumber="22">
          <span class="hits">246</span>
          
          <code class="ruby">    case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">      (--verify-downloads)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">        export &quot;rvm_verify_downloads_flag&quot;=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">        shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">      (--force|--verbose|--debug|--quiet|--silent|--create)</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="28">
          <span class="hits">8</span>
          
          <code class="ruby">        export &quot;rvm_${1#--}_flag=1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">      (--only-path)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">        _temp_var=&quot;${1#--}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">        export &quot;rvm_${_temp_var//-/_}_flag=1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">      (--32)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">        rvm_architectures=&quot;${rvm_architectures:-},i386&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">        rvm_architectures=&quot;${rvm_architectures##,}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">      (--64)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">        rvm_architectures=&quot;${rvm_architectures:-},x86_64&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">        rvm_architectures=&quot;${rvm_architectures##,}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">      (--universal)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">        rvm_architectures=&quot;${rvm_architectures:-},i386,x86_64&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">        rvm_architectures=&quot;${rvm_architectures##,}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">      (--patches|--patch)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">        export -a rvm_patch_names</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">        __rvm_custom_separated_array rvm_patch_names , &quot;${2:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">        rvm_patch_original_pwd=&quot;$PWD&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">        shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">      (--autolibs=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">        rvm_pretty_print_flag=${rvm_token#--color=}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">        rvm_token=&quot;${rvm_token#--}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">        rvm_token=&quot;${rvm_token//-/_}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">        _string=&quot;${rvm_token#*=}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">        rvm_token=&quot;${rvm_token%%=*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">        export &quot;rvm_${rvm_token}_flag=${_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">      (--)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">        shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">        _new_args+=( &quot;$@&quot; )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">        shift $#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">      (*)</code>
        </li>
      
        <li class="covered" data-hits="242" data-linenumber="70">
          <span class="hits">242</span>
          
          <code class="ruby">        _new_args+=( &quot;$1&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="covered" data-hits="492" data-linenumber="73">
          <span class="hits">492</span>
          
          <code class="ruby">    (( $# == 0 )) || shift # check in case shifted already</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="75">
          <span class="hits">296</span>
          
          <code class="ruby">  eval &quot;${_args_array_name}+=( \&quot;\${_new_args[@]}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">__rvm_parse_args()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="80">
          <span class="hits">273</span>
          
          <code class="ruby">  typeset _string</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="81">
          <span class="hits">273</span>
          
          <code class="ruby">  export rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="83">
          <span class="hits">273</span>
          
          <code class="ruby">  rvm_action=&quot;${rvm_action:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="84">
          <span class="hits">273</span>
          
          <code class="ruby">  rvm_parse_break=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="87">
          <span class="hits">273</span>
          
          <code class="ruby">    [[ &quot; $* &quot; =~ &quot; --trace &quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">    echo &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">    __rvm_version</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">  while</code>
        </li>
      
        <li class="covered" data-hits="486" data-linenumber="94">
          <span class="hits">486</span>
          
          <code class="ruby">    [[ -n &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="412" data-linenumber="96">
          <span class="hits">412</span>
          
          <code class="ruby">    rvm_token=&quot;$next_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="412" data-linenumber="98">
          <span class="hits">412</span>
          
          <code class="ruby">      (( $# &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="299" data-linenumber="100">
          <span class="hits">299</span>
          
          <code class="ruby">      next_token=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="299" data-linenumber="101">
          <span class="hits">299</span>
          
          <code class="ruby">      shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="113" data-linenumber="103">
          <span class="hits">113</span>
          
          <code class="ruby">      next_token=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="412" data-linenumber="106">
          <span class="hits">412</span>
          
          <code class="ruby">    case &quot;$rvm_token&quot; in</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">      [[:alnum:]]*|@*) # Commands, Rubies and Gemsets</code>
        </li>
      
        <li class="covered" data-hits="350" data-linenumber="109">
          <span class="hits">350</span>
          
          <code class="ruby">        case &quot;$rvm_token&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">          use)</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="111">
          <span class="hits">38</span>
          
          <code class="ruby">            rvm_action=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="112">
          <span class="hits">38</span>
          
          <code class="ruby">            rvm_verbose_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="114">
          <span class="hits">38</span>
          
          <code class="ruby">              [[ &quot;ruby&quot; == &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">          install|uninstall|reinstall|try_install)</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="122">
          <span class="hits">24</span>
          
          <code class="ruby">            export ${rvm_token}_flag=1</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="123">
          <span class="hits">12</span>
          
          <code class="ruby">            rvm_action=$rvm_token</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">          gemset)</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="127">
          <span class="hits">60</span>
          
          <code class="ruby">            rvm_action=$rvm_token</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="128">
          <span class="hits">60</span>
          
          <code class="ruby">            rvm_ruby_gem_home=&quot;${GEM_HOME:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="130">
          <span class="hits">60</span>
          
          <code class="ruby">            rvm_ruby_args=()</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="131">
          <span class="hits">60</span>
          
          <code class="ruby">            __rvm_parse_args_find_known_flags rvm_ruby_args  &quot;$next_token&quot; &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="132">
          <span class="hits">60</span>
          
          <code class="ruby">            : rvm_ruby_args:${#rvm_ruby_args[@]}:${rvm_ruby_args[*]}:</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="133">
          <span class="hits">60</span>
          
          <code class="ruby">            next_token=&quot;${rvm_ruby_args[__array_start]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="134">
          <span class="hits">60</span>
          
          <code class="ruby">            rvm_gemset_name=&quot;${rvm_ruby_args[__array_start+1]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="136">
          <span class="hits">60</span>
          
          <code class="ruby">            case &quot;${next_token:-help}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="137">
          
          
          <code class="ruby">              (help)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">                true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">                ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">              (clear)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">                __rvm_gemset_clear</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">                ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">              (use|delete)</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="144">
          <span class="hits">41</span>
          
          <code class="ruby">                [[ &quot;delete&quot; != &quot;$next_token&quot; ]] || rvm_delete_flag=1</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="145">
          <span class="hits">31</span>
          
          <code class="ruby">                [[ &quot;use&quot;    != &quot;$next_token&quot; ]] || rvm_use_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="147">
          <span class="hits">24</span>
          
          <code class="ruby">                case &quot;$rvm_gemset_name&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">                  *${rvm_gemset_separator:-&quot;@&quot;}*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="149">
          
          
          <code class="ruby">                    rvm_ruby_string=&quot;${rvm_gemset_name%%${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">                    rvm_gemset_name=&quot;${rvm_gemset_name##*${rvm_gemset_separator:-&quot;@&quot;}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">                    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">                      [[ &quot;${rvm_ruby_string:-&quot;&quot;}&quot; != &quot;${rvm_gemset_name:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">                    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="154">
          
          
          <code class="ruby">                      rvm_ruby_string=&quot;$rvm_ruby_string${rvm_gemset_separator:-&quot;@&quot;}$rvm_gemset_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">                    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="156">
          
          
          <code class="ruby">                    rvm_ruby_gem_home=&quot;$rvm_ruby_gem_home${rvm_gemset_separator:-&quot;@&quot;}$rvm_gemset_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">                    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="158">
          
          
          <code class="ruby">                  (&quot;&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">                    rvm_error &quot;Gemset was not given.\n  Usage:\n    rvm gemset $rvm_gemset_name &lt;gemsetname&gt;\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="160">
          
          
          <code class="ruby">                    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">                    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">                esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">                ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">              #~ (*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">                #~ # TODO where from do we get the rvm_gemset_name ?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">                #~ if [[ &quot;${rvm_ruby_string:-&quot;&quot;}&quot; != &quot;${rvm_gemset_name:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">                #~ then __rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">                #~ fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">                #~ ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">            esac</code>
        </li>
      
        <li class="covered" data-hits="60" data-linenumber="171">
          <span class="hits">60</span>
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">          gemdir|gempath|gemhome)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="175">
          <span class="hits">6</span>
          
          <code class="ruby">            rvm_ruby_args=(&quot;$rvm_token&quot;)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="176">
          <span class="hits">6</span>
          
          <code class="ruby">            rvm_action=&quot;gemset&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="177">
          <span class="hits">6</span>
          
          <code class="ruby">            rvm_gemdir_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="179">
          <span class="hits">6</span>
          
          <code class="ruby">              [[ &quot;system&quot; == &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">              rvm_system_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="186">
          <span class="hits">6</span>
          
          <code class="ruby">              [[ &quot;user&quot; == &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="188">
          
          
          <code class="ruby">              rvm_user_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="189">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="190">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="194">
          
          
          <code class="ruby">          pkg)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">            rvm_action=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">            __rvm_parse_args_find_known_flags rvm_ruby_args  &quot;$next_token&quot; &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">          do|exec)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="202">
          <span class="hits">26</span>
          
          <code class="ruby">              [[ -z &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="204">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">              rvm_error_message=&quot;'rvm $rvm_token' must be followed by arguments.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="206">
          
          
          <code class="ruby">              break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="208">
          <span class="hits">26</span>
          
          <code class="ruby">            rvm_action=&quot;do&quot;</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="209">
          <span class="hits">26</span>
          
          <code class="ruby">            rvm_ruby_args=(&quot;$next_token&quot; &quot;$@&quot;)</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="210">
          <span class="hits">26</span>
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">          gem|rake|ruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="214">
          
          
          <code class="ruby">            [[ &quot;$rvm_token&quot; == &quot;ruby&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">            case $rvm_action in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="216">
          
          
          <code class="ruby">              install|reinstall|use|remove)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">                rvm_ruby_string=ruby</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">                rvm_ruby_strings=ruby</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="219">
          
          
          <code class="ruby">                continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">              ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">            esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">            # deprecated 2011.10.11 for RVM 1.9.0, removed 2012.09.13 for RVM 1.16.0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">            rvm_action=error</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="224">
          
          
          <code class="ruby">            rvm_error_message=&quot;Please note that \`rvm $rvm_token ...\` was removed, try \`$rvm_token $next_token $*\` or \`rvm all do $rvm_token $next_token $*\` instead.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">          fetch|version|srcdir|reset|debug|reload|update|monitor|notes|implode|seppuku|question|answer|env|unexport|automount|prepare)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="228">
          <span class="hits">7</span>
          
          <code class="ruby">            rvm_action=$rvm_token</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">          doctor)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">            rvm_action=notes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">          mount)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_action=$rvm_token</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">            while</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="238">
          <span class="hits">1</span>
          
          <code class="ruby">              [[ -n &quot;${next_token:-}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">              [[ -x &quot;${next_token:-}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="240">
          
          
          <code class="ruby">                -d &quot;${next_token:-}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="241">
          
          
          <code class="ruby">                &quot;${next_token:-}&quot; =~ ^http ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="242">
          
          
          <code class="ruby">                &quot;${next_token:-}&quot; =~ tar.bz2$</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="243">
          <span class="hits">4</span>
          
          <code class="ruby">              ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">            do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">              rvm_ruby_args=(&quot;$next_token&quot; &quot;${rvm_ruby_args[@]}&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="247">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">            done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="251">
          
          
          <code class="ruby">          rm|remove)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="252">
          <span class="hits">3</span>
          
          <code class="ruby">            rvm_action=&quot;remove&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="253">
          <span class="hits">3</span>
          
          <code class="ruby">            rvm_remove_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">          rtfm|RTFM|rvmrc|usage|help|inspect|list|ls|info|strings|get|current|docs|alias|rubygems|cleanup|tools|disk-usage|snapshot|repair|migrate|downgrade|upgrade|cron|group|switch|which|config-get|requirements)</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="257">
          <span class="hits">88</span>
          
          <code class="ruby">            case &quot;$rvm_token&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">              (downgrade) rvm_action=&quot;upgrade&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">              (ls)    rvm_action=&quot;list&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="260">
          
          
          <code class="ruby">              (usage) rvm_action=&quot;help&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="261">
          
          
          <code class="ruby">              (RTFM)  rvm_action=&quot;rtfm&quot; ;;</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="262">
          <span class="hits">88</span>
          
          <code class="ruby">              (*)     rvm_action=&quot;$rvm_token&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">            esac</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="264">
          <span class="hits">88</span>
          
          <code class="ruby">            rvm_ruby_args=()</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="265">
          <span class="hits">88</span>
          
          <code class="ruby">            __rvm_parse_args_find_known_flags rvm_ruby_args &quot;$next_token&quot; &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="266">
          <span class="hits">88</span>
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="269">
          
          
          <code class="ruby">          user)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="270">
          
          
          <code class="ruby">            rvm_action=&quot;tools&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="271">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;$rvm_token&quot; &quot;$next_token&quot; &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="272">
          
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="275">
          
          
          <code class="ruby">          load-rvmrc)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="276">
          
          
          <code class="ruby">            rvm_action=&quot;rvmrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="277">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;load&quot; &quot;$next_token&quot; &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="278">
          
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="281">
          
          
          <code class="ruby">          benchmark|bench)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">            rvm_action=&quot;benchmark&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">          specs|tests)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="286">
          
          
          <code class="ruby">            rvm_action=&quot;rake&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="287">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;${rvm_token/%ss/s}&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="290">
          
          
          <code class="ruby">          export)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="292">
          <span class="hits">2</span>
          
          <code class="ruby">              [[ -n &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="294">
          <span class="hits">2</span>
          
          <code class="ruby">              rvm_export_args=&quot;$next_token$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="295">
          <span class="hits">2</span>
          
          <code class="ruby">              rvm_action=&quot;export&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="296">
          <span class="hits">2</span>
          
          <code class="ruby">              rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="298">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="299">
          
          
          <code class="ruby">              rvm_error_message=&quot;rvm export must be followed by a NAME=VALUE argument&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="303">
          
          
          <code class="ruby">          alt*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="304">
          
          
          <code class="ruby">            rvm_action=&quot;help&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="305">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;alt.md&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="306">
          
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="309">
          
          
          <code class="ruby">          wrapper)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="310">
          <span class="hits">22</span>
          
          <code class="ruby">            rvm_action=&quot;wrapper&quot;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="311">
          <span class="hits">22</span>
          
          <code class="ruby">            rvm_ruby_string=&quot;$next_token&quot; ;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="312">
          <span class="hits">22</span>
          
          <code class="ruby">            rvm_wrapper_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="313">
          <span class="hits">40</span>
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="314">
          <span class="hits">22</span>
          
          <code class="ruby">            rvm_ruby_args=(&quot;$@&quot;) # list of binaries, or empty</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="315">
          <span class="hits">22</span>
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="317">
          
          
          <code class="ruby">          reboot|damnit|wtf|argh|BOOM|boom|wth)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="318">
          
          
          <code class="ruby">            rvm_action=&quot;reboot&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="320">
          
          
          <code class="ruby">          in)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">            rvm_token=&quot;${next_token}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="322">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="323">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="325">
          
          
          <code class="ruby">               __rvm_project_dir_check &quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="327">
          
          
          <code class="ruby">              export rvm_in_flag=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="328">
          
          
          <code class="ruby">              __rvm_rvmrc_tools try_to_read_ruby $rvm_token</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="330">
          
          
          <code class="ruby">              export &quot;rvm_in_flag&quot;=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="334">
          
          
          <code class="ruby">          *,*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="335">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_ruby_strings=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">            [[ -n &quot;${rvm_action:-&quot;&quot;}&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="337">
          <span class="hits">1</span>
          
          <code class="ruby">              rvm_action=&quot;ruby&quot; # Not sure if we really want to do this but we'll try it out.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="340">
          
          
          <code class="ruby">          ${rvm_gemset_separator:-&quot;@&quot;}*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="341">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="342">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_gemset_name=&quot;${rvm_token/*${rvm_gemset_separator:-&quot;@&quot;}/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="343">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_ruby_string=&quot;${rvm_ruby_string:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="344">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_ruby_strings=&quot;${rvm_ruby_string}${rvm_gemset_separator:-&quot;@&quot;}${rvm_gemset_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="347">
          
          
          <code class="ruby">          *${rvm_gemset_separator:-&quot;@&quot;}*)</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="348">
          <span class="hits">20</span>
          
          <code class="ruby">            rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="349">
          <span class="hits">20</span>
          
          <code class="ruby">            rvm_gemset_name=&quot;${rvm_token/*${rvm_gemset_separator:-&quot;@&quot;}/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="350">
          <span class="hits">20</span>
          
          <code class="ruby">            rvm_ruby_string=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="351">
          <span class="hits">20</span>
          
          <code class="ruby">            rvm_ruby_strings=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="354">
          
          
          <code class="ruby">          *+*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="355">
          
          
          <code class="ruby">            rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="356">
          
          
          <code class="ruby">            rvm_ruby_alias=&quot;${rvm_token/*+/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="357">
          
          
          <code class="ruby">            rvm_ruby_string=&quot;${rvm_token/+*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="358">
          
          
          <code class="ruby">            rvm_ruby_strings=&quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="361">
          
          
          <code class="ruby">          *-*|+([[:digit:]]).+([[:digit:]])*)</code>
        </li>
      
        <li class="covered" data-hits="58" data-linenumber="362">
          <span class="hits">58</span>
          
          <code class="ruby">            rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="covered" data-hits="58" data-linenumber="363">
          <span class="hits">58</span>
          
          <code class="ruby">            rvm_ruby_string=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="covered" data-hits="58" data-linenumber="364">
          <span class="hits">58</span>
          
          <code class="ruby">            rvm_ruby_strings=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="367">
          
          
          <code class="ruby">          opal*|jruby*|ree*|kiji*|macruby*|rbx*|rubinius*|goruby|mruby|ironruby*|default*|maglev*|topaz*|tcs*|jamesgolick*|ruby*|system|default|all)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="368">
          <span class="hits">5</span>
          
          <code class="ruby">            rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="369">
          <span class="hits">5</span>
          
          <code class="ruby">            case &quot;$rvm_token&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="370">
          
          
          <code class="ruby">              (rubinius) rvm_token=&quot;rbx&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">            esac</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="372">
          <span class="hits">5</span>
          
          <code class="ruby">            rvm_ruby_interpreter=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="373">
          <span class="hits">5</span>
          
          <code class="ruby">            rvm_ruby_string=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="374">
          <span class="hits">5</span>
          
          <code class="ruby">            rvm_ruby_strings=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="377">
          
          
          <code class="ruby">          old)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="378">
          
          
          <code class="ruby">            case &quot;${rvm_action:-action-missing}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="379">
          
          
          <code class="ruby">              remove)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="380">
          
          
          <code class="ruby">                rvm_ruby_strings=&quot;old:${next_token:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="381">
          
          
          <code class="ruby">                next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="382">
          
          
          <code class="ruby">                (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">                ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">              action-missing)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="385">
          
          
          <code class="ruby">                rvm_error_message=&quot;what do you want to do with old rubies? rvm can only remove old rubies.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="386">
          
          
          <code class="ruby">                rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">                ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="388">
          
          
          <code class="ruby">              *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="389">
          
          
          <code class="ruby">                rvm_error_message=&quot;rvm can not $rvm_action old rubies, rvm can only remove old rubies.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="390">
          
          
          <code class="ruby">                rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">                ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">            esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="395">
          
          
          <code class="ruby">          *.rb) # we have a specified ruby script</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="396">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;$rvm_token&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="397">
          
          
          <code class="ruby">            rvm_ruby_file=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="399">
          
          
          <code class="ruby">              [[ -z &quot;${rvm_action:-&quot;&quot;}&quot; || &quot;$rvm_action&quot; == &quot;use&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="401">
          
          
          <code class="ruby">              rvm_action=&quot;ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="405">
          
          
          <code class="ruby">          *.gems)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="406">
          
          
          <code class="ruby">            rvm_file_name=&quot;${rvm_token}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="409">
          
          
          <code class="ruby">          (&quot;&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="410">
          
          
          <code class="ruby">            rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="411">
          
          
          <code class="ruby">            rvm_error_message=&quot;Unrecognized command line argument(s): '$@'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="414">
          
          
          <code class="ruby">          *)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="416">
          
          
          <code class="ruby">              [[ &quot;gemset&quot; == &quot;$rvm_action&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="418">
          
          
          <code class="ruby">              rvm_gemset_name=&quot;${rvm_token/.gems/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="419">
          
          
          <code class="ruby">              rvm_file_name=&quot;$rvm_gemset_name.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="420">
          
          
          <code class="ruby">            elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="421">
          
          
          <code class="ruby">              [[ -f &quot;$rvm_rubies_path/$rvm_token&quot; || -L &quot;$rvm_rubies_path/$rvm_token&quot; ]] # ruby || alias</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="423">
          
          
          <code class="ruby">              rvm_ruby_string=$rvm_token</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="424">
          
          
          <code class="ruby">              rvm_ruby_strings=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="425">
          
          
          <code class="ruby">              rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="426">
          
          
          <code class="ruby">            elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="427">
          
          
          <code class="ruby">              __rvm_project_dir_check &quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="429">
          
          
          <code class="ruby">              __rvm_rvmrc_tools try_to_read_ruby $rvm_token</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="430">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="431">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="432">
          
          
          <code class="ruby">              rvm_error_message=&quot;Unrecognized command line argument: '$rvm_token'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="438">
          
          
          <code class="ruby">      -*) # Flags</code>
        </li>
      
        <li class="covered" data-hits="56" data-linenumber="439">
          <span class="hits">56</span>
          
          <code class="ruby">        case &quot;$rvm_token&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="440">
          
          
          <code class="ruby">          -S)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="441">
          
          
          <code class="ruby">            rvm_action=&quot;ruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="442">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;$rvm_token&quot; &quot;$next_token&quot; &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="443">
          
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="446">
          
          
          <code class="ruby">          -e)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="447">
          
          
          <code class="ruby">            rvm_action=&quot;ruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="448">
          
          
          <code class="ruby">            IFS=&quot;\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="449">
          
          
          <code class="ruby">            rvm_ruby_args=(&quot;$rvm_token&quot; &quot;'$next_token $@'&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="450">
          
          
          <code class="ruby">            IFS=&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="451">
          
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="454">
          
          
          <code class="ruby">          -v|--version)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="455">
          
          
          <code class="ruby">            if [[ -z &quot;$next_token&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="456">
          
          
          <code class="ruby">              rvm_action=&quot;version&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="458">
          
          
          <code class="ruby">              rvm_ruby_version=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="459">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="460">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="464">
          
          
          <code class="ruby">          -n|--name)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="465">
          
          
          <code class="ruby">            rvm_ruby_name=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="466">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="467">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">            #TODO: ??? rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="469">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="471">
          
          
          <code class="ruby">          --branch)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="472">
          
          
          <code class="ruby">            rvm_ruby_repo_branch=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="473">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="474">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="475">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="478">
          
          
          <code class="ruby">          --repository|--repo|--url)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="479">
          
          
          <code class="ruby">            rvm_ruby_repo_url=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="480">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="481">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="482">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="485">
          
          
          <code class="ruby">          -r|--remote|--binary|--latest-binary)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="486">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_remote_flag=1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="487">
          <span class="hits">1</span>
          
          <code class="ruby">            if [[ &quot;$rvm_token&quot; == &quot;--latest-binary&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="488">
          
          
          <code class="ruby">            then rvm_latest_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="490">
          
          
          <code class="ruby">            while</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="491">
          <span class="hits">2</span>
          
          <code class="ruby">              [[ -n &quot;${next_token:-}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="492">
          
          
          <code class="ruby">              [[ &quot;${next_token:-}&quot; =~ ^http ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="493">
          
          
          <code class="ruby">                &quot;${next_token:-}&quot; =~ tar.bz2$ ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="494">
          
          
          <code class="ruby">                &quot;${next_token:-}&quot; =~ &quot;:&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="495">
          <span class="hits">2</span>
          
          <code class="ruby">              ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">            do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="497">
          <span class="hits">1</span>
          
          <code class="ruby">              rvm_ruby_args=(&quot;$next_token&quot; &quot;${rvm_ruby_args[@]}&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="498">
          <span class="hits">1</span>
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="499">
          <span class="hits">1</span>
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">            done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="502">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="503">
          
          
          <code class="ruby">          --ree-options)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="504">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="505">
          
          
          <code class="ruby">              [[ -n &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="507">
          
          
          <code class="ruby">              __rvm_custom_separated_array rvm_ree_options , &quot;${next_token}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="508">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="509">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="511">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="512">
          
          
          <code class="ruby">              rvm_error_message=&quot;--ree-options *must* be followed by... well... comma,separated,list,of,options.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="513">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="516">
          
          
          <code class="ruby">          --patches|--patch)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="517">
          
          
          <code class="ruby">            export -a rvm_patch_names</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="518">
          
          
          <code class="ruby">            __rvm_custom_separated_array rvm_patch_names , &quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="519">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="520">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="521">
          
          
          <code class="ruby">            rvm_patch_original_pwd=&quot;$PWD&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="522">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="524">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="525">
          
          
          <code class="ruby">          --arch|--archflags)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="526">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures:-},${next_token#-arch }&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="527">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures##,}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="528">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="529">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="530">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="532">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="533">
          
          
          <code class="ruby">          --with-arch=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="534">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures:-},${rvm_token#--with-arch=}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="535">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures##,}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="536">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="539">
          
          
          <code class="ruby">          --32)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="540">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures:-},i386&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="541">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures##,}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="542">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="543">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="545">
          
          
          <code class="ruby">          --64)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="546">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures:-},x86_64&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="547">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures##,}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="548">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="549">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="551">
          
          
          <code class="ruby">          --universal)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="552">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures:-},i386,x86_64&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="553">
          
          
          <code class="ruby">            rvm_architectures=&quot;${rvm_architectures##,}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="554">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="556">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="557">
          
          
          <code class="ruby">          --bin)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="559">
          
          
          <code class="ruby">              [[ &quot;update&quot; == &quot;${rvm_action:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="561">
          
          
          <code class="ruby">              rvm_bin_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="562">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="563">
          
          
          <code class="ruby">              rvm_bin_path=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="564">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="565">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="566">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="568">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="569">
          
          
          <code class="ruby">          --rdoc|--yard)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="570">
          
          
          <code class="ruby">            rvm_docs_type=&quot;$rvm_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="571">
          
          
          <code class="ruby">            rvm_docs_type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="574">
          
          
          <code class="ruby">          -f|--file)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="575">
          
          
          <code class="ruby">            rvm_action=&quot;ruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="576">
          
          
          <code class="ruby">            rvm_ruby_file=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="577">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="578">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="581">
          
          
          <code class="ruby">          --passenger)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="582">
          
          
          <code class="ruby">            rvm_log &quot;NOTE: If you are using Passenger 3 you no longer need the passenger_ruby,\nuse the wrapper script for your ruby instead (see 'rvm wrapper')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="583">
          
          
          <code class="ruby">            rvm_wrapper_name=&quot;${rvm_token/--/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="584">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="586">
          
          
          <code class="ruby">          --editor)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="587">
          
          
          <code class="ruby">            rvm_wrapper_name=&quot;${rvm_token/--/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="588">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="590">
          
          
          <code class="ruby">          --symlink)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="591">
          
          
          <code class="ruby">            rvm_warn &quot;--symlink has been removed, please see 'rvm wrapper'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="592">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="593">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="595">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="596">
          
          
          <code class="ruby">          -h|--help)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="597">
          
          
          <code class="ruby">            rvm_action=help</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="600">
          
          
          <code class="ruby">          -l|--level)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="601">
          
          
          <code class="ruby">            rvm_ruby_patch_level=&quot;p$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="602">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="603">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="604">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="605">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="606">
          
          
          <code class="ruby">          --sha|--make|--make-install)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="607">
          
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="608">
          
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="609">
          
          
          <code class="ruby">            export &quot;rvm_ruby_${rvm_token}&quot;=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="610">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="611">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="612">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="614">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="615">
          
          
          <code class="ruby">          --nice|--sdk|--autoconf-flags|--proxy)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="616">
          
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="617">
          
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="618">
          
          
          <code class="ruby">            export &quot;rvm_${rvm_token}&quot;=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="619">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="620">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="621">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="622">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="623">
          
          
          <code class="ruby">          --disable-llvm|--disable-jit)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="624">
          
          
          <code class="ruby">            rvm_llvm_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="627">
          
          
          <code class="ruby">          --enable-llvm|--enable-jit)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="628">
          
          
          <code class="ruby">            rvm_llvm_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="631">
          
          
          <code class="ruby">          --install)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="632">
          <span class="hits">12</span>
          
          <code class="ruby">            rvm_install_on_use_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="635">
          
          
          <code class="ruby">          --autolibs=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="636">
          
          
          <code class="ruby">            rvm_pretty_print_flag=${rvm_token#--color=}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="637">
          
          
          <code class="ruby">            rvm_token=&quot;${rvm_token#--}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="638">
          
          
          <code class="ruby">            rvm_token=&quot;${rvm_token//-/_}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="639">
          
          
          <code class="ruby">            _string=&quot;${rvm_token#*=}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="640">
          
          
          <code class="ruby">            rvm_token=&quot;${rvm_token%%=*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="641">
          
          
          <code class="ruby">            export &quot;rvm_${rvm_token}_flag=${_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="644">
          
          
          <code class="ruby">          --color=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="645">
          
          
          <code class="ruby">            rvm_pretty_print_flag=${rvm_token#--color=}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="648">
          
          
          <code class="ruby">          --pretty)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="649">
          
          
          <code class="ruby">            rvm_pretty_print_flag=auto</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="650">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="652">
          
          
          <code class="ruby">          --1.8|--1.9|--18|--19)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="653">
          
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="654">
          
          
          <code class="ruby">            rvm_token=${rvm_token//\./}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="655">
          
          
          <code class="ruby">            export &quot;rvm_${rvm_token}_flag&quot;=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="656">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="657">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="658">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="659">
          
          
          <code class="ruby">          --rvmrc|--versions-conf|--ruby-version)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="660">
          <span class="hits">2</span>
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="661">
          <span class="hits">2</span>
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="662">
          <span class="hits">4</span>
          
          <code class="ruby">            export rvm_rvmrc_flag=&quot;${rvm_token}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="663">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="665">
          
          
          <code class="ruby">          --head|--static)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="666">
          
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="667">
          
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="668">
          
          
          <code class="ruby">            export &quot;rvm_${rvm_token}_flag&quot;=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="671">
          
          
          <code class="ruby">          --self|--gem|--reconfigure|--default|--force|--export|--summary|--latest|--yaml|--json|--archive|--shebang|--env|--path|--cron|--tail|--delete|--verbose|--import|--sticky|--create|--gems|--docs|--skip-autoreconf|--force-autoconf|--auto|--autoinstall-bundler|--disable-binary|--ignore-gemsets|--skip-gemsets|--debug|--quiet|--silent|--skip-openssl|--fuzzy)</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="672">
          <span class="hits">38</span>
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="673">
          <span class="hits">38</span>
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="674">
          <span class="hits">76</span>
          
          <code class="ruby">            export &quot;rvm_${rvm_token}_flag&quot;=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="675">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="676">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="677">
          
          
          <code class="ruby">          --rubygems)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="678">
          
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="679">
          
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="680">
          
          
          <code class="ruby">            export &quot;rvm_${rvm_token}_version&quot;=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="681">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="682">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="684">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="685">
          
          
          <code class="ruby">          --dump-environment|--verify-downloads)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="686">
          
          
          <code class="ruby">            rvm_token=${rvm_token#--}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="687">
          
          
          <code class="ruby">            rvm_token=${rvm_token//-/_}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="688">
          
          
          <code class="ruby">            export &quot;rvm_${rvm_token}_flag&quot;=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="689">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="690">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="693">
          
          
          <code class="ruby">          --clang)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="694">
          
          
          <code class="ruby">            export CC=clang</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">            #TODO: ??? rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="696">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="698">
          
          
          <code class="ruby">          -M)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="700">
          
          
          <code class="ruby">              [[ -n &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="702">
          
          
          <code class="ruby">              __rvm_custom_separated_array rvm_make_flags , &quot;${next_token}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="703">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="704">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="705">
          
          
          <code class="ruby">              rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="707">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="708">
          
          
          <code class="ruby">              rvm_error_message=&quot;--make *must* be followed by make flags.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="709">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="712">
          
          
          <code class="ruby">          -j)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="713">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="714">
          <span class="hits">2</span>
          
          <code class="ruby">              [[ -n &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="715">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="716">
          <span class="hits">2</span>
          
          <code class="ruby">              rvm_make_flags+=( -j$next_token )</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="717">
          <span class="hits">2</span>
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="718">
          <span class="hits">2</span>
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="720">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="721">
          
          
          <code class="ruby">              rvm_error_message=&quot;-j *must* be followed by an integer (normally the # of CPU's in your machine).&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="723">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="725">
          
          
          <code class="ruby">          --with-rubies)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="726">
          
          
          <code class="ruby">            rvm_ruby_strings=&quot;$next_token&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="727">
          
          
          <code class="ruby">            next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="728">
          
          
          <code class="ruby">            (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="730">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="731">
          
          
          <code class="ruby">          -C|--configure)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="733">
          
          
          <code class="ruby">              [[ -n &quot;$next_token&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="734">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="735">
          
          
          <code class="ruby">              __rvm_custom_separated_array rvm_configure_flags , &quot;${next_token}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="736">
          
          
          <code class="ruby">              next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="737">
          
          
          <code class="ruby">              (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="738">
          
          
          <code class="ruby">              rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="740">
          
          
          <code class="ruby">              rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="741">
          
          
          <code class="ruby">              rvm_error_message=&quot;--configure *must* be followed by configure flags.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="743">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="745">
          
          
          <code class="ruby">          --movable)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="746">
          
          
          <code class="ruby">            rvm_make_flags+=( -j3 )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="747">
          
          
          <code class="ruby">            rvm_configure_flags+=( --enable-load-relative --sysconfdir=/etc )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="748">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="751">
          
          
          <code class="ruby">          --with-*|--without-*|--enable-*|--disable-*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="752">
          
          
          <code class="ruby">            rvm_configure_flags+=( &quot;$rvm_token&quot; )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="753">
          
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="756">
          
          
          <code class="ruby">          --trace)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="757">
          
          
          <code class="ruby">            export rvm_trace_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="758">
          
          
          <code class="ruby">            set -o xtrace</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="759">
          
          
          <code class="ruby">            [[ -n &quot;${ZSH_VERSION:-&quot;&quot;}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">            {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="761">
          
          
          <code class="ruby">              set -o errtrace</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="762">
          
          
          <code class="ruby">              export PS4=&quot;+ \$(date \&quot;+%s.%N\&quot;) \${BASH_SOURCE##\${rvm_path:-}} : \${FUNCNAME[0]:+\${FUNCNAME[0]}()}  \${LINENO} &gt; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="763">
          
          
          <code class="ruby">            }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="764">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="765">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="766">
          
          
          <code class="ruby">          --)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="767">
          <span class="hits">1</span>
          
          <code class="ruby">            if [[ &quot;${rvm_action}&quot; == *install ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="768">
          
          
          <code class="ruby">            then rvm_configure_flags+=( &quot;$next_token&quot; &quot;$@&quot; )</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="769">
          <span class="hits">1</span>
          
          <code class="ruby">            else rvm_ruby_args=( &quot;$next_token&quot; &quot;$@&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="771">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="772">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_parse_break=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="774">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="775">
          
          
          <code class="ruby">          *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="776">
          
          
          <code class="ruby">            rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="777">
          
          
          <code class="ruby">            rvm_error_message=&quot;Unrecognized command line flag: '$rvm_token'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="779">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="780">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="782">
          
          
          <code class="ruby">      *)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="783">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="784">
          <span class="hits">6</span>
          
          <code class="ruby">          __rvm_project_dir_check &quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="786">
          <span class="hits">6</span>
          
          <code class="ruby">          __rvm_rvmrc_tools try_to_read_ruby &quot;$rvm_token&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="788">
          
          
          <code class="ruby">          rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="789">
          
          
          <code class="ruby">          rvm_error_message=&quot;Unrecognized command line argument(s): '$rvm_token $@'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="793">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="426" data-linenumber="794">
          <span class="hits">426</span>
          
          <code class="ruby">    if [[ -z &quot;${rvm_action:-&quot;&quot;}&quot; &amp;&amp; -n &quot;${rvm_ruby_string:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="795">
          
          
          <code class="ruby">    then rvm_action=&quot;use&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="1037" data-linenumber="797">
          <span class="hits">1037</span>
          
          <code class="ruby">    if [[ &quot;error&quot; == &quot;${rvm_action:-&quot;&quot;}&quot; || ${rvm_parse_break:-0} -eq 1 || -n &quot;${rvm_error_message:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="199" data-linenumber="798">
          <span class="hits">199</span>
          
          <code class="ruby">    then break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="799">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="801">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="802">
          <span class="hits">273</span>
          
          <code class="ruby">: rvm_ruby_args:${#rvm_ruby_args[@]}:${rvm_ruby_args[*]}:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="804">
          <span class="hits">273</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_error_message:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="806">
          
          
          <code class="ruby">    rvm_error &quot;$rvm_error_message ( see: 'rvm usage' )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="807">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">__rvm_run_wrapper()</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="812">
          
          
          <code class="ruby">( # ( = subprocess</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="813">
          <span class="hits">4</span>
          
          <code class="ruby">  file=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="814">
          <span class="hits">4</span>
          
          <code class="ruby">  action=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="815">
          <span class="hits">4</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="816">
          <span class="hits">4</span>
          
          <code class="ruby">  rubies_string=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="817">
          <span class="hits">4</span>
          
          <code class="ruby">  export -a args</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="818">
          <span class="hits">4</span>
          
          <code class="ruby">  args=( $@ )</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="819">
          <span class="hits">4</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path&quot;/$file</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="820">
          
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="821">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="822">
          
          
          <code class="ruby">rvm()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="825">
          <span class="hits">273</span>
          
          <code class="ruby">    __rvm_has_opt &quot;posix&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="827">
          
          
          <code class="ruby">    echo &quot;RVM can not be run with \`set -o posix\`, please turn it off and try again.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="828">
          
          
          <code class="ruby">    return 100</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="829">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="831">
          <span class="hits">273</span>
          
          <code class="ruby">  typeset result current_result</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="832">
          <span class="hits">273</span>
          
          <code class="ruby">  export -a rvm_ruby_args &gt;/dev/null 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="833">
          <span class="hits">273</span>
          
          <code class="ruby">  rvm_ruby_args=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="836">
          <span class="hits">273</span>
          
          <code class="ruby">    (( ${rvm_ignore_rvmrc:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1006" data-linenumber="838">
          <span class="hits">1006</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_stored_umask:-}&quot; ]] || export rvm_stored_umask=$(umask)</code>
        </li>
      
        <li class="covered" data-hits="262" data-linenumber="839">
          <span class="hits">262</span>
          
          <code class="ruby">    rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="840">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="262" data-linenumber="841">
          <span class="hits">262</span>
          
          <code class="ruby">      [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="262" data-linenumber="842">
          <span class="hits">262</span>
          
          <code class="ruby">      [[ ! &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="262" data-linenumber="844">
          <span class="hits">262</span>
          
          <code class="ruby">      rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="845">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="786" data-linenumber="846">
          <span class="hits">786</span>
          
          <code class="ruby">    for rvmrc in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="786" data-linenumber="849">
          <span class="hits">786</span>
          
          <code class="ruby">        [[ -f &quot;$rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="850">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="851">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="524" data-linenumber="852">
          <span class="hits">524</span>
          
          <code class="ruby">          GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$rvmrc&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="854">
          
          
          <code class="ruby">          printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="855">
          
          
          <code class="ruby">Error:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="856">
          
          
          <code class="ruby">        $rvmrc is for rvm settings only.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="857">
          
          
          <code class="ruby">        rvm CLI may NOT be called from within $rvmrc.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="858">
          
          
          <code class="ruby">        Skipping the loading of $rvmrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="859">
          
          
          <code class="ruby">          return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="860">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="262" data-linenumber="861">
          <span class="hits">262</span>
          
          <code class="ruby">          source &quot;$rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="863">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="864">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="262" data-linenumber="865">
          <span class="hits">262</span>
          
          <code class="ruby">    unset rvm_rvmrc_files</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="866">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="867">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="819" data-linenumber="868">
          <span class="hits">819</span>
          
          <code class="ruby">  disk_version=&quot;$(cat &quot;$rvm_path/VERSION&quot;) ($(cat &quot;$rvm_path/RELEASE&quot; 2&gt;/dev/null))&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="870">
          
          
          <code class="ruby">    [[ -s &quot;$rvm_path/VERSION&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="871">
          
          
          <code class="ruby">      &quot;${rvm_version:-}&quot; != &quot;${disk_version:-}&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="872">
          
          
          <code class="ruby">      &quot;reload&quot; != &quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="546" data-linenumber="873">
          <span class="hits">546</span>
          
          <code class="ruby">    ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="876">
          
          
          <code class="ruby">      (( ${rvm_auto_reload_flag:-0} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="877">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="878">
          
          
          <code class="ruby">      __rvm_project_rvmrc_lock=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="879">
          
          
          <code class="ruby">      rvm_reload_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="880">
          
          
          <code class="ruby">      source &quot;${rvm_scripts_path:-${rvm_path}/scripts}/rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="881">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="882">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="883">
          
          
          <code class="ruby">A RVM version ${disk_version} is installed yet ${rvm_version} is loaded.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="884">
          
          
          <code class="ruby">Please do one of the following:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="885">
          
          
          <code class="ruby">  * 'rvm reload'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="886">
          
          
          <code class="ruby">  * open a new shell</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="887">
          
          
          <code class="ruby">  * 'echo rvm_auto_reload_flag=1 &gt;&gt; ~/.rvmrc' # for auto reload with msg.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="888">
          
          
          <code class="ruby">  * 'echo rvm_auto_reload_flag=2 &gt;&gt; ~/.rvmrc' # for silent auto reload.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="889">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="890">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="891">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="892">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="893">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="894">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="895">
          <span class="hits">273</span>
          
          <code class="ruby">  __rvm_initialize</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="896">
          <span class="hits">273</span>
          
          <code class="ruby">  __rvm_setup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="897">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="898">
          <span class="hits">273</span>
          
          <code class="ruby">  next_token=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="546" data-linenumber="899">
          <span class="hits">546</span>
          
          <code class="ruby">  (( $# == 0 )) || shift</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="900">
          <span class="hits">273</span>
          
          <code class="ruby">  __rvm_parse_args &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="901">
          <span class="hits">273</span>
          
          <code class="ruby">  (( rvm_trace_flag == 0 )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="902">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="903">
          
          
          <code class="ruby">    export PS4</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="904">
          
          
          <code class="ruby">    if [[ -n &quot;$ZSH_VERSION&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="905">
          
          
          <code class="ruby">    then PS4=&quot;%F{red}%x:%I %F{green}%N:%i%F{white} %_&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="906">
          
          
          <code class="ruby">    else PS4=&quot;+ \$(date \&quot;+%s.%N\&quot;) \${BASH_SOURCE##\${rvm_path:-}} : \${FUNCNAME[0]:+\${FUNCNAME[0]}()}  \${LINENO} &gt; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="908">
          
          
          <code class="ruby">    set -x</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="909">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="910">
          <span class="hits">273</span>
          
          <code class="ruby">  result=$?</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="911">
          <span class="hits">273</span>
          
          <code class="ruby">: rvm_ruby_args:${#rvm_ruby_args[@]}:${rvm_ruby_args[*]}:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="912">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="913">
          <span class="hits">273</span>
          
          <code class="ruby">  (( result )) ||</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="914">
          <span class="hits">273</span>
          
          <code class="ruby">  case &quot;${rvm_action:=usage}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="915">
          
          
          <code class="ruby">    use)</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="916">
          <span class="hits">46</span>
          
          <code class="ruby">      if rvm_is_a_shell_function</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="917">
          <span class="hits">45</span>
          
          <code class="ruby">      then __rvm_use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="918">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="919">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="920">
          
          
          <code class="ruby">    switch)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="921">
          
          
          <code class="ruby">      if rvm_is_a_shell_function</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="922">
          
          
          <code class="ruby">      then __rvm_switch &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="923">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="924">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="925">
          
          
          <code class="ruby">    srcdir)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="926">
          
          
          <code class="ruby">      __rvm_source_dir</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="927">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="928">
          
          
          <code class="ruby">    inspect|usage|strings|version)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="929">
          
          
          <code class="ruby">      __rvm_${rvm_action}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="930">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="931">
          
          
          <code class="ruby">    ls|list)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="932">
          <span class="hits">5</span>
          
          <code class="ruby">      &quot;$rvm_scripts_path/list&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="933">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="934">
          
          
          <code class="ruby">    # TODO: Make debug run in the current environment, issues with not exported vars.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="935">
          
          
          <code class="ruby">    debug)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="936">
          
          
          <code class="ruby">      rvm_is_not_a_shell_function=&quot;${rvm_is_not_a_shell_function}&quot; &quot;$rvm_scripts_path/info&quot; '' debug</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="937">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="938">
          
          
          <code class="ruby">    info)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="939">
          
          
          <code class="ruby">      rvm_is_not_a_shell_function=&quot;${rvm_is_not_a_shell_function}&quot; &quot;$rvm_scripts_path/${rvm_action}&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="940">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="941">
          
          
          <code class="ruby">    benchmark|reset)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="942">
          <span class="hits">1</span>
          
          <code class="ruby">      source &quot;$rvm_scripts_path/functions/${rvm_action}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="943">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_${rvm_action}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="944">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="945">
          
          
          <code class="ruby">    update)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="946">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;ERROR: rvm update has been removed. See 'rvm get' and rvm 'rubygems' CLI API instead\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="947">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="948">
          
          
          <code class="ruby">    reboot)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="949">
          
          
          <code class="ruby">      source &quot;$rvm_scripts_path/functions/cleanup&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="950">
          
          
          <code class="ruby">      __rvm_reboot</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="951">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="952">
          
          
          <code class="ruby">    implode|seppuku)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="953">
          
          
          <code class="ruby">      source &quot;$rvm_scripts_path/functions/implode&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="954">
          
          
          <code class="ruby">      __rvm_implode</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="955">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="956">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="957">
          
          
          <code class="ruby">    get)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="958">
          
          
          <code class="ruby">      next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="959">
          
          
          <code class="ruby">      (( $# == 0 )) || shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="960">
          
          
          <code class="ruby">      [[ &quot;$next_token&quot; == &quot;${rvm_action}&quot; ]] &amp;&amp; shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="961">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="962">
          
          
          <code class="ruby">      tmpdir=&quot;${TMPDIR:-/tmp}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="963">
          
          
          <code class="ruby">      \cp -f &quot;$rvm_scripts_path/get&quot; &quot;$tmpdir/$$&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="964">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="965">
          
          
          <code class="ruby">        bash &quot;$tmpdir/$$&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="967">
          
          
          <code class="ruby">        rvm_reload_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="968">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="969">
          
          
          <code class="ruby">        rvm_error &quot;Could not update RVM, get some help at #rvm IRC channel at freenode servers.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="970">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="971">
          
          
          <code class="ruby">      \rm -f $tmpdir/$$</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="972">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="973">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="974">
          
          
          <code class="ruby">    current)</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="975">
          <span class="hits">36</span>
          
          <code class="ruby">      __rvm_env_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="976">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="977">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="978">
          
          
          <code class="ruby">    help|rtfm|env|list|monitor|notes|pkg|requirements)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="979">
          <span class="hits">3</span>
          
          <code class="ruby">      next_token=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="980">
          <span class="hits">6</span>
          
          <code class="ruby">      (( $# == 0 )) || shift</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="981">
          <span class="hits">5</span>
          
          <code class="ruby">      if (( $# )) &amp;&amp; [[ &quot;$next_token&quot; == &quot;${rvm_action}&quot; ]] #TODO why is this check here ???</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="982">
          
          
          <code class="ruby">      then shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="983">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="984">
          <span class="hits">3</span>
          
          <code class="ruby">      &quot;$rvm_scripts_path/${rvm_action}&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="986">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="987">
          
          
          <code class="ruby">    cleanup|tools|snapshot|disk-usage|repair|alias|docs|rubygems|migrate|cron|group)</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="988">
          <span class="hits">14</span>
          
          <code class="ruby">      __rvm_run_script &quot;$rvm_action&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="989">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="990">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="991">
          
          
          <code class="ruby">    upgrade)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="992">
          
          
          <code class="ruby">      __rvm_run_wrapper upgrade &quot;$rvm_action&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="994">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="995">
          
          
          <code class="ruby">    wrapper)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="996">
          <span class="hits">22</span>
          
          <code class="ruby">      &quot;$rvm_scripts_path/wrapper&quot; &quot;$rvm_ruby_string&quot; &quot;$rvm_wrapper_name&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="997">
          <span class="hits">22</span>
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="998">
          <span class="hits">22</span>
          
          <code class="ruby">      unset rvm_wrapper_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="999">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1000">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1001">
          
          
          <code class="ruby">    do)</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1002">
          <span class="hits">26</span>
          
          <code class="ruby">      old_rvm_ruby_string=${rvm_ruby_string:-}</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1003">
          <span class="hits">26</span>
          
          <code class="ruby">      unset rvm_ruby_string</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1004">
          <span class="hits">26</span>
          
          <code class="ruby">      export rvm_ruby_strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1006">
          
          
          <code class="ruby">      (</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1007">
          <span class="hits">26</span>
          
          <code class="ruby">        if [[ -n &quot;${rvm_in_flag}&quot; &amp;&amp; -d &quot;${rvm_in_flag}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1008">
          
          
          <code class="ruby">        then __rvm_cd &quot;${rvm_in_flag}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1010">
          <span class="hits">26</span>
          
          <code class="ruby">        &quot;$rvm_scripts_path/set&quot; &quot;$rvm_action&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1011">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1012">
          <span class="hits">26</span>
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1013">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1014">
          
          
          <code class="ruby">      # Restore the state pre-sets.</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="1015">
          <span class="hits">50</span>
          
          <code class="ruby">      [[ -n &quot;$old_rvm_ruby_string&quot; ]] &amp;&amp; rvm_ruby_string=$old_rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1016">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="1017">
          <span class="hits">26</span>
          
          <code class="ruby">      unset old_rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1018">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1019">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1020">
          
          
          <code class="ruby">    rvmrc)</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="1021">
          <span class="hits">33</span>
          
          <code class="ruby">      __rvm_rvmrc_tools &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1022">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1024">
          
          
          <code class="ruby">    config-get)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1025">
          
          
          <code class="ruby">      typeset __ruby __var</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1026">
          
          
          <code class="ruby">      __ruby=$( which ruby )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1027">
          
          
          <code class="ruby">      for __var in &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1029">
          
          
          <code class="ruby">        __rvm_ruby_config_get &quot;${__var}&quot; &quot;${__ruby}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1030">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1031">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1032">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1033">
          
          
          <code class="ruby">    gemset)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1034">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="1035">
          <span class="hits">66</span>
          
          <code class="ruby">        [[ ${rvm_use_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="1037">
          <span class="hits">7</span>
          
          <code class="ruby">        if rvm_is_a_shell_function</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="1038">
          <span class="hits">7</span>
          
          <code class="ruby">        then __rvm_gemset_use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1039">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1040">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="59" data-linenumber="1041">
          <span class="hits">59</span>
          
          <code class="ruby">        export rvm_ruby_strings</code>
        </li>
      
        <li class="covered" data-hits="59" data-linenumber="1042">
          <span class="hits">59</span>
          
          <code class="ruby">        &quot;$rvm_scripts_path/gemsets&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="59" data-linenumber="1043">
          <span class="hits">59</span>
          
          <code class="ruby">        result=$?</code>
        </li>
      
        <li class="covered" data-hits="59" data-linenumber="1044">
          <span class="hits">59</span>
          
          <code class="ruby">        rvm_ruby_strings=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="59" data-linenumber="1046">
          <span class="hits">59</span>
          
          <code class="ruby">          rvm_is_a_shell_function no_warning</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1047">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1048">
          
          
          <code class="ruby">          # Clear the gemset.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1049">
          
          
          <code class="ruby">          if</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="1050">
          <span class="hits">52</span>
          
          <code class="ruby">            [[ ${rvm_delete_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1051">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1052">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="1053">
          <span class="hits">15</span>
          
          <code class="ruby">              [[ &quot;${GEM_HOME:-&quot;&quot;}&quot; == &quot;${GEM_HOME%%${rvm_gemset_separator:-@}*}${rvm_gemset_separator:-@}${rvm_gemset_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1054">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1055">
          <span class="hits">5</span>
          
          <code class="ruby">              rvm_delete_flag=0</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1056">
          <span class="hits">5</span>
          
          <code class="ruby">              __rvm_use &quot;@default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1057">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="1058">
          <span class="hits">15</span>
          
          <code class="ruby">            unset gem_prefix</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1059">
          
          
          <code class="ruby">          elif</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="1060">
          <span class="hits">37</span>
          
          <code class="ruby">            [[ &quot;${rvm_ruby_args[*]}&quot; =~ ^rename ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1061">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1062">
          <span class="hits">1</span>
          
          <code class="ruby">            typeset _command _from _to</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1063">
          <span class="hits">1</span>
          
          <code class="ruby">            read _command _from _to &lt;&lt;&lt;&quot;${rvm_ruby_args[*]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1064">
          
          
          <code class="ruby">            if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1065">
          <span class="hits">1</span>
          
          <code class="ruby">              [[ &quot;${GEM_HOME:-&quot;&quot;}&quot; == &quot;${GEM_HOME%%${rvm_gemset_separator:-@}*}${rvm_gemset_separator:-@}${_from}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1066">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1067">
          <span class="hits">1</span>
          
          <code class="ruby">              __rvm_use &quot;@${_to}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1068">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1069">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1070">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1071">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1072">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1073">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1074">
          
          
          <code class="ruby">    reload)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1075">
          
          
          <code class="ruby">      rvm_reload_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1076">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1077">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1078">
          
          
          <code class="ruby">    tests|specs)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1079">
          
          
          <code class="ruby">      rvm_action=&quot;rake&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1080">
          
          
          <code class="ruby">      __rvm_do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1081">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1082">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1083">
          
          
          <code class="ruby">    remove)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1084">
          <span class="hits">3</span>
          
          <code class="ruby">      export rvm_path</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1085">
          <span class="hits">3</span>
          
          <code class="ruby">      if [[ -n &quot;${rvm_ruby_strings}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1086">
          <span class="hits">3</span>
          
          <code class="ruby">      then __rvm_run_wrapper manage &quot;$rvm_action&quot; &quot;${rvm_ruby_strings//*-- }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1087">
          
          
          <code class="ruby">      else __rvm_run_wrapper manage &quot;$rvm_action&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1088">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="1089">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_use default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1090">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1091">
          
          
          <code class="ruby">    fetch|uninstall|reinstall)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1092">
          
          
          <code class="ruby">      export rvm_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1093">
          
          
          <code class="ruby">      if [[ -n &quot;${rvm_ruby_strings}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1094">
          
          
          <code class="ruby">      then __rvm_run_wrapper manage &quot;$rvm_action&quot; &quot;${rvm_ruby_strings//*-- }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1095">
          
          
          <code class="ruby">      else __rvm_run_wrapper manage &quot;$rvm_action&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1096">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1097">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1098">
          
          
          <code class="ruby">    try_install|install)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1099">
          <span class="hits">12</span>
          
          <code class="ruby">      export rvm_path</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1100">
          <span class="hits">12</span>
          
          <code class="ruby">      if [[ -n &quot;${rvm_ruby_strings}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1101">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1102">
          <span class="hits">12</span>
          
          <code class="ruby">        typeset save_ruby</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="1103">
          <span class="hits">36</span>
          
          <code class="ruby">        selected_ruby=&quot;$( __rvm_select &amp;&amp; echo $rvm_env_string )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1104">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1105">
          <span class="hits">12</span>
          
          <code class="ruby">          [[ -z &quot;${selected_ruby}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1106">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1107">
          
          
          <code class="ruby">          rvm_error &quot;Could not detect ruby version/name for installation, please be more specific.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1108">
          
          
          <code class="ruby">          false #report error</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1109">
          
          
          <code class="ruby">        elif</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1110">
          <span class="hits">12</span>
          
          <code class="ruby">          (( ${rvm_force_flag:-0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="1111">
          <span class="hits">36</span>
          
          <code class="ruby">          &quot;$rvm_scripts_path&quot;/list strings | GREP_OPTIONS=&quot;&quot; \grep &quot;^${selected_ruby%${rvm_gemset_separator:-'@'}*}$&quot; &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1112">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1113">
          
          
          <code class="ruby">          rvm_log &quot;Already installed ${selected_ruby%${rvm_gemset_separator:-'@'}*}.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1114">
          
          
          <code class="ruby">To reinstall use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1115">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1116">
          
          
          <code class="ruby">    rvm reinstall ${rvm_ruby_strings}</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="1117">
          <span class="hits">11</span>
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1118">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1119">
          <span class="hits">1</span>
          
          <code class="ruby">          __rvm_run_wrapper manage install &quot;${rvm_ruby_strings}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1120">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1122">
          
          
          <code class="ruby">        rvm_error &quot;Can not use or install 'all' rubies.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1123">
          
          
          <code class="ruby">        false #report error</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1124">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1125">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1127">
          
          
          <code class="ruby">    mount|automount|prepare)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1128">
          <span class="hits">2</span>
          
          <code class="ruby">      &quot;${rvm_scripts_path}/external&quot; &quot;$rvm_action&quot; &quot;$rvm_ruby_string&quot; &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1129">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1130">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1131">
          
          
          <code class="ruby">    export)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1132">
          <span class="hits">2</span>
          
          <code class="ruby">      __rvm_export &quot;$rvm_export_args&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1133">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1134">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1135">
          
          
          <code class="ruby">    unexport)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="1136">
          <span class="hits">2</span>
          
          <code class="ruby">      __rvm_unset_exports</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1137">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1138">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1139">
          
          
          <code class="ruby">    error)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1140">
          
          
          <code class="ruby">      false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1141">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1143">
          
          
          <code class="ruby">    answer)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1144">
          
          
          <code class="ruby">      source &quot;$rvm_scripts_path/functions/fun&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1145">
          
          
          <code class="ruby">      __rvm_Answer_to_the_Ultimate_Question_of_Life_the_Universe_and_Everything ; result=42</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1146">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1148">
          
          
          <code class="ruby">    question)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1149">
          
          
          <code class="ruby">      source &quot;$rvm_scripts_path/functions/fun&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1150">
          
          
          <code class="ruby">      __rvm_ultimate_question ; result=42</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1151">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1153">
          
          
          <code class="ruby">    which)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1154">
          
          
          <code class="ruby">      __rvm_which &quot;${rvm_ruby_args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1155">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1156">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1157">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1158">
          
          
          <code class="ruby">      rvm_error &quot;unknown action '$rvm_action'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1159">
          
          
          <code class="ruby">      false # result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1160">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1161">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1162">
          <span class="hits">273</span>
          
          <code class="ruby">  current_result=$? # Use the result of first found error</code>
        </li>
      
        <li class="covered" data-hits="526" data-linenumber="1163">
          <span class="hits">526</span>
          
          <code class="ruby">  (( result )) || result=${current_result}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1164">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1165">
          <span class="hits">273</span>
          
          <code class="ruby">  (( result )) ||</code>
        </li>
      
        <li class="covered" data-hits="284" data-linenumber="1166">
          <span class="hits">284</span>
          
          <code class="ruby">  case &quot;$rvm_action&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1167">
          
          
          <code class="ruby">    reinstall|try_install|install)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1168">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="1169">
          <span class="hits">36</span>
          
          <code class="ruby">        [[ $(find $rvm_rubies_path -maxdepth 1 -mindepth 1 -type d 2&gt;/dev/null | wc -l) -eq 1 ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1170">
          
          
          <code class="ruby">        [[ ! -f &quot;${rvm_environments_path}/default&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1171">
          
          
          <code class="ruby">        rvm_is_a_shell_function no_warning</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1172">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1173">
          
          
          <code class="ruby">        rvm_log &quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1174">
          
          
          <code class="ruby">        rvm_verbose_flag=0 rvm_default_flag=1 __rvm_use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1175">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1176">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1177">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1178">
          <span class="hits">273</span>
          
          <code class="ruby">  current_result=$? # Use the result of first found error</code>
        </li>
      
        <li class="covered" data-hits="521" data-linenumber="1179">
          <span class="hits">521</span>
          
          <code class="ruby">  (( result )) || result=${current_result}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1180">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1181">
          <span class="hits">273</span>
          
          <code class="ruby">  typeset __local_rvm_trace_flag</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1182">
          <span class="hits">273</span>
          
          <code class="ruby">  __local_rvm_trace_flag=${rvm_trace_flag:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1183">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1184">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1185">
          <span class="hits">273</span>
          
          <code class="ruby">    [[ ${rvm_reload_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1186">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1187">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1188">
          
          
          <code class="ruby">      [[ -s &quot;$rvm_scripts_path/rvm&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1189">
          
          
          <code class="ruby">     then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1190">
          
          
          <code class="ruby">      __rvm_project_rvmrc_lock=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1191">
          
          
          <code class="ruby">      source &quot;$rvm_scripts_path/rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1192">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1193">
          
          
          <code class="ruby">      echo &quot;rvm not found in $rvm_path, please install and run 'rvm reload'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1194">
          
          
          <code class="ruby">      __rvm_teardown</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1195">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1196">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1197">
          <span class="hits">273</span>
          
          <code class="ruby">    __rvm_teardown</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1198">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1199">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1200">
          <span class="hits">273</span>
          
          <code class="ruby">  if (( __local_rvm_trace_flag &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1201">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1202">
          
          
          <code class="ruby">    set +o verbose</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1203">
          
          
          <code class="ruby">    set +o xtrace</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1204">
          
          
          <code class="ruby">    [[ -n &quot;${ZSH_VERSION:-&quot;&quot;}&quot; ]] || set +o errtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1205">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1206">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="1207">
          <span class="hits">273</span>
          
          <code class="ruby">  return ${result:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1208">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="a20f78cd2aca8ff48edaa7264167bcd511d10400">
  <div class="header">
    <h3>/usr/local/rvm/scripts/color</h3>
    <h4><span class="red">34.62 %</span> covered</h4>
    <div>
      <b>26</b> relevant lines. 
      <span class="green"><b>9</b> lines covered</span> and
      <span class="red"><b>17</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># set colors, separate multiple selections with comma, order is not important</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># using bold in one definition requires resetting it in others with offbold</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># using background in one color requires resetting it in others with bdefault</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># example:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">#   rvm_error_color=bold,red</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">#   rvm_notify_color=offbold,green</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="10">
          <span class="hits">5</span>
          
          <code class="ruby">case &quot;${TERM:-dumb}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">  (dumb|unknown) exit 0 ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="13">
          <span class="hits">10</span>
          
          <code class="ruby">builtin command -v tput &gt;/dev/null &amp;&amp; tput sgr0 &gt;/dev/null || exit 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">for color in ${1//,/ }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">do</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">  case &quot;${color:-}&quot; in</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">    # regular colors</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">    black)    tput setaf 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">    red)      tput setaf 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="23">
          <span class="hits">1</span>
          
          <code class="ruby">    green)    tput setaf 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    yellow)   tput setaf 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">    blue)     tput setaf 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="29">
          <span class="hits">1</span>
          
          <code class="ruby">    magenta)  tput setaf 5</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    cyan)     tput setaf 6</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">    white)    tput setaf 7</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">    # emphasized (bolded) colors</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">    bold)     tput smso</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    offbold)  tput rmso</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    # background colors</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    bblack)   tput setab 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    bred)     tput setab 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">    bgreen)   tput setab 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">    byellow)  tput setab 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    bblue)    tput setab 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">    bmagenta) tput setab 5</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">    bcyan)    tput setab 6</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">    bwhite)   tput setab 7</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">    # Defaults</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">    default)  tput setaf 9</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">    bdefault) tput setab 9</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    # Reset</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="66">
          <span class="hits">1</span>
          
          <code class="ruby">    *)        tput sgr0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">done</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="c7758c8b12e002d0122639e0996af29d2bbc4f53">
  <div class="header">
    <h3>/usr/local/rvm/scripts/db</h3>
    <h4><span class="red">53.66 %</span> covered</h4>
    <div>
      <b>41</b> relevant lines. 
      <span class="green"><b>22</b> lines covered</span> and
      <span class="red"><b>19</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="5">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="7">
          
          
          <code class="ruby">  Usage:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">    db database_file {{key}} {{value}} # set</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">    db database_file {{key}}           # get</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">    db database_file {{key}} unset     # unset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">&quot; &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="16">
          <span class="hits">1027</span>
          
          <code class="ruby">if [[ -f &quot;$1&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="18">
          <span class="hits">1027</span>
          
          <code class="ruby">  database_file=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="19">
          <span class="hits">1027</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="20">
          <span class="hits">1027</span>
          
          <code class="ruby">  if [[ ! -f &quot;$database_file&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    directory=$(dirname &quot;$database_file&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">    [[ -d &quot;$directory&quot; ]] || mkdir -p &quot;$directory&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">    touch &quot;$database_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\n\nDatabase file $1 does not exist.\n\n&quot; &gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="33">
          <span class="hits">1027</span>
          
          <code class="ruby">key=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="34">
          <span class="hits">1027</span>
          
          <code class="ruby">shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="36">
          <span class="hits">1027</span>
          
          <code class="ruby">if [[ -z &quot;$key&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">  usage</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="41">
          <span class="hits">1027</span>
          
          <code class="ruby">  if (( ${escape_flag:-0} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3054" data-linenumber="43">
          <span class="hits">3054</span>
          
          <code class="ruby">    escaped_key=&quot;$(\printf &quot;%b&quot; &quot;$key&quot; | \sed -e 's#\\#\\#g' -e 's#/#\\/#g' -e 's#\.#\.#g')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="45">
          <span class="hits">9</span>
          
          <code class="ruby">    escaped_key=&quot;$key&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1027" data-linenumber="48">
          <span class="hits">1027</span>
          
          <code class="ruby">  value=&quot;$*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2054" data-linenumber="50">
          <span class="hits">2054</span>
          
          <code class="ruby">  if [[ &quot;unset&quot; == &quot;$value&quot; || &quot;delete&quot; == &quot;$value&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="52">
          <span class="hits">22</span>
          
          <code class="ruby">    \sed -e &quot;s#^$escaped_key=.*\$##&quot;  -e '/^$/d' &quot;$database_file&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">      &gt; &quot;$database_file.new&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="55">
          <span class="hits">22</span>
          
          <code class="ruby">    \mv -f &quot;$database_file.new&quot; &quot;$database_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1005" data-linenumber="57">
          <span class="hits">1005</span>
          
          <code class="ruby">    if [[ -z &quot;$value&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">    then # get</code>
        </li>
      
        <li class="covered" data-hits="989" data-linenumber="59">
          <span class="hits">989</span>
          
          <code class="ruby">      [[ -s &quot;${database_file}&quot; ]] || exit 0 # File is empty, nothing to get.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="989" data-linenumber="61">
          <span class="hits">989</span>
          
          <code class="ruby">      \awk -F= '/^'&quot;$escaped_key&quot;'=/' &quot;$database_file&quot; \</code>
        </li>
      
        <li class="covered" data-hits="989" data-linenumber="62">
          <span class="hits">989</span>
          
          <code class="ruby">        | \sed -e &quot;s#^$escaped_key=##&quot; -e '/^$/d'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">    else # set</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="64">
          <span class="hits">16</span>
          
          <code class="ruby">      \sed -e &quot;s#^$escaped_key=.*\$##&quot; -e '/^$/d' &quot;$database_file&quot; &gt; &quot;$database_file.new&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="66">
          <span class="hits">16</span>
          
          <code class="ruby">      \mv -f &quot;$database_file.new&quot; &quot;$database_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="68">
          <span class="hits">32</span>
          
          <code class="ruby">      if [[ -z &quot;$(awk -F= &quot;/^'&quot;$escaped_key&quot;'=/{print $2}&quot; &quot;$database_file&quot;)&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">      then # append</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="70">
          <span class="hits">16</span>
          
          <code class="ruby">        echo &quot;$escaped_key=$value&quot; &gt;&gt; &quot;$database_file&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">      else # overwrite</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="72">
          
          
          <code class="ruby">        __rvm_sed_i &quot;$dtabase_file&quot; -e &quot;s#^$escaped_key=.*\$#$escaped_key=$value#&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="966ae3cf3739addb3951738f8288fe3c8d59e9dd">
  <div class="header">
    <h3>/usr/local/rvm/scripts/env</h3>
    <h4><span class="red">60.0 %</span> covered</h4>
    <div>
      <b>10</b> relevant lines. 
      <span class="green"><b>6</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="3">
          <span class="hits">3</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="5">
          <span class="hits">6</span>
          
          <code class="ruby">environment_file_path=&quot;$rvm_environments_path/$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># Echo the path or environment file.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="8">
          <span class="hits">5</span>
          
          <code class="ruby">  [[ &quot;$rvm_path_flag&quot; == &quot;1&quot; || &quot;$*&quot; =~ &quot;--path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="10">
          <span class="hits">2</span>
          
          <code class="ruby">  echo &quot;$environment_file_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">elif</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="12">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ &quot;$rvm_cron_flag&quot; == &quot;1&quot; || &quot;$*&quot; =~ &quot;--cron&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">  cat &quot;$environment_file_path&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep -Eo &quot;[^ ]+=[^;]+&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">    sed -e 's/\$PATH/'&quot;${PATH//\//\/}&quot;'/' -e 's/\${PATH}/'&quot;${PATH//\//\/}&quot;'/'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">  cat &quot;$environment_file_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="00e1c80c56f7c2ce5e6b39d5e12c0062136b661c">
  <div class="header">
    <h3>/usr/local/rvm/scripts/external</h3>
    <h4><span class="red">29.86 %</span> covered</h4>
    <div>
      <b>345</b> relevant lines. 
      <span class="green"><b>103</b> lines covered</span> and
      <span class="red"><b>242</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="3">
          <span class="hits">2</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="4">
          <span class="hits">2</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/build&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">external_automount()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  external_mount_uniq $(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">    __rvm_remove_rvm_from_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">    __rvm_which -a ruby</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">external_grep_existing()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">  typeset IFS</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">  typeset -a existing</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  existing=( $(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    for ext in $rvm_externals_path/*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">      if [[ -L &quot;$ext&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">        readlink &quot;$ext&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">  ) )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  IFS=&quot;|&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  rvm_debug &quot;existing:${existing[*]}:&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">  if (( ${#existing[@]} &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep -vE &quot;${existing[*]}&quot; -</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">    cat -</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">external_mount_uniq()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">  typeset ruby_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">  typeset -a ruby_paths</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  ruby_paths=( $(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">    for ruby_path in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">        [[ -d &quot;${ruby_path}&quot; &amp;&amp; -x &quot;${ruby_path}/bin/ruby&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">        [[ -f &quot;${ruby_path}&quot; &amp;&amp; -x &quot;${ruby_path}&quot;          ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">        echo &quot;${ruby_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">    done | sort -u | external_grep_existing</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">  ) )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">  if (( ${#ruby_paths[@]} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">    rvm_error &quot;The given paths '$*' either do not point to a ruby installation or are already mounted.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">    for ruby_path in ${ruby_paths[@]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">      ( external_mount &quot;${ruby_path}&quot; ) || exit $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">external_mount_link_default_binaries()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">  typeset _binary _binary_addition</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="70">
          
          
          <code class="ruby">  typeset -a _binaries</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">  _binaries=(ruby gem irb erb ri rdoc testrb rake)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="73">
          
          
          <code class="ruby">  case &quot;${ruby_path##*/}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">    (ruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">    (*ruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">      _binary_addition=&quot;${ruby_path##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">      _binary_addition=&quot;${_binary_addition%ruby}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">      for _binary in &quot;${_binaries[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">          [[ ! -f &quot;${prefix_path}/${_binary}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">          [[ -f &quot;${prefix_path}/${_binary_addition}${_binary}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">          ln -s &quot;${prefix_path}/${_binary_addition}${_binary}&quot; &quot;${prefix_path}/${_binary}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">    (ruby*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">      _binary_addition=&quot;${ruby_path##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">      _binary_addition=&quot;${_binary_addition#ruby}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">      for _binary in &quot;${_binaries[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="96">
          
          
          <code class="ruby">          [[ ! -f &quot;${prefix_path}/${_binary}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">          [[ -f &quot;${prefix_path}/${_binary}${_binary_addition}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">          ln -s &quot;${prefix_path}/${_binary}${_binary_addition}&quot; &quot;${prefix_path}/${_binary}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">external_mount()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">  typeset _given_path ruby_path prefix_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="109">
          
          
          <code class="ruby">  _given_path=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  if [[ ! -d &quot;${_given_path}&quot; &amp;&amp; -x &quot;${_given_path}&quot; ]] &amp;&amp; &quot;${_given_path}&quot; --version | GREP_OPTIONS=&quot;&quot; \grep rub &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">    ruby_path=&quot;${_given_path}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">    prefix_path=&quot;$( __rvm_ruby_config_get prefix &quot;${_given_path}&quot; )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">  elif [[ -d &quot;${_given_path}&quot; &amp;&amp; -x &quot;${_given_path}/bin/ruby&quot; ]] &amp;&amp; &quot;${_given_path}/bin/ruby&quot; --version | GREP_OPTIONS=&quot;&quot; \grep rub &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">    ruby_path=&quot;${_given_path}/bin/ruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">    prefix_path=&quot;$( __rvm_ruby_config_get prefix &quot;${ruby_path}&quot; )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">    if [[ &quot;${_given_path}&quot; != &quot;${prefix_path}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">      rvm_error &quot;The given path '$_given_path' contains ruby but it has different prefix '$prefix_path'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">      exit 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">    rvm_error &quot;The given path '$_given_path' does not point to a ruby installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">    exit 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_string:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">    if ! external_select_name &quot;${ruby_path}&quot; &quot;${prefix_path}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">      [[ -z &quot;${rvm_ruby_string:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">      rvm_error &quot;No name selected for ruby in '$prefix_path'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">      exit 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">  rvm_ruby_string=&quot;ext-${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">  echo &quot;Mounting '${rvm_ruby_string}' from '${prefix_path}'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">  mkdir -p &quot;$rvm_externals_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">  ln -nfs &quot;${prefix_path}&quot; &quot;$rvm_externals_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">  mkdir -p &quot;$rvm_rubies_path/$rvm_ruby_string/bin&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">  ln -nfs &quot;${ruby_path}&quot; &quot;$rvm_rubies_path/$rvm_ruby_string/bin/ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">  external_mount_link_default_binaries</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">  rvm_create_flag=1 __rvm_use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">  mkdir -p &quot;$rvm_gems_path/$rvm_ruby_string@global&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">  old_gem_home=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">    unset GEM_HOME</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="153">
          
          
          <code class="ruby">    &quot;${prefix_path}/bin/gem&quot; env gemhome</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="154">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">  ln -nfs &quot;${old_gem_home}&quot; &quot;$rvm_gems_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">  __rvm_generate_wrappers</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">  (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="160">
          
          
          <code class="ruby">    export rvm_gemset_name=global</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">    __rvm_gemsets_initial</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="164">
          
          
          <code class="ruby">  __rvm_fix_gcc_path &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">  __rvm_ruby_config_save &quot;$ruby_path&quot; &quot;$rvm_rubies_path/$rvm_ruby_string/config&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">  __rvm_fix_group_permissions &quot;$rvm_rubies_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">  __rvm_record_install &quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">external_select_name()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">  typeset proposed_name ruby_version ruby_path prefix_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="173">
          
          
          <code class="ruby">  export rvm_ruby_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">    ruby_path=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">  prefix_path=&quot;$2&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">  ruby_version=&quot;$( &quot;${ruby_path}&quot; --version)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="177">
          
          
          <code class="ruby">  if [[ -x &quot;${ruby_path}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="178">
          
          
          <code class="ruby">    proposed_name=&quot;$( external_propose_name &quot;$ruby_version&quot; )&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">    [[ -n &quot;${proposed_name:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">    echo &quot;Found '${ruby_version}' in '${prefix_path}'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">    printf &quot;\n# Please enter name [${proposed_name}]: &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">    read rvm_ruby_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">    printf &quot;\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">    : rvm_ruby_string:${rvm_ruby_string:=${proposed_name}}:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">    echo &quot;Name not found for '${ruby_path}' in '${prefix_path}'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="188">
          
          
          <code class="ruby">    false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">external_propose_name()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="194">
          
          
          <code class="ruby">  typeset parts __tmp1 __tmp2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">  parts=&quot;$( echo &quot;$1&quot; | sed 's/[()]//g; s/\[.*\]//;' )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">  case &quot;${parts}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">    (*Ruby[[:space:]]Enterprise[[:space:]]Edition*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="198">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">      __tmp2=&quot;${parts##* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="201">
          
          
          <code class="ruby">      printf &quot;ree-${__tmp1}-${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">    (ruby[[:space:]]*patchlevel[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="204">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="206">
          
          
          <code class="ruby">      __tmp2=&quot;${parts##*patchlevel }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="207">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="208">
          
          
          <code class="ruby">      printf &quot;ruby-${__tmp1}-p${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="210">
          
          
          <code class="ruby">    (ruby[[:space:]][[:digit:]].[[:digit:]].[[:digit:]]p[[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="211">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="212">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp1##+([[:digit:]\.])}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="214">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%${__tmp2}}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">      printf &quot;ruby-${__tmp1}-${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">    (ruby[[:space:]]*revision[[:space:]]*|ruby[[:space:]]*trunk[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="219">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="220">
          
          
          <code class="ruby">      __tmp2=&quot;${parts##*trunk }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="221">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2##*revision }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">      printf &quot;ruby-${__tmp1}-r${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="225">
          
          
          <code class="ruby">    (ruby[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="228">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp1##+([[:digit:]\.])}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="229">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%${__tmp2}}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="230">
          
          
          <code class="ruby">      printf &quot;ruby-${__tmp1}-${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">    (jruby[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="234">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">      __tmp2=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="236">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="238">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#ruby-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2//-/_}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="240">
          
          
          <code class="ruby">      printf &quot;jruby-${__tmp1}-default_${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="242">
          
          
          <code class="ruby">    (maglev[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="243">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="244">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">      __tmp2=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="247">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="248">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="249">
          
          
          <code class="ruby">      printf &quot;maglev-${__tmp1}-default_${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="251">
          
          
          <code class="ruby">    (topaz[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="252">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="253">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="254">
          
          
          <code class="ruby">      __tmp2=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="257">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">      printf &quot;topaz-${__tmp1}-default_${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="260">
          
          
          <code class="ruby">    (rubinius[[:space:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="261">
          
          
          <code class="ruby">      __tmp1=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">      __tmp1=&quot;${__tmp1%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="263">
          
          
          <code class="ruby">      __tmp2=&quot;${parts#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="264">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="265">
          
          
          <code class="ruby">      __tmp2=&quot;${__tmp2%% *}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">      printf &quot;rbx-${__tmp1}-default_${__tmp2}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="268">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="269">
          
          
          <code class="ruby">      false</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">external_import_configure()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="276">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset platfo\rm architecture libc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">  if (( ${rvm_install_flag:-0} &gt; 0 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="279">
          
          
          <code class="ruby">  then err_command=rvm_warn</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="280">
          <span class="hits">1</span>
          
          <code class="ruby">  else err_command=rvm_error</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="283">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_ruby_url=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="284">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${2:-${rvm_ruby_url}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="286">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -r &quot;${rvm_ruby_url}&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="287">
          
          
          <code class="ruby">  case &quot;${rvm_ruby_url}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="288">
          
          
          <code class="ruby">    (http*) true ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="289">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="290">
          
          
          <code class="ruby">      __rvm_ruby_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="291">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;$(__rvm_remote_server_path &quot;${rvm_ruby_string}&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="295">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${rvm_ruby_string##*/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="296">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${rvm_ruby_string%.t*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="297">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_ruby_package_file &quot;${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="298">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_ruby_package_file=&quot;bin-${rvm_ruby_string}.$(__rvm_remote_extension &quot;${rvm_ruby_string}&quot; -)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">external_import_download()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -r &quot;${rvm_ruby_url}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="306">
          <span class="hits">1</span>
          
          <code class="ruby">    \cp -f &quot;${rvm_ruby_url}&quot; &quot;$rvm_archives_path/${rvm_ruby_package_file}&quot; || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="307">
          
          
          <code class="ruby">      $err_command &quot;Copying ${rvm_ruby_url} failed.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="308">
          
          
          <code class="ruby">      return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="311">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/fetch&quot; &quot;${rvm_ruby_url}?rvm=${rvm_version%% *}&quot; &quot;${rvm_ruby_package_file}&quot; || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="312">
          
          
          <code class="ruby">      $err_command &quot;Downloading ${rvm_ruby_url} failed.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">      return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">external_import_validate_archive()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="320">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a downloaded_names path_to_bin_ruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="322">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_read_lines path_to_bin_ruby &lt; &lt;(</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="323">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_package_list &quot;$rvm_archives_path/${rvm_ruby_package_file}&quot; | \grep &quot;bin/ruby$&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="324">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="325">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_read_lines downloaded_names &lt; &lt;(</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="326">
          <span class="hits">3</span>
          
          <code class="ruby">    __rvm_package_list &quot;$rvm_archives_path/${rvm_ruby_package_file}&quot; | awk -F/ '{print $1}' | sort -u</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="327">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="329">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ &quot;${#path_to_bin_ruby[*]}&quot; -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="331">
          <span class="hits">1</span>
          
          <code class="ruby">    __path_to_extract=&quot;${path_to_bin_ruby[*]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="332">
          <span class="hits">1</span>
          
          <code class="ruby">    __path_to_extract=&quot;${__path_to_extract%bin/ruby}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="333">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="334">
          
          
          <code class="ruby">    [[ &quot;${rvm_ruby_string}&quot; == &quot;${downloaded_names[*]}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="336">
          
          
          <code class="ruby">    __path_to_extract=&quot;${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="338">
          
          
          <code class="ruby">    $err_command &quot;The downloaded package for ${rvm_ruby_url},</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="339">
          
          
          <code class="ruby">Does not contains single 'bin/ruby' or '${rvm_ruby_string}',</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="340">
          
          
          <code class="ruby">Only '${downloaded_names[*]}' were found instead.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="341">
          
          
          <code class="ruby">    return 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">external_import_extract()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="348">
          <span class="hits">1</span>
          
          <code class="ruby">  \rm -rf &quot;${rvm_rubies_path}/${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="349">
          <span class="hits">1</span>
          
          <code class="ruby">  mkdir -p &quot;${rvm_rubies_path}/${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="350">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_package_extract &quot;$rvm_archives_path/${rvm_ruby_package_file}&quot; &quot;${rvm_rubies_path}/${rvm_ruby_string}&quot; || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="351">
          
          
          <code class="ruby">    $err_command &quot;Unpacking ${rvm_ruby_package_file} failed.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="352">
          
          
          <code class="ruby">    return 6</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="356">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -n &quot;${__path_to_extract}&quot; &amp;&amp; &quot;${__path_to_extract}&quot; != &quot;/&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="358">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -d &quot;${rvm_rubies_path}/${rvm_ruby_string}/${__path_to_extract}/bin&quot; ]] || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="359">
          
          
          <code class="ruby">      $err_command &quot;Target directory '${__path_to_extract}' was not created,</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="360">
          
          
          <code class="ruby">make sure '${rvm_ruby_url}' is a valid binary ruby archive.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="361">
          
          
          <code class="ruby">      return 8</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="363">
          <span class="hits">1</span>
          
          <code class="ruby">    \mv &quot;${rvm_rubies_path}/${rvm_ruby_string}/${__path_to_extract}&quot;/* &quot;${rvm_rubies_path}/${rvm_ruby_string}/&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="364">
          <span class="hits">1</span>
          
          <code class="ruby">    \rm -rf &quot;${rvm_rubies_path}/${rvm_ruby_string}/${__path_to_extract%%/*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby"># validate libraries - make sure everything can be loaded</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby">external_import_validate_binary()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="371">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset IFS</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="372">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a missing_libs</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="373">
          <span class="hits">1</span>
          
          <code class="ruby">  export _libdir</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="374">
          <span class="hits">2</span>
          
          <code class="ruby">  _libdir=&quot;$( __rvm_ruby_config_get libdir &quot;${rvm_rubies_path}/${rvm_ruby_string}/bin/ruby&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">  missing_libs=( $(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="376">
          
          
          <code class="ruby">    case $(uname) in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="377">
          
          
          <code class="ruby">      (Linux)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="378">
          
          
          <code class="ruby">        find &quot;${rvm_rubies_path}/${rvm_ruby_string}&quot; -name '*.so' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="379">
          
          
          <code class="ruby">          xargs env LD_LIBRARY_PATH=&quot;${_libdir}&quot; ldd 2&gt;/dev/null |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="380">
          
          
          <code class="ruby">          awk '/not found/{print $1}' | sort -u</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="382">
          
          
          <code class="ruby">      (Darwin)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="383">
          
          
          <code class="ruby">        find &quot;${rvm_rubies_path}/${rvm_ruby_string}&quot; -name &quot;*.bundle&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">          xargs env LD_LIBRARY_PATH=&quot;${_libdir}&quot; otool -L 2&gt;&amp;1 |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="385">
          
          
          <code class="ruby">          awk -F&quot;[ :]&quot; '{print $1}' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="386">
          
          
          <code class="ruby">          sed 's#@executable_path#'&quot;${rvm_rubies_path}/${rvm_ruby_string}&quot;'/bin#' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="387">
          
          
          <code class="ruby">          xargs ls -1 2&gt;&amp;1 1&gt;/dev/null |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="388">
          
          
          <code class="ruby">          awk -F&quot;[ :]&quot; '{print $3}' | sort -u</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="390">
          
          
          <code class="ruby">      (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="391">
          
          
          <code class="ruby">        rvm_warn &quot;$(uname) libraries validation not yet implemented&quot; &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="394">
          <span class="hits">1</span>
          
          <code class="ruby">  ) )</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="395">
          <span class="hits">8</span>
          
          <code class="ruby">  unset _libdir</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="396">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -z &quot;${missing_libs[*]}&quot; ]] || {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="397">
          <span class="hits">1</span>
          
          <code class="ruby">    IFS=&quot;,&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="398">
          <span class="hits">1</span>
          
          <code class="ruby">    $err_command &quot;Libraries missing for ${rvm_ruby_string}: ${missing_libs[*]}. Refer to your system manual for installing libraries&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="399">
          <span class="hits">2</span>
          
          <code class="ruby">    return 10</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">__rvm_fix_wrappers()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="405">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset actual_file</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="406">
          <span class="hits">10</span>
          
          <code class="ruby">  find &quot;$rvm_rubies_path/$rvm_ruby_string/bin/&quot; -type f | while read actual_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="409">
          <span class="hits">8</span>
          
          <code class="ruby">      [[ -s &quot;$actual_file&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="411">
          <span class="hits">8</span>
          
          <code class="ruby">      __rvm_sed_i &quot;$actual_file&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="412">
          
          
          <code class="ruby">        -e &quot;/^ENV\[[\&quot;']GEM_HOME[\&quot;']\]=/ d&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="413">
          
          
          <code class="ruby">        -e &quot;/^ENV\[[\&quot;']GEM_PATH[\&quot;']\]=/ d&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="414">
          
          
          <code class="ruby">        -e &quot;/^ENV\[[\&quot;']PATH[\&quot;']\]=/ d&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="416">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="418">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ ! -f &quot;$rvm_rubies_path/$rvm_ruby_string/bin/ruby&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="419">
          
          
          <code class="ruby">    [[ -f &quot;$rvm_rubies_path/$rvm_ruby_string/bin/jruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="421">
          
          
          <code class="ruby">    ln -s &quot;$rvm_rubies_path/$rvm_ruby_string/bin/jruby&quot; &quot;$rvm_rubies_path/$rvm_ruby_string/bin/ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="425">
          
          
          <code class="ruby">__rvm_fix_lib_files()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="427">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset __path __file</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="428">
          <span class="hits">1</span>
          
          <code class="ruby">  __path=&quot;$rvm_rubies_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="430">
          <span class="hits">2</span>
          
          <code class="ruby">  __file=&quot;$( find &quot;${__path}&quot; -name libyaml.la )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="431">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_sed_i &quot;${__file}&quot; -e &quot;s#^libdir=.*\$#libdir='$(dirname &quot;${__file}&quot;)'#&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="432">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="433">
          <span class="hits">2</span>
          
          <code class="ruby">  find &quot;${__path}&quot; -name &quot;*.pc&quot; | while read __file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="435">
          
          
          <code class="ruby">    __rvm_sed_i &quot;${__file}&quot; -e &quot;s#^prefix=.*\$#prefix=${__path}#&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">external_import_setup()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="441">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_select</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="442">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_fix_wrappers</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="443">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_fix_lib_files</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="444">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_rubygems_create_link &quot;$rvm_rubies_path/$rvm_ruby_string/bin/ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="445">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="446">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_create_flag=1 __rvm_use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="448">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_generate_wrappers</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="449">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_fix_gcc_path &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="450">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_gemsets_initial</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="451">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_ruby_config_save &quot;$rvm_rubies_path/$rvm_ruby_string/bin/ruby&quot; &quot;$rvm_rubies_path/$rvm_ruby_string/config&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="452">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_record_install &quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">external_import()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="457">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset step err_command rvm_ruby_url rvm_ruby_string rvm_ruby_package_file __path_to_extract</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="459">
          <span class="hits">6</span>
          
          <code class="ruby">  for step in configure download validate_archive extract validate_binary setup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="461">
          <span class="hits">6</span>
          
          <code class="ruby">    rvm_log &quot;${rvm_ruby_string:-${2:-$1}} - #${step//_/ }&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="462">
          <span class="hits">6</span>
          
          <code class="ruby">    external_import_${step} &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="466">
          
          
          <code class="ruby">external_prepare()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="468">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset remote_shell</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="469">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="470">
          <span class="hits">1</span>
          
          <code class="ruby">  remote_shell=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="471">
          <span class="hits">1</span>
          
          <code class="ruby">  shift || [[ -n &quot;${rvm_ruby_string}&quot; ]] || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="472">
          
          
          <code class="ruby">    rvm_error_help &quot;Missing ruby name to export for prepare.&quot; external prepare</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="473">
          
          
          <code class="ruby">    return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="475">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_ruby_string</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="476">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_remote_extension &quot;${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="478">
          <span class="hits">1</span>
          
          <code class="ruby">  external_prepare_package &quot;${rvm_ruby_string}.${rvm_remote_extension}&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="479">
          <span class="hits">1</span>
          
          <code class="ruby">  external_prepare_upload &quot;${rvm_ruby_string}.${rvm_remote_extension}&quot; &quot;${remote_shell}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="482">
          
          
          <code class="ruby">external_prepare_package()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="484">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset file_name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="485">
          <span class="hits">1</span>
          
          <code class="ruby">  file_name=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="486">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="487">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ ! -d &quot;${rvm_rubies_path}/${rvm_ruby_string}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="488">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="490">
          
          
          <code class="ruby">      (( ${rvm_install_flag:-0} &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="491">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="492">
          
          
          <code class="ruby">      rvm_configure_flags+=( --enable-load-relative --sysconfdir=/etc )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="493">
          
          
          <code class="ruby">      __rvm_run_wrapper manage install &quot;${rvm_ruby_string}&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="495">
          
          
          <code class="ruby">      rvm_error &quot;Ruby ${rvm_ruby_string} does not exist, maybe install first?.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="496">
          
          
          <code class="ruby">      return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="500">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Preparing ${rvm_ruby_string} ...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="502">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_package_create &quot;${file_name}&quot; &quot;${rvm_rubies_path}&quot; &quot;${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="504">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;Prepared ${file_name}.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="506">
          
          
          <code class="ruby">    case $? in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="507">
          
          
          <code class="ruby">      199)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="508">
          
          
          <code class="ruby">        rvm_error &quot;Unrecognized archive format for ${file_name}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="509">
          
          
          <code class="ruby">        return 199</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="511">
          
          
          <code class="ruby">      *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="512">
          
          
          <code class="ruby">        rvm_error &quot;Error packaging ${file_name}.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="513">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby">#TODO: move to SMF ! RVM2 ?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">external_prepare_upload()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="522">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset remote_path remote_shell remote_directory system_path __remote_file file_name local_file path_prefix</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="524">
          <span class="hits">1</span>
          
          <code class="ruby">  file_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="525">
          <span class="hits">1</span>
          
          <code class="ruby">  remote_path=&quot;${2:-rvm@rvm.io:~/shared/public/binaries}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="526">
          <span class="hits">2</span>
          
          <code class="ruby">  system_path=&quot;$(__rvm_system_path - 99 )&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="527">
          <span class="hits">1</span>
          
          <code class="ruby">  remote_directory=&quot;${remote_path#*:}/${system_path}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="528">
          <span class="hits">1</span>
          
          <code class="ruby">  remote_shell=&quot;${remote_path%:*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="529">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="530">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ ${rvm_path_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="532">
          
          
          <code class="ruby">    path_prefix=&quot;${remote_path#*:}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="533">
          
          
          <code class="ruby">    path_prefix=&quot;${path_prefix##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="534">
          
          
          <code class="ruby">    mkdir -p &quot;${path_prefix}/${system_path}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="535">
          
          
          <code class="ruby">    local_file=&quot;${path_prefix}/${system_path}/${file_name}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="536">
          
          
          <code class="ruby">    \mv &quot;${file_name}&quot; &quot;${local_file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="538">
          <span class="hits">1</span>
          
          <code class="ruby">    local_file=&quot;${file_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_calculate_remote_file  0 1 1 &quot;${file_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="542">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;--- upload:&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="543">
          <span class="hits">1</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;ssh \&quot;$remote_shell\&quot; \&quot;mkdir -p $remote_directory/\&quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="545">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ ${rvm_path_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="547">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;rsync -av --rsh=ssh \&quot;${path_prefix}/\&quot; \&quot;${remote_path}/\&quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="549">
          <span class="hits">1</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;scp \&quot;${local_file}\&quot; \&quot;$remote_shell:$remote_directory/${file_name}\&quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="551">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;--- rvm/config/remote:&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="552">
          <span class="hits">1</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;${__remote_file}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="553">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;--- rvm/config/md5:&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="554">
          <span class="hits">2</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;${__remote_file}=$( __rvm_md5_calculate      &quot;${local_file}&quot; )\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="555">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;--- rvm/config/sha512:&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="556">
          <span class="hits">2</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;${__remote_file}=$( __rvm_sha__calculate 512 &quot;${local_file}&quot; )\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="559">
          <span class="hits">2</span>
          
          <code class="ruby">action=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="560">
          <span class="hits">2</span>
          
          <code class="ruby">shift || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="561">
          
          
          <code class="ruby">  rvm_error_help &quot;Missing action for external.&quot; external</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="562">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="564">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby"># skip first param if empty</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="566">
          <span class="hits">4</span>
          
          <code class="ruby">[[ -n &quot;${1:-}&quot; ]] || (( $#==0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="568">
          <span class="hits">2</span>
          
          <code class="ruby">case &quot;${action}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="569">
          
          
          <code class="ruby">  (automount|prepare)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="570">
          <span class="hits">1</span>
          
          <code class="ruby">    external_$action &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="572">
          
          
          <code class="ruby">  (mount|*_name)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="574">
          <span class="hits">1</span>
          
          <code class="ruby">      (( rvm_remote_flag &gt; 0 )) ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="575">
          
          
          <code class="ruby">      [[ &quot;${next_token:-}&quot; =~ ^http || &quot;${next_token:-}&quot; =~ tar.bz2$ ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="577">
          <span class="hits">1</span>
          
          <code class="ruby">      external_import &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="579">
          
          
          <code class="ruby">      external_mount_uniq &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="582">
          
          
          <code class="ruby">  (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="583">
          
          
          <code class="ruby">    rvm_error_help &quot;Wrong action for external '$action'.&quot; external $action</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="584">
          
          
          <code class="ruby">    exit 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby">esac</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="b9e9deb5726bbbc35806b0557024b646620e94fa">
  <div class="header">
    <h3>/usr/local/rvm/scripts/fetch</h3>
    <h4><span class="red">32.18 %</span> covered</h4>
    <div>
      <b>87</b> relevant lines. 
      <span class="green"><b>28</b> lines covered</span> and
      <span class="red"><b>59</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="3">
          <span class="hits">2</span>
          
          <code class="ruby">url=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="4">
          <span class="hits">2</span>
          
          <code class="ruby">archive=&quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="6">
          <span class="hits">2</span>
          
          <code class="ruby">shift ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="7">
          
          
          <code class="ruby">  rvm_fail &quot;BUG: $0 called without an argument :/&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="9">
          <span class="hits">2</span>
          
          <code class="ruby">builtin command -v curl &gt; /dev/null ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">  rvm_fail &quot;rvm requires curl. curl was not found in your current PATH.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="12">
          <span class="hits">2</span>
          
          <code class="ruby">rvm_base_except=&quot;selector&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="13">
          <span class="hits">2</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"># handled by teardown - scripts/functions/environment:314</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">__rvm_cleanup_download()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">  [[ -f &quot;$archive&quot; ]] &amp;&amp; __rvm_rm_rf &quot;$archive&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="21">
          <span class="hits">2</span>
          
          <code class="ruby">__rvm_cd &quot;$rvm_archives_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="23">
          <span class="hits">4</span>
          
          <code class="ruby">[[ -n &quot;$archive&quot; ]] || archive=$(basename &quot;$url&quot;)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="24">
          <span class="hits">2</span>
          
          <code class="ruby">fetch_command=&quot;curl ${rvm_proxy:+-x}${rvm_proxy:-} -f -L --create-dirs -C - -o ${archive}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="26">
          <span class="hits">2</span>
          
          <code class="ruby">  (( ${rvm_debug_flag:-0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="27">
          <span class="hits">2</span>
          
          <code class="ruby">  (( ${rvm_trace_flag:-0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="28">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_is_a_shell_function no_warning</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="30">
          <span class="hits">2</span>
          
          <code class="ruby">  fetch_command+=&quot; --progress-bar&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="32">
          <span class="hits">2</span>
          
          <code class="ruby">rvm_debug &quot;Fetching: $url&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="33">
          <span class="hits">2</span>
          
          <code class="ruby">rvm_debug &quot;Fetch command: $fetch_command&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="35">
          <span class="hits">2</span>
          
          <code class="ruby">download=1</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="36">
          <span class="hits">2</span>
          
          <code class="ruby">try_ftp=0</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="37">
          <span class="hits">2</span>
          
          <code class="ruby">result=0</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="38">
          <span class="hits">2</span>
          
          <code class="ruby">retry=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="40">
          <span class="hits">2</span>
          
          <code class="ruby">__rvm_checksum_read &quot;$url&quot; &quot;$archive&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="42">
          <span class="hits">2</span>
          
          <code class="ruby">__rvm_checksum_any || (( ${rvm_verify_downloads_flag:-0} &gt; 0 )) ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">  rvm_fail &quot;There is no checksum for '$url' or '$archive', it's not possible to validate it.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">This could be because your RVM install's list of versions is out of date. You may want to</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">update your list of rubies by running 'rvm get stable' and try again.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">If that does not resolve the issue and you wish to continue with unverified download</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">add '--verify-downloads 1' after the command.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="51">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ -e &quot;$archive&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  # Check first if we have the correct archive</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="55">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_checksum_validate_file &quot;$rvm_archives_path/${archive}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="57">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_debug &quot;Archive checksum matched, not downloading&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="58">
          <span class="hits">2</span>
          
          <code class="ruby">    download=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">    case $? in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">      (1) rvm_warn &quot;Archive checksum not found, downloading again.&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">      (*) rvm_warn &quot;Archive checksum did not match, downloading again.&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    download=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">  rvm_debug &quot;No archive, downloading&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">  download=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="72">
          <span class="hits">2</span>
          
          <code class="ruby">  (( download &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">  \rm -f $archive</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">    eval $fetch_command \&quot;$url\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">    true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">    result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">    case &quot;$result&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">      (22|78)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">        rvm_error &quot;The requested url does not exist($result): '$url'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">        try_ftp=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">      (18)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="87">
          
          
          <code class="ruby">        rvm_error &quot;Partial file($result). Only a part of the file was transferred. Removing partial and re-trying.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">        \rm -f &quot;$archive&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">        retry=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">      (33)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">        rvm_debug &quot;Server does not support 'range' command($result), removing '$archive'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">        \rm -f &quot;$archive&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="94">
          
          
          <code class="ruby">        retry=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="96">
          
          
          <code class="ruby">      (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">        rvm_error &quot;There was an error($result), please check ${rvm_log_path}/$rvm_ruby_string/*.log. Next we'll try to fetch via http.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">        try_ftp=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">      [[ $try_ftp -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="104">
          
          
          <code class="ruby">      rvm_log &quot;Trying ftp:// URL instead.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="105">
          
          
          <code class="ruby">      url=&quot;${url/http:/ftp:/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">      [[ $try_ftp -eq 1 || $retry -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">      eval $fetch_command \&quot;$url\&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="111">
          
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">    (( result == 0 )) ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">      rvm_fail &quot;There was an error($result), please check ${rvm_log_path}/$rvm_ruby_string/*.log&quot; $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"># Check if we have downloaded the correct archive</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="120">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_checksum_validate_file &quot;$rvm_archives_path/${archive}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="122">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_debug &quot;Downloaded archive checksum matched.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">  result=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">   (( result==1 &amp;&amp; ${rvm_verify_downloads_flag:-0}&gt;0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">    rvm_warn &quot;No checksum for downloaded archive, recording checksum in user configuration.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">    __rvm_checksum_calculate_file &quot;$archive&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">    __rvm_checksum_write          &quot;$archive&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">   (( result&gt;1  &amp;&amp; ${rvm_verify_downloads_flag:-0}&gt;1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">    rvm_warn &quot;Downloaded archive checksum did not match!&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="136">
          
          
          <code class="ruby">   (( result == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">    rvm_fail &quot;Downloaded archive checksum could not be verified!</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">If you wish to continue with unverified download add '--verify-downloads 1' after the command.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">    \rm -f $archive</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">    rvm_fail &quot;Downloaded archive checksum did not match, archive was removed!</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">If you wish to continue with not matching download add '--verify-downloads 2' after the command.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="a2fc3e2b65ba6253ea4dcf4cd456170cc8f47282">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/build</h3>
    <h4><span class="red">21.01 %</span> covered</h4>
    <div>
      <b>138</b> relevant lines. 
      <span class="green"><b>29</b> lines covered</span> and
      <span class="red"><b>109</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="3">
          <span class="hits">69</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/build_config&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># show the user selected compiler or return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">__rvm_selected_compiler()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  #TODO: add handling for rvm_configure_env</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="10">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ &quot; ${rvm_configure_flags[*]}&quot; =~ &quot; --with-gcc=&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">    typeset __compiler</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">    for __compiler in &quot;${rvm_configure_flags[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">      case &quot;$__compiler&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">        (--with-gcc=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">          echo &quot;${__compiler#--with-gcc=}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">          return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="23">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -n &quot;${CC:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">    echo &quot;${CC}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="28">
          <span class="hits">6</span>
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">__rvm_found_compiler()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="33">
          <span class="hits">5</span>
          
          <code class="ruby">  __rvm_selected_compiler  ||</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="34">
          <span class="hits">5</span>
          
          <code class="ruby">  \which gcc   2&gt;/dev/null ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">  \which clang 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">__rvm_fix_gcc_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset __config_file __cc_value __cc_new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">  __rvm_which $(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    &quot;$rvm_ruby_home/bin/ruby&quot; -rrbconfig -e 'puts RbConfig::CONFIG[&quot;CC&quot;]||&quot;true&quot;' 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">  ) &gt;/dev/null 2&gt;/dev/null ||</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    __cc_value=&quot;$( &quot;$rvm_ruby_home/bin/ruby&quot; -rrbconfig -e 'puts RbConfig::CONFIG[&quot;CC&quot;]' 2&gt;/dev/null )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">      __config_file=&quot;$( find $rvm_ruby_home/ -name rbconfig.rb )&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">      GREP_OPTIONS=&quot;&quot; \grep &quot;CONFIG\[\&quot;CC\&quot;\]&quot; &quot;${__config_file}&quot; &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">      __cc_new=&quot;$( __rvm_found_compiler )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">      rvm_debug &quot;Fixing ruby compiler from '${__cc_value}' to '${__cc_new}'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">      __rvm_sed_i &quot;${__config_file}&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">        -e &quot;s#CONFIG\[\&quot;CC\&quot;\].*\$#CONFIG[\&quot;CC\&quot;] = ENV[\&quot;CC\&quot;] || \&quot;${__cc_new}\&quot;#&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">      rvm_warn &quot;Installed ruby contains path to non existing compiler '${__config_file}', compiling native gems might be impossible.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">__rvm_run_compiler()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="62">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset compiler</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="64">
          <span class="hits">4</span>
          
          <code class="ruby">    compiler=&quot;$( __rvm_found_compiler )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="66">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">    then ${=compiler} &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="68">
          <span class="hits">2</span>
          
          <code class="ruby">    else ${compiler}  &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">__rvm_compiler_is_llvm()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_found_compiler &gt;/dev/null &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="78">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ &quot;$(__rvm_run_compiler --version)&quot; =~ &quot;llvm&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">__rvm_compiler_is_gcc47()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="84">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_found_compiler &gt;/dev/null &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="85">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ &quot;$(__rvm_run_compiler -dumpversion)&quot; =~ &quot;4.7&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">__rvm_compiler_is_gcc46_or_higher()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">  __rvm_found_compiler &gt;/dev/null || return 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">  typeset __version</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">  __version=&quot;$(__rvm_run_compiler -dumpversion)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="94">
          
          
          <code class="ruby">  __rvm_version_compare &quot;${__version:-0}&quot; -ge &quot;4.6&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">__rvm_update_configure_env()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a local_configure_env</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset _variable _value _iterator _found</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_debug &quot;__rvm_update_configure_env($#):$*:&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="102">
          <span class="hits">2</span>
          
          <code class="ruby">  while (( $# ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">    _variable=&quot;${1%%\=*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="105">
          <span class="hits">1</span>
          
          <code class="ruby">    _value=&quot;${1#*=}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="106">
          <span class="hits">1</span>
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="107">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_array_add_or_update rvm_configure_env &quot;$_variable=&quot; &quot; &quot; &quot;$_value&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">__rvm_update_configure_opt_dir()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">    (ruby-head*|ruby-2*|rbx*|rubinius*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="115">
          
          
          <code class="ruby">      __rvm_update_configure_opt_dir_option &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">    (ruby-1.9.3-p*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">      typeset __patchlevel</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="119">
          
          
          <code class="ruby">      __patchlevel=&quot;${1##ruby-1.9.3-p}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">        (( __patchlevel &lt; 297 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">        rvm_patch_names+=( cflags )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">        __rvm_update_configure_opt_dir_option_or_flags &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">        __rvm_update_configure_opt_dir_option &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">    (ruby-1.9*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">      __rvm_update_configure_opt_dir_option_or_flags &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">      __rvm_update_configure_opt_dir_flags &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">__rvm_update_configure_opt_dir_option()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">  rvm_debug &quot;rvm_configure_flags+=( --with-opt-dir=$1 )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">  __rvm_array_add_or_update rvm_configure_flags --with-opt-dir= : &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">__rvm_update_configure_opt_dir_option_or_flags()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">  # Use option if first time - use flags if option available already</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="147">
          
          
          <code class="ruby">  case &quot; ${rvm_configure_flags[*]} &quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">    (*[[:space:]]--with-opt-dir=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="149">
          
          
          <code class="ruby">      __rvm_update_configure_opt_dir_flags &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">      __rvm_update_configure_opt_dir_option &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">__rvm_update_configure_opt_dir_flags()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">  typeset __enable_rpath __lib_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">    which bash | xargs head -n 1 | cat -e | \grep -b '^^?ELF' &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="163">
          
          
          <code class="ruby">    __enable_rpath=&quot;true&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">  __rvm_update_configure_env CFLAGS=&quot;-I$1/include&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">  __rvm_update_configure_env LDFLAGS=&quot;-L$1/lib&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">  [[ -z &quot;${__enable_rpath:-}&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="168">
          
          
          <code class="ruby">    __rvm_update_configure_env LDFLAGS=&quot;-Wl,-rpath,$1/lib&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">  if [[ -d &quot;$1/lib64&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">    __rvm_update_configure_env LDFLAGS=&quot;-L$1/lib64&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">    [[ -z &quot;${__enable_rpath:-}&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="173">
          
          
          <code class="ruby">      __rvm_update_configure_env LDFLAGS=&quot;-Wl,-rpath,$1/lib64&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">__rvm_check_for_compiler()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_selected_compiler &gt; /dev/null &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="180">
          
          
          <code class="ruby">    ! builtin command -v $(__rvm_selected_compiler) &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">    rvm_error &quot;You requested building with '$(__rvm_selected_compiler)' but it is not in your path.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby"># Checks for bison, returns zero iff it is found</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">__rvm_check_for_bison()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">  true ${rvm_head_flag:=0}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="191">
          <span class="hits">1</span>
          
          <code class="ruby">  if (( rvm_head_flag &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">    if ! builtin command -v bison &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">      rvm_error &quot;\nbison is not available in your path. \nPlease ensure bison is installed before compiling from head.\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">__rvm_mono_env()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">  DYLD_LIBRARY_PATH=&quot;${rvm_usr_path}/lib:$DYLD_LIBRARY_PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="204">
          
          
          <code class="ruby">  C_INCLUDE_PATH=&quot;${rvm_usr_path}/include:$C_INCLUDE_PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">  ACLOCAL_PATH=&quot;${rvm_usr_path}/share/aclocal&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="206">
          
          
          <code class="ruby">  ACLOCAL_FLAGS=&quot;-I $ACLOCAL_PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="207">
          
          
          <code class="ruby">  PKG_CONFIG_PATH=&quot;${rvm_usr_path}/lib/pkgconfig:$PKG_CONFIG_PATH&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="209">
          
          
          <code class="ruby">  export  DYLD_LIBRARY_PATH C_INCLUDE_PATH ACLOCAL_PATH ACLOCAL_FLAGS PKG_CONFIG_PATH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="211">
          
          
          <code class="ruby">  __rvm_add_to_path prepend &quot;${rvm_usr_path}/bin&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">  builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby"># Returns all mri compatible (partly) ruby for use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby"># with things like rbx etc which require a ruby be installed.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">__rvm_mri_rubies()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">  typeset versions _ruby</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">  versions=&quot;${1:-&quot;ruby-1.9|ruby-2&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="224">
          
          
          <code class="ruby">  for _ruby in $( find $rvm_rubies_path/ -maxdepth 1 -mindepth 1 -type d -not -type l )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;${_ruby##*/}\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">  done | GREP_OPTIONS=&quot;&quot; \grep -E &quot;$versions&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby"># Returns the first mri compatible (partly) ruby for use</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby"># with things like rbx etc which require a ruby be installed.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">__rvm_mri_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="234">
          
          
          <code class="ruby">  typeset versions</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">  versions=&quot;${1:-&quot;ruby-1.9|ruby-2&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="236">
          
          
          <code class="ruby">  _mri_rubies=( $( __rvm_mri_rubies &quot;$versions&quot; ) )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">  _current_ruby=$(__rvm_env_string)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="238">
          
          
          <code class="ruby">  if [[ &quot; ${_mri_rubies[*]} &quot; =~ &quot; ${_current_ruby} &quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="240">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;${_current_ruby}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="242">
          
          
          <code class="ruby">    for _ruby in ${_mri_rubies[@]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="244">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${_ruby}\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">    done | sort | head -n 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="247">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="249">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">__rvm_ensure_has_mri_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="252">
          
          
          <code class="ruby">  typeset versions</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="253">
          
          
          <code class="ruby">  versions=&quot;${1:-&quot;ruby-1.9|ruby-2&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">    [[ -z &quot;$(__rvm_mri_ruby $versions)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="257">
          
          
          <code class="ruby">    typeset compat_result</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">    compat_result=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="260">
          
          
          <code class="ruby">      ! ( __rvm_run_wrapper manage install ruby )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">      rvm_error &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="263">
          
          
          <code class="ruby">To proceed rvm requires a ${versions} compatible ruby is installed.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="264">
          
          
          <code class="ruby">We attempted to install ruby automatically but it failed.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="265">
          
          
          <code class="ruby">Please install it manually (or a compatible alternative) to proceed.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="267">
          
          
          <code class="ruby">      compat_result=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="269">
          
          
          <code class="ruby">    return $compat_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="272">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">__rvm_is_enough_ram()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="277">
          
          
          <code class="ruby">  typeset __required_ram __existing_ram</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="279">
          
          
          <code class="ruby">  __required_ram=$(( $1 * 1024 * 1024 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="281">
          
          
          <code class="ruby">  __existing_ram=&quot;$(free -b 2&gt;/dev/null | awk '{if (NR==3) print $4}')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">  : ${__existing_ram:=&quot;$(sysctl hw.physmem 2&gt;/dev/null | cut -f 2 -d :)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="283">
          
          
          <code class="ruby">  : __existing_ram: ${__existing_ram:=0}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="284">
          
          
          <code class="ruby">  rvm_debug &quot;Existing ram $(( __existing_ram /1024 /1024 ))MB.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="286">
          
          
          <code class="ruby">  (( __existing_ram &gt;= __required_ram )) || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="9185b3710b2541f5d700afd06bdcf7298f8e7cab">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/build_config</h3>
    <h4><span class="red">31.73 %</span> covered</h4>
    <div>
      <b>208</b> relevant lines. 
      <span class="green"><b>66</b> lines covered</span> and
      <span class="red"><b>142</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_setup_compile_environment()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset __type</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a __types</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">  __types=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">    requirements osx_gcc architectures gcc47 bison smartos sunos openbsd</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">    flags_docs flags_tcltk flags_shared_static flags_threads</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="10">
          <span class="hits">1</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="11">
          <span class="hits">12</span>
          
          <code class="ruby">  for __type in &quot;${__types[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="13">
          <span class="hits">12</span>
          
          <code class="ruby">    rvm_debug &quot;__rvm_setup_compile_environment_${__type} $1&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="14">
          <span class="hits">12</span>
          
          <code class="ruby">    __rvm_setup_compile_environment_${__type} &quot;$1&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="16">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_debug &quot;found compiler: $( __rvm_found_compiler )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"># 2.0.0+</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">__ruby_clang_ok()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">    ruby-2*|ruby-head*) return 0 ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">__rvm_setup_compile_environment_osx_gcc_42()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    [[ -x /usr/local/bin/gcc-4.2 ]] # HomeBrew</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">    export CC=/usr/local/bin/gcc-4.2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">    [[ -x /opt/local/bin/gcc-apple-4.2 ]] # MacPorts</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">    export CC=/opt/local/bin/gcc-apple-4.2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    __rvm_which gcc-apple-4.2 &gt; /dev/null # MacPorts via PATH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    export CC=gcc-apple-4.2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    __rvm_which gcc-4.2 &gt; /dev/null # Any gcc-4.2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    export CC=gcc-4.2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">    [[ -x /usr/bin/gcc-4.2 ]] # OSX-GCC-Installer / Xcode - might be LLVM</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">    export CC=/usr/bin/gcc-4.2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    __rvm_compiler_is_llvm</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">    export CC=clang</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">__rvm_setup_compile_environment_osx_gcc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="59">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">  if __rvm_array_contains &quot;*debug*&quot; &quot;${rvm_patch_names[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">  then rvm_force_autoconf_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">  typeset selected_compiler</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">    selected_compiler=&quot;$( __rvm_selected_compiler )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">    case &quot;${rvm_autolibs_flag:=1}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="70">
          
          
          <code class="ruby">      (0) rvm_debug &quot;User selected compiler: $selected_compiler&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="72">
          
          
          <code class="ruby">      (1) rvm_warn  &quot;Warning: found user selected compiler '$selected_compiler', this will suppress RVM auto detection mechanisms.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">      (*) rvm_error &quot;Warning: found user selected compiler '$selected_compiler', this will suppress RVM auto detection mechanisms.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">    case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">      (ruby-2*|ruby-head*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">        export CC=clang</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">      (ruby*|ree*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">        __rvm_setup_compile_environment_osx_gcc_42</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">__rvm_setup_compile_environment_bison()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  # TODO: what should we do for autolibs=1 ? should it fail or just warn when bison is missing</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="92">
          <span class="hits">1</span>
          
          <code class="ruby">  (( ${rvm_autolibs_flag:=1} &gt; 0 )) || return 0</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="93">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="94">
          
          
          <code class="ruby">    (ruby*|ree*|rbx*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_check_for_bison ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">        result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">        rvm_error &quot;Bison required but not found. Halting.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">        return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">__rvm_setup_compile_environment_architectures_default()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="107">
          
          
          <code class="ruby">  typeset _architecture _architectures_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">  typeset -a _architectures _flags</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  _architectures=()</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="111">
          
          
          <code class="ruby">  for _architecture in ${rvm_architectures//,/ }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">  do _architectures+=( -arch &quot;${_architecture}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">  _architectures_string=&quot;${_architectures[*]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">  _flags=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">    CFLAGS=&quot;${_architectures_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">    CCFLAGS=&quot;${_architectures_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="119">
          
          
          <code class="ruby">    CXXFLAGS=&quot;${_architectures_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">    LDFLAGS=&quot;${_architectures_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">  __rvm_update_configure_env &quot;${_flags[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">  rvm_configure_flags+=( --disable-dependency-tracking )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">__rvm_setup_compile_environment_architectures_ruby_osx()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">  typeset _architecture _architectures_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">  typeset -a _architectures _flags</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">  _architectures=()</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">  for _architecture in ${rvm_architectures//,/ }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">  do _architectures+=( -arch &quot;${_architecture}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">  _architectures_string=&quot;${_architectures[*]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  _flags=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">    MACOSX_DEPLOYMENT_TARGET=&quot;$( sw_vers -productVersion | awk -F'.' '{print $1&quot;.&quot;$2}' )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">    CFLAGS=&quot;${_architectures_string} -g -Os -pipe -no-cpp-precomp&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">    CCFLAGS=&quot;${_architectures_string} -g -Os -pipe&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">    CXXFLAGS=&quot;${_architectures_string} -g -Os -pipe&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">    LDFLAGS=&quot;${_architectures_string} -bind_at_load&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">    LDSHARED=&quot;cc ${_architectures_string} -dynamiclib -undefined suppress -flat_namespace&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">  __rvm_update_configure_env &quot;${_flags[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">  __rvm_array_contains &quot;*osx-arch-fix*&quot; &quot;${rvm_patch_names[@]}&quot; || rvm_patch_names+=( osx-arch-fix )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">__rvm_setup_compile_environment_architectures()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="151">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_architectures:-}&quot; ]] || return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="153">
          
          
          <code class="ruby">    ruby-1.9*|ruby-2*|ruby-head*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      # Ruby 1.9+ supports the easy way</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">      rvm_configure_flags+=( --with-arch=&quot;${rvm_architectures}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">    ruby*|ree*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="158">
          
          
          <code class="ruby">      case &quot;$(uname)&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">        (Darwin)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="160">
          
          
          <code class="ruby">          __rvm_setup_compile_environment_architectures_ruby_osx</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">        (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="163">
          
          
          <code class="ruby">          __rvm_setup_compile_environment_architectures_default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="168">
          
          
          <code class="ruby">      __rvm_setup_compile_environment_architectures_default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">__rvm_setup_compile_environment_gcc47()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="175">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_compiler_is_gcc47 || return 0</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="176">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_string_match &quot;$1&quot; &quot;ruby-1.8.*&quot; &quot;ree*&quot; || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">  # -g -O2 from 1.8.7-p370 is not enough, need all the flags to fix it</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_update_configure_env CFLAGS=&quot;-O2 -fno-tree-dce -fno-optimize-sibling-calls&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">__rvm_setup_compile_environment_smartos()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="184">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ &quot;$(uname -v)&quot; =~ ^joyent ]] || return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">  __rvm_update_configure_opt_dir &quot;$1&quot; &quot;/opt/local&quot; # TODO do we needed the next line?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">  __rvm_update_configure_env CCFLAGS=&quot;-I/opt/local/include&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">  __rvm_add_to_path prepend &quot;/opt/local/gnu/bin&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">__rvm_setup_compile_environment_sunos()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="192">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ &quot;$(uname -s)&quot; == &quot;SunOS&quot; ]] || return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="194">
          
          
          <code class="ruby">    ruby-1.9*|ruby-2*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">      # Temporary solution for this bug http://bugs.ruby-lang.org/issues/5384</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">      rvm_configure_flags+=( ac_cv_func_dl_iterate_phdr=no )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">__rvm_setup_compile_environment_openbsd()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="204">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ &quot;$(uname)&quot; == &quot;OpenBSD&quot;     ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="206">
          
          
          <code class="ruby">    [[  -z &quot;${AUTOCONF_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="208">
          
          
          <code class="ruby">    export AUTOCONF_VERSION</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="209">
          
          
          <code class="ruby">    AUTOCONF_VERSION=&quot;$( ls -1 /usr/local/bin/autoreconf-* | sort | tail -n 1 )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="210">
          
          
          <code class="ruby">    AUTOCONF_VERSION=&quot;${AUTOCONF_VERSION##*-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">    [[  -z &quot;${AUTOMAKE_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">    export AUTOMAKE_VERSION</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="216">
          
          
          <code class="ruby">    AUTOMAKE_VERSION=&quot;$( ls -1 /usr/local/bin/automake-* | sort | tail -n 1 )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">    AUTOMAKE_VERSION=&quot;${AUTOMAKE_VERSION##*-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">  # https://github.com/wayneeseguin/rvm/issues/1581</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="220">
          
          
          <code class="ruby">  rvm_configure_env+=( sh )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="221">
          
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">    ruby-1.9*|ruby-2*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">      # Temporary solution for this bug http://bugs.ruby-lang.org/issues/5384</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="224">
          
          
          <code class="ruby">      rvm_configure_flags+=( ac_cv_func_dl_iterate_phdr=no )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">__rvm_setup_compile_environment_flags_docs()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="232">
          <span class="hits">1</span>
          
          <code class="ruby">    (( ${rvm_docs_flag:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="234">
          
          
          <code class="ruby">    true # enabled by default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="236">
          <span class="hits">1</span>
          
          <code class="ruby">    case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">      (ruby*|ree*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="238">
          <span class="hits">1</span>
          
          <code class="ruby">        rvm_configure_flags+=( --disable-install-doc )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">  true # OSX --trace FIX</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">__rvm_setup_compile_environment_flags_tcltk()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="247">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="249">
          
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="250">
          
          
          <code class="ruby">    (ruby*|ree*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="251">
          
          
          <code class="ruby">      [[ &quot; ${rvm_configure_flags[*]} &quot; =~ &quot; --with-tcl &quot;    ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="252">
          
          
          <code class="ruby">      [[ &quot; ${rvm_configure_flags[*]} &quot; =~ &quot; --with-tk &quot;     ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="253">
          
          
          <code class="ruby">      [[ &quot; ${rvm_configure_flags[*]} &quot; =~ &quot; --without-tcl &quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="254">
          
          
          <code class="ruby">      [[ &quot; ${rvm_configure_flags[*]} &quot; =~ &quot; --without-tk &quot;  ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">      rvm_configure_flags+=( --without-tcl --without-tk )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">  true # OSX --trace FIX</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">__rvm_setup_compile_environment_flags_shared_static()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="262">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="264">
          <span class="hits">1</span>
          
          <code class="ruby">    (( ${rvm_static_flag:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">    case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="267">
          
          
          <code class="ruby">      (openssl*)  rvm_configure_flags+=( no-shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="269">
          
          
          <code class="ruby">      (ncurses*)  rvm_configure_flags+=( --without-shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="271">
          
          
          <code class="ruby">      (rbx*|rubinius*) true # no flag yet for rbx!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="273">
          
          
          <code class="ruby">      (*)         rvm_configure_flags+=( --disable-shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="277">
          <span class="hits">1</span>
          
          <code class="ruby">    case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="278">
          
          
          <code class="ruby">      (openssl*)  rvm_configure_flags+=( shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="280">
          
          
          <code class="ruby">      (readline*) rvm_configure_flags+=( --disable-static --enable-shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">      (ncurses*)  rvm_configure_flags+=( --with-shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="284">
          
          
          <code class="ruby">      (rbx*|rubinius*) true # no flag yet for rbx!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="286">
          <span class="hits">1</span>
          
          <code class="ruby">      (*)         rvm_configure_flags+=( --enable-shared )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="290">
          <span class="hits">1</span>
          
          <code class="ruby">  true # OSX --trace FIX</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">__rvm_detect_max_threads()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="295">
          
          
          <code class="ruby">  case &quot;$(uname)&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="296">
          
          
          <code class="ruby">    (Darwin|FreeBSD)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="297">
          
          
          <code class="ruby">      sysctl -n hw.ncpu</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="299">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="300">
          
          
          <code class="ruby">      cat /proc/cpuinfo 2&gt;/dev/null | (grep vendor_id || echo 'one';) | wc -l</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">__rvm_setup_compile_environment_flags_threads()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="307">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="308">
          
          
          <code class="ruby">    (openssl*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">      # Don't use -j option for make OpenSSL</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="310">
          
          
          <code class="ruby">      __rvm_remove_from_array rvm_make_flags &quot;-j*&quot; &quot;${rvm_make_flags[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="311">
          
          
          <code class="ruby">      rvm_make_flags+=( -j1 )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="314">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ &quot; ${rvm_make_flags[*]}&quot; =~ &quot; -j&quot; ]] || rvm_make_flags+=( -j$(__rvm_detect_max_threads) )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">__rvm_setup_compile_environment_requirements_iterate()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="321">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a list</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="322">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset element</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="324">
          <span class="hits">1</span>
          
          <code class="ruby">  list=( update-system rvm )</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="325">
          <span class="hits">1</span>
          
          <code class="ruby">  if (( $# ))</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="326">
          <span class="hits">1</span>
          
          <code class="ruby">  then list+=( &quot;$@&quot; )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="327">
          
          
          <code class="ruby">  else list+=( ruby )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="330">
          <span class="hits">3</span>
          
          <code class="ruby">  for element in &quot;${list[@]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="331">
          <span class="hits">3</span>
          
          <code class="ruby">  do requirements_$_system_name &quot;${element}&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby"># rvm_autolibs_flag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby"># - 0 - disabled</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby"># - 1 - use libs, do not install - default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby"># - 2 - use libs, install if missing, fallback to 1 if brew not writable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby"># - 3 - 2 + install package manager if not available</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby"># - 4 - 3 + error out if brew not writable, no fallback</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">__rvm_setup_compile_environment_requirements()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="345">
          <span class="hits">1</span>
          
          <code class="ruby">  (( ${rvm_autolibs_flag:=1} &gt; 0 )) || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="347">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_detect_system</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="348">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -s &quot;$rvm_scripts_path/functions/requirements/$_system_name&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="350">
          
          
          <code class="ruby">    rvm_error &quot;Requirements support for $_system_name/$_system_version/$_system_arch is not implemented yet,</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="351">
          
          
          <code class="ruby">      report a bug here =&gt; https://github.com/wayneeseguin/rvm/issues&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="352">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="355">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Installing requirements for $_system_name/$_system_version/$_system_arch, might require sudo password&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="356">
          <span class="hits">1</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/functions/requirements/$_system_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="358">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_setup_compile_environment_requirements_iterate &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">#### Helpers for: requirements_$_system_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">__rvm_filter_installed_packages_reset()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="365">
          <span class="hits">2</span>
          
          <code class="ruby">  packages_installed=()</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="366">
          <span class="hits">2</span>
          
          <code class="ruby">  packages_missing=()</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="367">
          <span class="hits">2</span>
          
          <code class="ruby">  packages_to_install=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">__rvm_filter_installed_package_check()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="373">
          <span class="hits">29</span>
          
          <code class="ruby">    &quot;$1&quot; &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="374">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="375">
          <span class="hits">29</span>
          
          <code class="ruby">    packages_installed+=( &quot;$2&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="377">
          
          
          <code class="ruby">    case &quot;$rvm_autolibs_flag&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="378">
          
          
          <code class="ruby">      (0|1)  packages_missing+=( &quot;$2&quot; ) ;; # just ignore</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="379">
          
          
          <code class="ruby">      (*) packages_to_install+=( &quot;$2&quot; ) ;; # 2+</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="384">
          
          
          <code class="ruby">__rvm_filter_installed_packages_summary()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="386">
          <span class="hits">2</span>
          
          <code class="ruby">  (( ${#packages_installed[@]} == 0 )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="388">
          <span class="hits">2</span>
          
          <code class="ruby">    _list=&quot;${packages_installed[*]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="389">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_debug &quot;Found required packages: ${_list// /, }.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="391">
          <span class="hits">2</span>
          
          <code class="ruby">  (( ${#packages_missing[@]} == 0 )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="393">
          
          
          <code class="ruby">    _list=&quot;${packages_missing[*]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="394">
          
          
          <code class="ruby">    if (( rvm_autolibs_flag == 0 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="395">
          
          
          <code class="ruby">    then rvm_debug &quot;Missing required packages: ${_list// /, }.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="396">
          
          
          <code class="ruby">    else rvm_warn &quot;Missing required packages: ${_list// /, }.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">__rvm_filter_installed_packages_install()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="403">
          <span class="hits">2</span>
          
          <code class="ruby">  (( ${#packages_to_install[@]} == 0 )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="405">
          
          
          <code class="ruby">    _list=&quot;${packages_to_install[*]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="406">
          
          
          <code class="ruby">    __rvm_log_command package_install_${_list// /_} &quot;Installing required packages: ${_list// /, }.&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="407">
          
          
          <code class="ruby">      &quot;$1&quot; &quot;${packages_to_install[@]}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="408">
          
          
          <code class="ruby">      return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">__rvm_filter_installed_packages()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="414">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset _package_installed_cmd _packages_install_cmd _package_name _list</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="416">
          <span class="hits">2</span>
          
          <code class="ruby">  _package_installed_cmd=&quot;requirements_$1_lib_installed&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="417">
          <span class="hits">2</span>
          
          <code class="ruby">  _package_install_cmd=&quot;requirements_$1_libs_install&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="418">
          <span class="hits">2</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="420">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_filter_installed_packages_reset</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="421">
          <span class="hits">29</span>
          
          <code class="ruby">  for _package_name</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="422">
          <span class="hits">29</span>
          
          <code class="ruby">  do __rvm_filter_installed_package_check &quot;${_package_installed_cmd}&quot; &quot;${_package_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="424">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_filter_installed_packages_summary</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="425">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_filter_installed_packages_install &quot;${_package_install_cmd}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="427">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">__rvm_try_sudo()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="430">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a command_to_run</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="431">
          <span class="hits">1</span>
          
          <code class="ruby">  command_to_run=()</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="432">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$rvm_autolibs_flag&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="433">
          
          
          <code class="ruby">    (0|1)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="434">
          <span class="hits">1</span>
          
          <code class="ruby">      (( UID == 0 )) || return 0 # do not run nothing if it would require sudo</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="436">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="437">
          
          
          <code class="ruby">      (( UID == 0 )) || command_to_run+=( sudo )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="440">
          <span class="hits">1</span>
          
          <code class="ruby">  &quot;${command_to_run[@]}&quot; &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="5efa8726634d787efde30cad65911092ec7ab1b2">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/checksum</h3>
    <h4><span class="red">47.3 %</span> covered</h4>
    <div>
      <b>74</b> relevant lines. 
      <span class="green"><b>35</b> lines covered</span> and
      <span class="red"><b>39</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_md5_calculate()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="5">
          <span class="hits">5</span>
          
          <code class="ruby">  typeset _sum</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="7">
          <span class="hits">5</span>
          
          <code class="ruby">    builtin command -v md5 &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">    _sum=$(md5 &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">    echo ${_sum##* }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="13">
          <span class="hits">5</span>
          
          <code class="ruby">    builtin command -v md5sum &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="15">
          <span class="hits">10</span>
          
          <code class="ruby">    _sum=$(md5sum &quot;$@&quot;)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="16">
          <span class="hits">5</span>
          
          <code class="ruby">    echo ${_sum%% *}</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="17">
          <span class="hits">5</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">    for _path in /usr/gnu/bin /sbin /bin /usr/bin /usr/sbin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">        [[ -x &quot;${_path}/md5&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">        _sum=$(${_path}/md5 &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">        echo ${_sum##* }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">        return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">        [[ -x &quot;${_path}/md5sum&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">        _sum=$(${_path}/md5sum &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">        echo ${_sum%% *}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">        return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">  rvm_error &quot;Neither md5sum nor md5 found in the PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">__rvm_sha__calculate()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset bits _sum</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">  bits=${1:-512}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">    builtin command -v sha${bits}sum &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="50">
          <span class="hits">2</span>
          
          <code class="ruby">    _sum=$(sha${bits}sum    &quot;$@&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">    echo ${_sum% *}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">    builtin command -v sha${bits}    &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">    _sum=$(sha${bits}       &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">    echo ${_sum% *}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">    builtin command -v shasum    &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">    _sum=$(shasum -a${bits} &quot;$@&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">    echo ${_sum% *}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">  rvm_error &quot;Neither sha512sum nor shasum found in the PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"># __rvm_checksum_calculate_file {file}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"># ENV out: _checksum_md5 _checksum_sha512</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">__rvm_checksum_calculate_file()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">  _checksum_md5=&quot;$(    __rvm_md5_calculate      &quot;${1:-}&quot; )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">  _checksum_sha512=&quot;$( __rvm_sha__calculate 512 &quot;${1:-}&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">__rvm_checksum_none()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="81">
          <span class="hits">10</span>
          
          <code class="ruby">  [[ -z &quot;${_checksum_md5:-}&quot; &amp;&amp; -z &quot;${_checksum_sha512:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">__rvm_checksum_any()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="86">
          <span class="hits">6</span>
          
          <code class="ruby">  [[ -n &quot;${_checksum_md5:-}&quot; || -n &quot;${_checksum_sha512:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">__rvm_checksum_all()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">  [[ -n &quot;${_checksum_md5:-}&quot; &amp;&amp; -n &quot;${_checksum_sha512:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby"># __rvm_checksum_validate_file {file}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby"># ENV in: _checksum_md5 _checksum_sha512</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">__rvm_checksum_validate_file()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="98">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_checksum_any || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="100">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -n &quot;${_checksum_md5:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="102">
          <span class="hits">8</span>
          
          <code class="ruby">    [[ &quot;$(__rvm_md5_calculate &quot;${1:-}&quot;)&quot; == &quot;${_checksum_md5:-}&quot; ]] || return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="105">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -n &quot;${_checksum_sha512:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="107">
          
          
          <code class="ruby">    [[ &quot;$(__rvm_sha__calculate 512 &quot;${1:-}&quot;)&quot; == &quot;${_checksum_sha512:-}&quot; ]] || return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="109">
          <span class="hits">4</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"># __rvm_checksum_read {name...}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby"># name - list of names to check, like:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">#     __rvm_checksum_read https://rvm.io/binaries/.../ruby-1.9.3-p194.tar.bz2 bin-ruby-1.9.3-p194.tar.bz2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby"># ENV in/out: _checksum_md5 _checksum_sha512</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">__rvm_checksum_read()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="120">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_checksum_none || return 0</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="121">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset _type _value _name</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="122">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset -a _list</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="123">
          <span class="hits">2</span>
          
          <code class="ruby">  list=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="125">
          <span class="hits">4</span>
          
          <code class="ruby">  for _name in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="127">
          <span class="hits">4</span>
          
          <code class="ruby">    list+=( &quot;$_name&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="129">
          <span class="hits">4</span>
          
          <code class="ruby">      [[ &quot;$_name&quot; =~ &quot;?&quot; ]] # try url without ?... like ?rvm={version}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">      list+=( &quot;${_name%\?*}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="135">
          <span class="hits">4</span>
          
          <code class="ruby">  for _name in &quot;${list[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="137">
          <span class="hits">12</span>
          
          <code class="ruby">    _checksum_md5=&quot;$(      &quot;$rvm_scripts_path/db&quot; &quot;$rvm_path/config/md5&quot;    &quot;$_name&quot; | head -n 1 )&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="138">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -n &quot;${_checksum_md5:-}&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="139">
          <span class="hits">6</span>
          
          <code class="ruby">      _checksum_md5=&quot;$(    &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/md5&quot;      &quot;$_name&quot; | head -n 1 )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="141">
          <span class="hits">12</span>
          
          <code class="ruby">    _checksum_sha512=&quot;$(   &quot;$rvm_scripts_path/db&quot; &quot;$rvm_path/config/sha512&quot; &quot;$_name&quot; | head -n 1 )&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="142">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -n &quot;${_checksum_sha512:-}&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="143">
          <span class="hits">12</span>
          
          <code class="ruby">      _checksum_sha512=&quot;$( &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/sha512&quot;   &quot;$_name&quot; | head -n 1 )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="145">
          <span class="hits">6</span>
          
          <code class="ruby">    __rvm_checksum_none || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">  return 1 # not found</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby"># Record checksums in user settings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby"># Usage: __rvm_checksum_write {name}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby"># ENV in/out: _checksum_md5 _checksum_sha512</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">__rvm_checksum_write()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="156">
          
          
          <code class="ruby">  [[ -n &quot;${1:-}&quot; ]]  || return 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">  __rvm_checksum_any || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">  [[ -z &quot;${_checksum_md5:-}&quot;    ]] || &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/md5&quot;    &quot;${1:-}&quot; &quot;${_checksum_md5:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="160">
          
          
          <code class="ruby">  [[ -z &quot;${_checksum_sha512:-}&quot; ]] || &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/sha512&quot; &quot;${1:-}&quot; &quot;${_checksum_sha512:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="0fc1bba6f7eb5ce95c08fed66019626a646e8fc5">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/cleanup</h3>
    <h4><span class="red">33.33 %</span> covered</h4>
    <div>
      <b>54</b> relevant lines. 
      <span class="green"><b>18</b> lines covered</span> and
      <span class="red"><b>36</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># wrapper for smaller output from __rvm_log_command</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">__rvm_rm_rf()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="6">
          <span class="hits">420</span>
          
          <code class="ruby">  __rvm_rm_rf_verbose &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"># \rm -rf with *some* safeguards in place.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">__rvm_rm_rf_verbose()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="13">
          <span class="hits">420</span>
          
          <code class="ruby">  typeset target</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="14">
          <span class="hits">420</span>
          
          <code class="ruby">  target=&quot;${1%%+(/|.)}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  #NOTE: RVM Requires extended globbing shell feature turned on.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="18">
          <span class="hits">420</span>
          
          <code class="ruby">    [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    setopt extendedglob</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="22">
          <span class="hits">420</span>
          
          <code class="ruby">    [[ -n &quot;${BASH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="24">
          <span class="hits">420</span>
          
          <code class="ruby">    shopt -s extglob</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">    rvm_error &quot;What the heck kind of shell are you running here???&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="28">
          <span class="hits">420</span>
          
          <code class="ruby">  case &quot;${target}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    (*(/|.)@(|/Applications|/Developer|/Guides|/Information|/Library|/Network|/System|/User|/Users|/Volumes|/backups|/bdsm|/bin|/boot|/cores|/data|/dev|/etc|/home|/lib|/lib64|/mach_kernel|/media|/misc|/mnt|/net|/opt|/private|/proc|/root|/sbin|/selinux|/srv|/sys|/tmp|/usr|/var))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">      rvm_debug &quot;__rvm_rm_rf target is not valid - can not remove&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="34">
          <span class="hits">420</span>
          
          <code class="ruby">      [[ -n &quot;${target}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">        rvm_debug &quot;__rvm_rm_rf target not given&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="420" data-linenumber="40">
          <span class="hits">420</span>
          
          <code class="ruby">        [[ -d &quot;${target}&quot; ]]  # Directory</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="54" data-linenumber="42">
          <span class="hits">54</span>
          
          <code class="ruby">        \rm -rf &quot;${target}&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">        {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">          typeset ret=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">          rvm_debug &quot;__rvm_rm_rf error removing target dir '${target}'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">          return $ret</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="covered" data-hits="721" data-linenumber="49">
          <span class="hits">721</span>
          
          <code class="ruby">        [[ -f &quot;${target}&quot; || -L &quot;${target}&quot; ]] # File / Symbolic Link</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="51">
          <span class="hits">25</span>
          
          <code class="ruby">        \rm -f &quot;${target}&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">        {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">          typeset ret=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">          rvm_debug &quot;__rvm_rm_rf error removing target file/link '${target}'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">          return $ret</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="341" data-linenumber="58">
          <span class="hits">341</span>
          
          <code class="ruby">        rvm_debug &quot;__rvm_rm_rf already gone: $*&quot;</code>
        </li>
      
        <li class="covered" data-hits="341" data-linenumber="59">
          <span class="hits">341</span>
          
          <code class="ruby">        return 0 # already gone!?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">__rvm_reboot()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">  rvm_warn &quot;Do you wish to reboot rvm?\n('yes', or 'no')&gt; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">  typeset response</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">  response=&quot;no&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="72">
          
          
          <code class="ruby">  read response</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">  if [[ &quot;yes&quot; == &quot;$response&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">    __rvm_cd $rvm_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">    command -v __rvm_reset &gt;&gt; /dev/null 2&gt;&amp;1 || \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">      source &quot;$rvm_scripts_path/functions/reset&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">    __rvm_reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">    \mv &quot;$rvm_archives_path&quot; &quot;$HOME/.archives&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">    if [[ &quot;/&quot; == &quot;$rvm_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">      rvm_error &quot;remove '/' ?!... NO!&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">      if [[ -d &quot;$rvm_path&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">      then __rvm_rm_rf &quot;$rvm_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">    gem install rvm $rvm_gem_options</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="95">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/get&quot; latest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">    source &quot;$rvm_scripts_path/rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">    rvm_log &quot;Carry on then...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby"># Cleans up temp folders for a given prefix ($1),</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby"># or the current process id.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">__rvm_cleanup_tmp()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="109">
          <span class="hits">332</span>
          
          <code class="ruby">  if [[ -d &quot;${rvm_tmp_path}/&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="111">
          <span class="hits">332</span>
          
          <code class="ruby">    case &quot;${rvm_tmp_path%\/}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">      *tmp)</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="113">
          <span class="hits">332</span>
          
          <code class="ruby">        __rvm_rm_rf &quot;${rvm_tmp_path}/${1:-$$}*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="117">
          <span class="hits">332</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="c964e1f1535f5ac67006be52e6172806fd8ecdc9">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/db</h3>
    <h4><span class="green">92.31 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Query the rvm key-value database for a specific key</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># Allow overrides from user specifications in $rvm_user_path/db</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">__rvm_db()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="7">
          <span class="hits">339</span>
          
          <code class="ruby">  typeset value key variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="9">
          <span class="hits">339</span>
          
          <code class="ruby">  key=${1:-&quot;&quot;}</code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="10">
          <span class="hits">339</span>
          
          <code class="ruby">  key=${key#go} # Support for goruby - remove the go</code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="11">
          <span class="hits">339</span>
          
          <code class="ruby">  variable=${2:-&quot;&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="13">
          <span class="hits">339</span>
          
          <code class="ruby">  if [[ -f &quot;$rvm_user_path/db&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="678" data-linenumber="14">
          <span class="hits">678</span>
          
          <code class="ruby">    value=&quot;$(&quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/db&quot; &quot;$key&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="17">
          <span class="hits">339</span>
          
          <code class="ruby">  if [[ -z &quot;$value&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="678" data-linenumber="18">
          <span class="hits">678</span>
          
          <code class="ruby">    value=&quot;$(&quot;$rvm_scripts_path/db&quot; &quot;$rvm_path/config/db&quot; &quot;$key&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="21">
          <span class="hits">339</span>
          
          <code class="ruby">  if [[ -n &quot;$value&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="330" data-linenumber="22">
          <span class="hits">330</span>
          
          <code class="ruby">    if [[ -z &quot;$variable&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="330" data-linenumber="23">
          <span class="hits">330</span>
          
          <code class="ruby">      echo $value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">      eval &quot;$variable='$value'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="339" data-linenumber="29">
          <span class="hits">339</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="82cfbf826ccc0ce57df81cb33c57ab19d625d6e1">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/env</h3>
    <h4><span class="red">51.24 %</span> covered</h4>
    <div>
      <b>121</b> relevant lines. 
      <span class="green"><b>62</b> lines covered</span> and
      <span class="red"><b>59</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># Environment manipulation functions.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">__rvm_default_flags()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="9">
          <span class="hits">277</span>
          
          <code class="ruby">  true ${rvm_head_flag:=0} ${rvm_delete_flag:=0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">__rvm_nuke_rvm_variables()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">  unset rvm_head_flag $(env | awk -F= '/^rvm_/{print $1&quot; &quot;}')</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"># Unset ruby-specific variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">__rvm_unset_ruby_variables()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  # unset rvm_ruby_flag $(env | awk -F= '/^rvm_ruby_/{printf $1&quot; &quot;}')</code>
        </li>
      
        <li class="covered" data-hits="546" data-linenumber="21">
          <span class="hits">546</span>
          
          <code class="ruby">  unset rvm_env_string rvm_ruby_string rvm_ruby_strings rvm_ruby_binary rvm_ruby_gem_home rvm_ruby_gem_path rvm_ruby_home rvm_ruby_interpreter rvm_ruby_irbrc rvm_ruby_log_path rvm_ruby_major_version rvm_ruby_minor_version rvm_ruby_package_name rvm_ruby_patch_level rvm_ruby_release_version rvm_ruby_repo_url rvm_ruby_repo_branch rvm_ruby_revision rvm_ruby_selected_flag rvm_ruby_tag rvm_ruby_version rvm_head_flag rvm_ruby_package_file rvm_ruby_configure rvm_ruby_name rvm_ruby_url rvm_ruby_global_gems_path rvm_ruby_args rvm_ruby_name rvm_llvm_flag</code>
        </li>
      
        <li class="covered" data-hits="546" data-linenumber="22">
          <span class="hits">546</span>
          
          <code class="ruby">  __rvm_load_rvmrc # restore important variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"># TODO: Should be able to...</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">#   Unset both rvm variables as well as ruby-specific variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"># Preserve gemset if 'rvm_sticky' is set</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"># (persist gemset unless clear is explicitely called).</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">__rvm_cleanse_variables()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="261" data-linenumber="32">
          <span class="hits">261</span>
          
          <code class="ruby">  __rvm_unset_ruby_variables</code>
        </li>
      
        <li class="covered" data-hits="261" data-linenumber="33">
          <span class="hits">261</span>
          
          <code class="ruby">  if [[ ${rvm_sticky_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="34">
          <span class="hits">29</span>
          
          <code class="ruby">  then export rvm_gemset_name</code>
        </li>
      
        <li class="covered" data-hits="232" data-linenumber="35">
          <span class="hits">232</span>
          
          <code class="ruby">  else unset  rvm_gemset_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  # arrays</code>
        </li>
      
        <li class="covered" data-hits="261" data-linenumber="39">
          <span class="hits">261</span>
          
          <code class="ruby">  unset rvm_configure_flags rvm_patch_names rvm_make_flags</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  # variables</code>
        </li>
      
        <li class="covered" data-hits="261" data-linenumber="41">
          <span class="hits">261</span>
          
          <code class="ruby">  unset rvm_env_string rvm_ruby_string rvm_action rvm_irbrc_file rvm_command rvm_error_message rvm_force_flag rvm_all_flag rvm_reconfigure_flag rvm_bin_flag rvm_import_flag rvm_export_flag rvm_self_flag rvm_gem_flag rvm_rubygems_flag rvm_debug_flag rvm_delete_flag rvm_summary_flag rvm_test_flag _rvm_spec_flag rvm_json_flag rvm_yaml_flag rvm_shebang_flag rvm_env_flag rvm_tail_flag rvm_use_flag rvm_dir_flag rvm_list_flag rvm_empty_flag rvm_file_name rvm_benchmark_flag rvm_clear_flag rvm_name_flag rvm_verbose_flag rvm_user_flag rvm_system_flag rvm_uninstall_flag rvm_install_flag rvm_llvm_flag rvm_ruby_bits rvm_sticky_flag rvm_rvmrc_flag rvm_gems_flag rvm_only_path_flag rvm_docs_flag rvm_dump_environment_flag rvm_ruby_alias rvm_static_flag rvm_archive_extension rvm_hook rvm_ruby_name rvm_remote_flag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  # rvm_gemsets_path rvm_user_path rvm_wrappers_path rvm_patches_path rvm_docs_path rvm_examples_path rvm_rubies_path rvm_usr_path rvm_src_path rvm_tmp_path rvm_lib_path rvm_repos_path rvm_log_path rvm_help_path rvm_environments_path rvm_archives_path</code>
        </li>
      
        <li class="covered" data-hits="261" data-linenumber="43">
          <span class="hits">261</span>
          
          <code class="ruby">  __rvm_load_rvmrc # restore important variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"># Add bin path if not present</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">__rvm_conditionally_add_bin_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="336" data-linenumber="49">
          <span class="hits">336</span>
          
          <code class="ruby">  [[ &quot;:${PATH}:&quot; =~ &quot;:${rvm_bin_path}:&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="51">
          <span class="hits">18</span>
          
          <code class="ruby">    case &quot;${rvm_ruby_string:-&quot;system&quot;}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">      system)</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="53">
          <span class="hits">18</span>
          
          <code class="ruby">        PATH=&quot;$PATH:${rvm_bin_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">      *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">        PATH=&quot;${rvm_bin_path}:$PATH&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="59">
          <span class="hits">18</span>
          
          <code class="ruby">    builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">__rvm_load_environment()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="65">
          <span class="hits">5</span>
          
          <code class="ruby">  typeset string __hook</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="66">
          <span class="hits">5</span>
          
          <code class="ruby">  string=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="68">
          <span class="hits">5</span>
          
          <code class="ruby">    [[ -f &quot;$rvm_environments_path/$string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    # Restore the path to it's state minus rvm</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="71">
          <span class="hits">5</span>
          
          <code class="ruby">    __rvm_remove_rvm_from_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    # source the environment file</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="74">
          <span class="hits">5</span>
          
          <code class="ruby">    \. &quot;$rvm_environments_path/$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="76">
          <span class="hits">20</span>
          
          <code class="ruby">    for __hook in &quot;${rvm_path:-$HOME/.rvm}/hooks/after_use&quot;*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="78">
          <span class="hits">45</span>
          
          <code class="ruby">      if [[ -f &quot;${__hook}&quot; &amp;&amp; -x &quot;${__hook}&quot; &amp;&amp; -s &quot;${__hook}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="79">
          <span class="hits">5</span>
          
          <code class="ruby">      then \. &quot;${__hook}&quot; || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    # clear the PATH cache</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="84">
          <span class="hits">5</span>
          
          <code class="ruby">    builtin hash -r</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">    [[ -n &quot;$string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">    rvm &quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">    : # TODO: This should have some error handling in the context.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">__rvm_export()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">  # extract the variable name from the first arg.</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="97">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset name</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="98">
          <span class="hits">2</span>
          
          <code class="ruby">  name=${1%%\=*}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">  # store the current value, to be restored later.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="101">
          <span class="hits">4</span>
          
          <code class="ruby">  builtin export rvm_old_$name=${!name}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  # pass-through the return value of the builtin.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="104">
          <span class="hits">4</span>
          
          <code class="ruby">  export &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="105">
          <span class="hits">2</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">__rvm_unset_exports()</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="109">
          <span class="hits">3</span>
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="110">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset wrap_name name value</code>
        </li>
      
        <li class="covered" data-hits="426" data-linenumber="111">
          <span class="hits">426</span>
          
          <code class="ruby">  while IFS== read -d &quot;&quot; wrap_name value</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="210" data-linenumber="113">
          <span class="hits">210</span>
          
          <code class="ruby">    case &quot;$wrap_name&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">      rvm_old_*)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="115">
          <span class="hits">2</span>
          
          <code class="ruby">        name=${wrap_name#rvm_old_}</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="116">
          <span class="hits">2</span>
          
          <code class="ruby">        if [[ -n &quot;${value:-}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="117">
          <span class="hits">2</span>
          
          <code class="ruby">        then export $name=&quot;${value}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">        else unset $name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="120">
          <span class="hits">2</span>
          
          <code class="ruby">        unset $wrap_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">  done &lt; &lt;(printenv_null)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"># Clean all *duplicate* items out of the path. (keep first occurrence of each)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">__rvm_clean_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="129">
          <span class="hits">273</span>
          
          <code class="ruby">  export PATH</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="130">
          <span class="hits">273</span>
          
          <code class="ruby">  typeset IFS _iterator_path</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="131">
          <span class="hits">273</span>
          
          <code class="ruby">  typeset -a _old_path _new_path</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="132">
          <span class="hits">273</span>
          
          <code class="ruby">  IFS=:</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="133">
          <span class="hits">273</span>
          
          <code class="ruby">  _old_path=()</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="134">
          <span class="hits">273</span>
          
          <code class="ruby">  __rvm_custom_separated_array _old_path : &quot;${PATH}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2420" data-linenumber="136">
          <span class="hits">2420</span>
          
          <code class="ruby">  for _iterator_path in &quot;${_old_path[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="4839" data-linenumber="138">
          <span class="hits">4839</span>
          
          <code class="ruby">    [[ &quot;:${_new_path[*]}:&quot; =~ :${_iterator_path}: ]] || _new_path+=( &quot;${_iterator_path}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="140">
          <span class="hits">273</span>
          
          <code class="ruby">  PATH=&quot;${_new_path[*]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="141">
          <span class="hits">273</span>
          
          <code class="ruby">  builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby"># Clean all rvm items out of the current working path.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">__rvm_remove_rvm_from_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="147">
          <span class="hits">203</span>
          
          <code class="ruby">  typeset local_rvm_path</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="148">
          <span class="hits">203</span>
          
          <code class="ruby">  __rvm_remove_from_path &quot;${rvm_path%/}/*&quot;</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="149">
          <span class="hits">203</span>
          
          <code class="ruby">  __rvm_remove_from_path &quot;${rvm_bin_path}&quot;  #TODO: this might be dangerous if rvm is available in some common path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="406" data-linenumber="151">
          <span class="hits">406</span>
          
          <code class="ruby">  while local_rvm_path=&quot;$( __rvm_which rvm 2&gt;/dev/null )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">  do __rvm_remove_from_path &quot;${local_rvm_path%/*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="154">
          <span class="hits">203</span>
          
          <code class="ruby">  builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">__rvm_switch()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">  typeset new_rvm_path new_rvm_bin_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">  (( $# )) &amp;&amp; [[ -z &quot;$1&quot; ]] &amp;&amp; shift || true # skip first empty argument</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">  (( $# )) &amp;&amp; [[ -n &quot;$1&quot; ]] &amp;&amp; [[ -d &quot;$1&quot; || -d &quot;${1%/*}&quot; ]] &amp;&amp; [[ ! -f &quot;$1&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="164">
          
          
          <code class="ruby">    rvm_error &quot;No valid path given.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">  [[ &quot;${rvm_path}&quot; != &quot;${new_rvm_path}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">    rvm_warn &quot;Already there!&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="170">
          
          
          <code class="ruby">    return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">  rvm_log &quot;Switching ${rvm_path} =&gt; ${1}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">  new_rvm_path=&quot;${1%/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">  new_rvm_bin_path=&quot;${2:-$new_rvm_path/bin}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">  new_rvm_bin_path=&quot;${new_rvm_bin_path%/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="178">
          
          
          <code class="ruby">  __rvm_use_system</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">  __rvm_remove_from_path &quot;${rvm_path%/}/*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">  rvm_reload_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">  rvm_path=&quot;${new_rvm_path}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">  rvm_bin_path=&quot;${new_rvm_bin_path}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">  rvm_scripts_path=&quot;${rvm_path}/scripts&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">  rvm_environments_path=&quot;${rvm_path}/environments&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">  __rvm_remove_from_path &quot;${rvm_path%/}/*&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="188">
          
          
          <code class="ruby">  __rvm_add_to_path prepend &quot;${rvm_bin_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">__rvm_unload_action()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">  typeset _element IFS</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="194">
          
          
          <code class="ruby">  typeset -a _list</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">  IFS=$'\n'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">  _list=( $( cat ${2:--} | sort -u ) )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="198">
          
          
          <code class="ruby">  for _element in &quot;${_list[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">  do $1 &quot;${_element}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">__rvm_unload()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">  typeset _element</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="206">
          
          
          <code class="ruby">  typeset -a _list</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">  #PATH</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="209">
          
          
          <code class="ruby">  __rvm_remove_rvm_from_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">  # aliases</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">  __rvm_unload_action unalias  &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">    alias | awk -F&quot;[= ]&quot; '/rvm/ {print $2}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="214">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">  # variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">  __rvm_unload_action unset &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">    set |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="219">
          
          
          <code class="ruby">      awk -F&quot;=&quot; 'BEGIN{v=0;} /^[a-zA-Z_][a-zA-Z0-9_]*=/{v=1;} v==1&amp;&amp;$2~/^['\''\$]/{v=2;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="220">
          
          
          <code class="ruby">        v==1&amp;&amp;$2~/^\(/{v=3;} v==2&amp;&amp;/'\''$/&amp;&amp;!/'\'\''$/{v=1;} v==3&amp;&amp;/\)$/{v=1;} v{print;} v==1{v=0;}' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="221">
          
          
          <code class="ruby">      awk -F&quot;=&quot; '/^[^ ]*(RUBY|GEM|IRB|gem|rubies|rvm)[^ ]*=/ {print $1} /^[^ ]*=.*rvm/ {print $1}' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">      \grep -vE &quot;^PS|^BASH_SOURCE&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">  # functions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">  __rvm_unload_action unset &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">    typeset -f | awk '$2==&quot;()&quot; {fun=$1} /rvm/{print fun}' | sort -u | \grep -v __rvm_unload_action</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="228">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="229">
          
          
          <code class="ruby">  unset __rvm_unload_action</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">__rvm_ruby_config_get()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="234">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset variable_name ruby_path</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="235">
          <span class="hits">2</span>
          
          <code class="ruby">  variable_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="236">
          <span class="hits">2</span>
          
          <code class="ruby">  ruby_path=&quot;${2:-$rvm_ruby_home/bin/ruby}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="237">
          <span class="hits">2</span>
          
          <code class="ruby">  case &quot;${variable_name:---all}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="238">
          
          
          <code class="ruby">    (--all)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">      &quot;$ruby_path&quot; -rrbconfig -e 'puts RbConfig::CONFIG.sort.map{|k,v| &quot;#{k}: #{v}&quot; }' 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="241">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="242">
          <span class="hits">2</span>
          
          <code class="ruby">      &quot;$ruby_path&quot; -rrbconfig -e 'puts RbConfig::CONFIG[&quot;'&quot;$variable_name&quot;'&quot;]' 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">__rvm_ruby_config_save()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="249">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset ruby_path config_path default_config_path</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="250">
          <span class="hits">2</span>
          
          <code class="ruby">  ruby_path=&quot;${1:-$rvm_ruby_home/bin/ruby}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="251">
          <span class="hits">2</span>
          
          <code class="ruby">  default_config_path=&quot;#{RbConfig::CONFIG[\&quot;prefix\&quot;]}/config&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="252">
          <span class="hits">2</span>
          
          <code class="ruby">  config_path=&quot;${2:-$default_config_path}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="253">
          <span class="hits">2</span>
          
          <code class="ruby">  &quot;$ruby_path&quot; -rrbconfig -e '\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="254">
          
          
          <code class="ruby">    File.open(&quot;'&quot;$config_path&quot;'&quot;,&quot;w&quot;) { |file|</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">      RbConfig::CONFIG.sort.each{|key,value|</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">        file.write(&quot;#{key.gsub(/\.|-/,&quot;_&quot;)}=\&quot;#{value.gsub(&quot;$&quot;,&quot;\\$&quot;)}\&quot;\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">  ' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="7a800efcc3e16a516e931c593c126e60cacc865b">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/environment</h3>
    <h4><span class="red">55.49 %</span> covered</h4>
    <div>
      <b>173</b> relevant lines. 
      <span class="green"><b>96</b> lines covered</span> and
      <span class="red"><b>77</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_env_string()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="5">
          <span class="hits">481</span>
          
          <code class="ruby">  typeset _path _string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="7">
          <span class="hits">481</span>
          
          <code class="ruby">  _path=&quot;${GEM_HOME:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="9">
          <span class="hits">481</span>
          
          <code class="ruby">  _string=&quot;${_path//*gems\//}&quot;</code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="10">
          <span class="hits">481</span>
          
          <code class="ruby">  _string=&quot;${_string//\/*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="481" data-linenumber="12">
          <span class="hits">481</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;${_string:-system}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">__rvm_expand_ruby_string()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="17">
          <span class="hits">26</span>
          
          <code class="ruby">  typeset string current_ruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="19">
          <span class="hits">26</span>
          
          <code class="ruby">  string=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="130" data-linenumber="21">
          <span class="hits">130</span>
          
          <code class="ruby">  case &quot;${string:-all}&quot; in</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">    all)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/list&quot; strings | \tr ' ' &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">    all-gemsets)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/list&quot; gemsets strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    default-with-rvmrc|rvmrc)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/tools&quot; path-identifier &quot;$PWD&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">    all-rubies|rubies)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/list&quot; rubies strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    current-ruby|gemsets)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">      current_ruby=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">      current_ruby=&quot;${current_ruby%@*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">      rvm_silence_logging=1 &quot;$rvm_scripts_path/gemsets&quot; list strings \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">        | \sed &quot;s/ (default)//; s/^/$current_ruby${rvm_gemset_separator:-@}/ ; s/@default// ;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">    current)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">      __rvm_env_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    aliases)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">      awk -F= '{print $string}' &lt; &quot;$rvm_path/config/alias&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="56">
          <span class="hits">104</span>
          
          <code class="ruby">      __rvm_ruby_strings_exist $( echo &quot;$string&quot; | \tr &quot;,&quot; &quot;\n&quot; | __rvm_strip )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">__rvm_become()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">  # set rvm_rvmrc_flag=0 to not create .rvmrc in random places of code</code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="65">
          <span class="hits">76</span>
          
          <code class="ruby">  typeset string rvm_rvmrc_flag</code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="66">
          <span class="hits">76</span>
          
          <code class="ruby">  string=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="67">
          <span class="hits">76</span>
          
          <code class="ruby">  rvm_rvmrc_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="69">
          <span class="hits">76</span>
          
          <code class="ruby">  [[ -n &quot;$string&quot; ]] &amp;&amp; {</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="70">
          <span class="hits">69</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;$string&quot;</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="71">
          <span class="hits">69</span>
          
          <code class="ruby">    rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="74">
          <span class="hits">90</span>
          
          <code class="ruby">  __rvm_use &gt;/dev/null || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="76">
          <span class="hits">62</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${rvm_ruby_string}${rvm_gemset_name:+${rvm_gemset_separator:-'@'}}${rvm_gemset_name:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="78">
          <span class="hits">62</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">__rvm_ensure_has_environment_files()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="83">
          <span class="hits">190</span>
          
          <code class="ruby">  typeset environment_id file_name directory identifier variable value variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="380" data-linenumber="85">
          <span class="hits">380</span>
          
          <code class="ruby">  environment_id=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="87">
          <span class="hits">190</span>
          
          <code class="ruby">  file_name=&quot;${rvm_environments_path}/$environment_id&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="89">
          <span class="hits">190</span>
          
          <code class="ruby">  if [[ ! -d &quot;$rvm_environments_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">    \mkdir -p &quot;$rvm_environments_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="558" data-linenumber="94">
          <span class="hits">558</span>
          
          <code class="ruby">  if [[ ! -s &quot;$file_name&quot; ]] || ! GREP_OPTIONS=&quot;&quot; \grep 'rvm_env_string=' &quot;$file_name&quot; &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="96">
          <span class="hits">6</span>
          
          <code class="ruby">    \rm -f &quot;$file_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="97">
          <span class="hits">6</span>
          
          <code class="ruby">    printf &quot;%b&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">      &quot;export PATH ; PATH=\&quot;${rvm_ruby_gem_home}/bin:${rvm_ruby_global_gems_path}/bin:${rvm_ruby_home}/bin:${rvm_bin_path}:\$PATH\&quot;\n&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">      &gt; &quot;$file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="101">
          <span class="hits">66</span>
          
          <code class="ruby">    for variable in rvm_env_string rvm_path rvm_ruby_string rvm_gemset_name \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">      RUBY_VERSION GEM_HOME GEM_PATH MY_RUBY_HOME IRBRC MAGLEV_HOME RBXOPT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="132" data-linenumber="104">
          <span class="hits">132</span>
          
          <code class="ruby">      eval &quot;export $variable&quot;</code>
        </li>
      
        <li class="covered" data-hits="132" data-linenumber="105">
          <span class="hits">132</span>
          
          <code class="ruby">      eval &quot;value=\${${variable}:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="106">
          <span class="hits">66</span>
          
          <code class="ruby">      if [[ -n &quot;$value&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="108">
          <span class="hits">52</span>
          
          <code class="ruby">        printf &quot;export %b ; %b='%b'\n&quot; &quot;${variable}&quot; &quot;${variable}&quot; &quot;${value}&quot; &gt;&gt; &quot;$file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="110">
          <span class="hits">14</span>
          
          <code class="ruby">        printf &quot;unset %b\n&quot; &quot;${variable}&quot; &gt;&gt; &quot;$file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">  # Next, ensure we have default wrapper files. Also, prevent it from recursing.</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="116">
          <span class="hits">190</span>
          
          <code class="ruby">  if (( ${rvm_create_default_wrappers:=0} == 1 )) ||</code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="117">
          <span class="hits">190</span>
          
          <code class="ruby">    [[ ! -f &quot;$rvm_wrappers_path/$environment_id/ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">    # We need to generate wrappers for both the default gemset and the global gemset.</code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="120">
          <span class="hits">138</span>
          
          <code class="ruby">    for identifier in &quot;$environment_id&quot; &quot;${environment_id//@*/}@global&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="122">
          <span class="hits">138</span>
          
          <code class="ruby">      rvm_create_default_wrappers=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="124">
          <span class="hits">138</span>
          
          <code class="ruby">      directory=&quot;$rvm_wrappers_path/$identifier&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="276" data-linenumber="126">
          <span class="hits">276</span>
          
          <code class="ruby">      if [[ ! -L &quot;$directory&quot; &amp;&amp; ! -d &quot;$directory&quot; ]]; then</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="127">
          <span class="hits">19</span>
          
          <code class="ruby">        \mkdir -p &quot;$directory&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="129">
          <span class="hits">19</span>
          
          <code class="ruby">        &quot;$rvm_scripts_path/wrapper&quot; &quot;$identifier&quot; &amp;&gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="132">
          <span class="hits">69</span>
          
          <code class="ruby">    rvm_create_default_wrappers=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="135">
          <span class="hits">190</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby"># Write the bin/ wrapper script for currently selected ruby.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"># TODO: Adjust binscript to be able to handle all rubies,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">#       not just the standard interpreteres.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">__rvm_generate_wrappers()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="143">
          <span class="hits">2</span>
          
          <code class="ruby">  &quot;$rvm_scripts_path/wrapper&quot; &quot;$rvm_ruby_string&quot; --no-links --all</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby"># Runs a command in a given env.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">__rvm_with()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">(</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="149">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_use &quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="150">
          <span class="hits">4</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="151">
          <span class="hits">4</span>
          
          <code class="ruby">  &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">__rvm_gemset_pristine()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="156">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_log_command &quot;gemset.pristine&quot; &quot;Making gemset $1 pristine.&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">    __rvm_with &quot;$1&quot; &quot;$rvm_scripts_path/gemsets&quot; pristine</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">__variables_definition()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="162">
          <span class="hits">628</span>
          
          <code class="ruby">  typeset -a __variables_list __array_list</code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="163">
          <span class="hits">628</span>
          
          <code class="ruby">  typeset __method</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="165">
          <span class="hits">628</span>
          
          <code class="ruby">  __method=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">  # NOTE: Removing rvm_bin_path here causes system wide installations to generate</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">  # a corrupt PATH, breaking the RVM installation.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">  __variables_list=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="170">
          
          
          <code class="ruby">    rvm_head_flag rvm_ruby_selected_flag rvm_user_install_flag rvm_path_flag rvm_cron_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">    rvm_static_flag rvm_default_flag rvm_loaded_flag rvm_llvm_flag rvm_skip_autoreconf_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">    rvm_18_flag rvm_19_flag rvm_force_autoconf_flag rvm_dump_environment_flag rvm_verbose_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="173">
          
          
          <code class="ruby">    rvm_debug_flag rvm_trace_flag rvm_pretty_print_flag rvm_create_flag rvm_remove_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">    rvm_gemdir_flag rvm_reload_flag rvm_auto_reload_flag rvm_disable_binary_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">    rvm_ignore_gemsets_flag rvm_skip_gemsets_flag rvm_install_on_use_flag rvm_remote_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">    rvm_verify_downloads_flag rvm_skip_openssl_flag rvm_gems_cache_path rvm_gems_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="177">
          
          
          <code class="ruby">    rvm_man_path rvm_ruby_gem_path rvm_ruby_log_path rvm_gems_cache_path rvm_archives_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="178">
          
          
          <code class="ruby">    rvm_docs_path rvm_environments_path rvm_examples_path rvm_gems_path rvm_gemsets_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">    rvm_help_path rvm_hooks_path rvm_lib_path rvm_log_path rvm_patches_path rvm_repos_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="180">
          
          
          <code class="ruby">    rvm_rubies_path rvm_scripts_path rvm_src_path rvm_tmp_path rvm_user_path rvm_usr_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">    rvm_wrappers_path rvm_externals_path rvm_stored_errexit rvm_ruby_strings rvm_ruby_binary</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">    rvm_ruby_gem_home rvm_ruby_home rvm_ruby_interpreter rvm_ruby_irbrc rvm_ruby_major_version</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">    rvm_ruby_minor_version rvm_ruby_package_name rvm_ruby_patch_level rvm_ruby_release_version</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">    rvm_ruby_repo_url rvm_ruby_repo_branch rvm_ruby_revision rvm_ruby_tag rvm_ruby_sha</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">    rvm_ruby_version rvm_ruby_package_file rvm_ruby_name rvm_ruby_name rvm_ruby_args</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">    rvm_ruby_user_tag rvm_ruby_patch detected_rvm_ruby_name __rvm_env_loaded next_token</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">    rvm_error_message rvm_gemset_name rvm_parse_break rvm_token rvm_action rvm_export_args</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="188">
          
          
          <code class="ruby">    rvm_gemset_separator rvm_expanding_aliases rvm_architectures rvm_tar_command rvm_tar_options</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="189">
          
          
          <code class="ruby">    rvm_patch_original_pwd rvm_project_rvmrc rvm_archive_extension rvm_autoinstall_bundler_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="190">
          
          
          <code class="ruby">    rvm_codesign_identity rvm_expected_gemset_name rvm_with_gems rvm_without_gems</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="191">
          
          
          <code class="ruby">    rvm_ignore_dotfiles_flag rvm_latest_binary_flag rvm_fuzzy_flag rvm_autolibs_flag</code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="192">
          <span class="hits">628</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">  __array_list=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">    rvm_patch_names rvm_ree_options rvm_autoconf_flags</code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="196">
          <span class="hits">628</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="198">
          <span class="hits">628</span>
          
          <code class="ruby">  case &quot;${__method}&quot; in</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="199">
          <span class="hits">332</span>
          
          <code class="ruby">    (export) export -a &quot;${__array_list[@]}&quot; ;;</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="200">
          <span class="hits">296</span>
          
          <code class="ruby">    (unset)  unset     &quot;${__array_list[@]}&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="201">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="202">
          
          
          <code class="ruby">      rvm_error &quot;Unknown action given to __variables_definition: ${__method}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="628" data-linenumber="207">
          <span class="hits">628</span>
          
          <code class="ruby">  ${__method} &quot;${__variables_list[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby"># Set shell options that RVM needs temporarily, these are reverted by __rvm_teardown.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby"># see the top of ./scripts/initialize for settings that are needed all the time.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby"># Setup must be always called after initialize, otherwise it does nothing ... except exporting.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">__rvm_setup()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="215">
          <span class="hits">332</span>
          
          <code class="ruby">  __variables_definition export</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">  # Setup only on first load.</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="218">
          <span class="hits">332</span>
          
          <code class="ruby">  if (( __rvm_env_loaded != 1 ))</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="219">
          <span class="hits">36</span>
          
          <code class="ruby">  then return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="592" data-linenumber="222">
          <span class="hits">592</span>
          
          <code class="ruby">  if [[ -n &quot;${BASH_VERSION:-}&quot; ]] &amp;&amp; ! __function_on_stack cd pushd popd</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="287" data-linenumber="224">
          <span class="hits">287</span>
          
          <code class="ruby">    trap 'status=$? ; __rvm_teardown_final ; set +x ; return $status' 0 1 2 3 15</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="227">
          <span class="hits">296</span>
          
          <code class="ruby">  if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="229">
          
          
          <code class="ruby">    export rvm_zsh_clobber rvm_zsh_nomatch</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">    # Set clobber for zsh users, for compatibility with bash's append operator ( &gt;&gt; file ) behavior</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">    if setopt | GREP_OPTIONS=&quot;&quot; \grep -s '^noclobber$' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">    then rvm_zsh_clobber=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">    else rvm_zsh_clobber=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">    setopt clobber</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">    # Set no_nomatch so globs that don't match any files don't print out a warning</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">    if setopt | GREP_OPTIONS=&quot;&quot; \grep -s '^nonomatch$' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="238">
          
          
          <code class="ruby">    then rvm_zsh_nomatch=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">    else rvm_zsh_nomatch=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="241">
          
          
          <code class="ruby">    setopt no_nomatch</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">__rvm_teardown()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="247">
          <span class="hits">332</span>
          
          <code class="ruby">  if builtin command -v __rvm_cleanup_tmp &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="249">
          <span class="hits">332</span>
          
          <code class="ruby">    __rvm_cleanup_tmp</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="252">
          <span class="hits">332</span>
          
          <code class="ruby">  export __rvm_env_loaded</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby">  # if __rvm_env_loaded is not set - detect it via rvm_tmp_path</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="254">
          <span class="hits">332</span>
          
          <code class="ruby">  : __rvm_env_loaded:${__rvm_env_loaded:=${rvm_tmp_path:+1}}:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">  # if not loaded then fallback to 0</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="256">
          <span class="hits">332</span>
          
          <code class="ruby">  : __rvm_env_loaded:${__rvm_env_loaded:=0}:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">  # decrease load count counter</code>
        </li>
      
        <li class="covered" data-hits="332" data-linenumber="258">
          <span class="hits">332</span>
          
          <code class="ruby">  : __rvm_env_loaded:$(( __rvm_env_loaded-=1 )):</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">  #skip teardown when already done or when not yet finished</code>
        </li>
      
        <li class="covered" data-hits="664" data-linenumber="260">
          <span class="hits">664</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_tmp_path:-}&quot; ]] || (( __rvm_env_loaded &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="262">
          <span class="hits">36</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="265">
          <span class="hits">296</span>
          
          <code class="ruby">  if [[ -n &quot;${BASH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="267">
          <span class="hits">296</span>
          
          <code class="ruby">    trap - 0 1 2 3 15 # Clear all traps, we do not want to go into an loop.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="270">
          <span class="hits">296</span>
          
          <code class="ruby">  if [[ -n &quot;${ZSH_VERSION:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">    # If rvm_zsh_clobber is 0 then &quot;setopt&quot; contained &quot;noclobber&quot; before rvm performed &quot;setopt clobber&quot;.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="273">
          
          
          <code class="ruby">    (( rvm_zsh_clobber == 0 )) &amp;&amp; setopt noclobber</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">    # If rvm_zsh_nomatch is 0 then &quot;setopt&quot; contained &quot;nonomatch&quot; before rvm performed &quot;setopt nonomatch&quot;.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="275">
          
          
          <code class="ruby">    (( rvm_zsh_nomatch == 0 )) || setopt nomatch</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="277">
          
          
          <code class="ruby">    unset rvm_zsh_clobber rvm_zsh_nomatch</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="280">
          <span class="hits">296</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_stored_umask:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="282">
          <span class="hits">296</span>
          
          <code class="ruby">    umask ${rvm_stored_umask}</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="283">
          <span class="hits">296</span>
          
          <code class="ruby">    unset rvm_stored_umask</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="286">
          <span class="hits">296</span>
          
          <code class="ruby">  if [[ &quot;${rvm_stored_errexit:-&quot;&quot;}&quot; == &quot;1&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="287">
          
          
          <code class="ruby">  then set -e</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="290">
          <span class="hits">296</span>
          
          <code class="ruby">  __variables_definition unset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="292">
          <span class="hits">296</span>
          
          <code class="ruby">  if builtin command -v __rvm_cleanup_download &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="294">
          
          
          <code class="ruby">    __rvm_cleanup_download</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="297">
          <span class="hits">296</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">__rvm_teardown_final()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="302">
          
          
          <code class="ruby">  __rvm_env_loaded=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="303">
          
          
          <code class="ruby">  unset __rvm_project_rvmrc_lock</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="304">
          
          
          <code class="ruby">  __rvm_teardown</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="305">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">__rvm_do_with_env_before()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="309">
          <span class="hits">26</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_scripts_path:-}&quot; || -n &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">    # Load env - setup all required variables, __rvm_teardown is called on the end</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="312">
          <span class="hits">13</span>
          
          <code class="ruby">    source &quot;${rvm_scripts_path:-&quot;$rvm_path/scripts&quot;}/initialize&quot;</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="313">
          <span class="hits">13</span>
          
          <code class="ruby">    __rvm_setup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">__rvm_do_with_env_after()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="319">
          <span class="hits">13</span>
          
          <code class="ruby">  __rvm_teardown</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="321">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">__rvm_do_with_env()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="324">
          <span class="hits">4</span>
          
          <code class="ruby">  typeset result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="326">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_do_with_env_before</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="328">
          <span class="hits">4</span>
          
          <code class="ruby">  &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="329">
          <span class="hits">4</span>
          
          <code class="ruby">  result=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="331">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_do_with_env_after</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="333">
          <span class="hits">4</span>
          
          <code class="ruby">  return ${result:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">__rvm_conditionally_do_with_env()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="198" data-linenumber="338">
          <span class="hits">198</span>
          
          <code class="ruby">  if (( __rvm_env_loaded &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="194" data-linenumber="340">
          <span class="hits">194</span>
          
          <code class="ruby">    &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="342">
          <span class="hits">4</span>
          
          <code class="ruby">    __rvm_do_with_env &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">__rvm_ensure_is_a_function()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="139" data-linenumber="348">
          <span class="hits">139</span>
          
          <code class="ruby">  if [[ ${rvm_reload_flag:=0} == 1 ]] || ! is_a_function rvm</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="276" data-linenumber="350">
          <span class="hits">276</span>
          
          <code class="ruby">    for script in version selector selector_gemsets cd cli override_gem</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="276" data-linenumber="352">
          <span class="hits">276</span>
          
          <code class="ruby">      if [[ -f &quot;$rvm_scripts_path/$script&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="276" data-linenumber="354">
          <span class="hits">276</span>
          
          <code class="ruby">        source &quot;$rvm_scripts_path/$script&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="356">
          
          
          <code class="ruby">        printf &quot;%b&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="357">
          
          
          <code class="ruby">&quot;WARNING:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="358">
          
          
          <code class="ruby">        Could not source '$rvm_scripts_path/$script' as file does not exist.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="359">
          
          
          <code class="ruby">        RVM will likely not work as expected.\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">__rvm_call_with_restored_umask()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="367">
          
          
          <code class="ruby">  rvm_umask=&quot;$(umask)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="369">
          
          
          <code class="ruby">  if [[ -n &quot;${rvm_stored_umask:-}&quot; ]];</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="371">
          
          
          <code class="ruby">    umask ${rvm_stored_umask}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="374">
          
          
          <code class="ruby">  &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="376">
          
          
          <code class="ruby">  umask &quot;${rvm_umask}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="377">
          
          
          <code class="ruby">  unset rvm_umask</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="378">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="0fc044f8c9c8b992721d1e6b487e6d5de3ee05a0">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/gemset</h3>
    <h4><span class="green">92.31 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_current_gemset()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">  # Fetch the current gemset via GEM_HOME</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="6">
          <span class="hits">14</span>
          
          <code class="ruby">  typeset current_gemset</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="7">
          <span class="hits">14</span>
          
          <code class="ruby">  current_gemset=&quot;${GEM_HOME:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  # We only care about the stuff to the right of the separator.</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="10">
          <span class="hits">14</span>
          
          <code class="ruby">  current_gemset=&quot;${current_gemset##*${rvm_gemset_separator:-@}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="12">
          <span class="hits">14</span>
          
          <code class="ruby">  if [[ &quot;${current_gemset}&quot; == &quot;${GEM_HOME:-}&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="13">
          <span class="hits">9</span>
          
          <code class="ruby">    echo ''</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="15">
          <span class="hits">5</span>
          
          <code class="ruby">    echo &quot;${current_gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">__rvm_using_gemset_globalcache()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="236" data-linenumber="21">
          <span class="hits">236</span>
          
          <code class="ruby">  &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/db&quot; \</code>
        </li>
      
        <li class="covered" data-hits="472" data-linenumber="22">
          <span class="hits">472</span>
          
          <code class="ruby">    &quot;use_gemset_globalcache&quot; | GREP_OPTIONS=&quot;&quot; \grep '^true$' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="covered" data-hits="236" data-linenumber="23">
          <span class="hits">236</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">__rvm_current_gemcache_dir()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="28">
          <span class="hits">12</span>
          
          <code class="ruby">  if __rvm_using_gemset_globalcache; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    echo &quot;$rvm_gems_cache_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="31">
          <span class="hits">12</span>
          
          <code class="ruby">    echo &quot;${rvm_ruby_gem_home:-&quot;$GEM_HOME&quot;}/cache&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="33">
          <span class="hits">12</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="bad22bba48cfa611578254b26032a080e28145b6">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/init</h3>
    <h4><span class="red">74.07 %</span> covered</h4>
    <div>
      <b>27</b> relevant lines. 
      <span class="green"><b>20</b> lines covered</span> and
      <span class="red"><b>7</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_load_rvmrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="831" data-linenumber="5">
          <span class="hits">831</span>
          
          <code class="ruby">  typeset _file</code>
        </li>
      
        <li class="covered" data-hits="831" data-linenumber="6">
          <span class="hits">831</span>
          
          <code class="ruby">  typeset -a rvm_rvmrc_files</code>
        </li>
      
        <li class="covered" data-hits="831" data-linenumber="7">
          <span class="hits">831</span>
          
          <code class="ruby">  if (( ${rvm_ignore_rvmrc:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="9">
          <span class="hits">7</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="863" data-linenumber="12">
          <span class="hits">863</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_stored_umask:-}&quot; ]] || export rvm_stored_umask=$(umask)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="824" data-linenumber="14">
          <span class="hits">824</span>
          
          <code class="ruby">  rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1648" data-linenumber="15">
          <span class="hits">1648</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp; ! [[ &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="824" data-linenumber="16">
          <span class="hits">824</span>
          
          <code class="ruby">     then rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="2472" data-linenumber="18">
          <span class="hits">2472</span>
          
          <code class="ruby">  for _file in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="2472" data-linenumber="20">
          <span class="hits">2472</span>
          
          <code class="ruby">    if [[ -s &quot;$_file&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1648" data-linenumber="22">
          <span class="hits">1648</span>
          
          <code class="ruby">      if GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$_file&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">        rvm_error &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">$_file is for rvm settings only.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">rvm CLI may NOT be called from within $_file.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">Skipping the loading of $_file</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="824" data-linenumber="31">
          <span class="hits">824</span>
          
          <code class="ruby">        source &quot;$_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="824" data-linenumber="35">
          <span class="hits">824</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"># Initialize rvm, ensuring that the path and directories are as expected.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">__rvm_initialize()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="41">
          <span class="hits">273</span>
          
          <code class="ruby">  true ${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="42">
          <span class="hits">273</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="44">
          <span class="hits">273</span>
          
          <code class="ruby">  __rvm_clean_path</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="45">
          <span class="hits">273</span>
          
          <code class="ruby">  __rvm_conditionally_add_bin_path</code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="46">
          <span class="hits">273</span>
          
          <code class="ruby">  export PATH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="48">
          <span class="hits">273</span>
          
          <code class="ruby">  if [[ ! -d &quot;${rvm_tmp_path:-/tmp}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">    command mkdir -p &quot;${rvm_tmp_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="273" data-linenumber="53">
          <span class="hits">273</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="4a36bdcacd50f197d0a6bb7a2683aefaae643590">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/install</h3>
    <h4><span class="red">60.0 %</span> covered</h4>
    <div>
      <b>20</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>8</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_record_install()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="5">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ -n &quot;$1&quot; ]] || return</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="7">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset recorded_ruby_name rvm_install_record_file</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="8">
          <span class="hits">4</span>
          
          <code class="ruby">  recorded_ruby_name=&quot;$( &quot;$rvm_scripts_path/tools&quot; strings &quot;$1&quot; )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="9">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_install_record_file=&quot;$rvm_user_path/installs&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="11">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ -f &quot;$rvm_install_record_file&quot; ]] || \touch &quot;$rvm_install_record_file&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="12">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_sed_i &quot;$rvm_install_record_file&quot; -e &quot;/^$recorded_ruby_name/d&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  #TODO: use `for` so  rvm_configure_flags are quoted properly</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="15">
          <span class="hits">2</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;$recorded_ruby_name -- ${rvm_configure_flags[*]}\n&quot; &gt;&gt; &quot;$rvm_install_record_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">__rvm_remove_install_record()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="20">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset recorded_ruby_name rvm_install_record_file</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="21">
          <span class="hits">6</span>
          
          <code class="ruby">  recorded_ruby_name=&quot;$( &quot;$rvm_scripts_path/tools&quot; strings &quot;$1&quot; )&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="22">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_install_record_file=&quot;$rvm_user_path/installs&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="24">
          <span class="hits">3</span>
          
          <code class="ruby">  if [[ -s &quot;$rvm_install_record_file&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="25">
          <span class="hits">3</span>
          
          <code class="ruby">  then __rvm_sed_i &quot;$rvm_install_record_file&quot; -e &quot;/^$recorded_ruby_name/d&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">__rvm_recorded_install_command()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">  typeset recorded_ruby_name</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">  recorded_ruby_name=&quot;$( &quot;$rvm_scripts_path/tools&quot; strings &quot;$1&quot; )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">  recorded_ruby_name=${recorded_ruby_name%%${rvm_gemset_seperator:-&quot;@&quot;}*}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">  [[ -n &quot;$recorded_ruby_name&quot; ]] || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">    [[ -s &quot;$rvm_user_path/installs&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep &quot;^$recorded_ruby_name &quot; &quot;$rvm_user_path/installs&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep &quot;^$recorded_ruby_name &quot; &quot;$rvm_user_path/installs&quot; | head -n 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="e2fa337414f18cbf0df4ed6eb05d626addb0db29">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/irbrc</h3>
    <h4><span class="green">100.0 %</span> covered</h4>
    <div>
      <b>3</b> relevant lines. 
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Create the irbrc for the currently selected ruby installation.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">__rvm_irbrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="6">
          <span class="hits">2</span>
          
          <code class="ruby">  if [[ -d &quot;$rvm_ruby_home&quot; &amp;&amp; ! -s &quot;$rvm_ruby_irbrc&quot; ]] ; then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">    \cp &quot;$rvm_scripts_path/irbrc&quot; &quot;$rvm_ruby_irbrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="9">
          <span class="hits">1</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="b4e4b5cf4efa2e6c1aef7482142972e0cd5baeab">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/logging</h3>
    <h4><span class="red">46.43 %</span> covered</h4>
    <div>
      <b>84</b> relevant lines. 
      <span class="green"><b>39</b> lines covered</span> and
      <span class="red"><b>45</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Logging functions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># check if user wants colors and if output goes to terminal</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># rvm_pretty_print_flag:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"># - 0|no    - disabled always</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"># - 1|auto  - automatic depending if the output goes to terminal (default)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"># - 2|force - forced always</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"># to select which terminal output should be checked use first param:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"># - stdout - for stdout (default)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"># - stderr - for stderr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"># - number - for the given terminal fd</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"># - else   - for both stdout and stderr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">rvm_pretty_print()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="299" data-linenumber="17">
          <span class="hits">299</span>
          
          <code class="ruby">  case &quot;${rvm_pretty_print_flag:=auto}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">    (0|no)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">    (1|auto)</code>
        </li>
      
        <li class="covered" data-hits="299" data-linenumber="22">
          <span class="hits">299</span>
          
          <code class="ruby">      case &quot;${TERM:-dumb}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">        (dumb|unknown) return 1 ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="covered" data-hits="299" data-linenumber="25">
          <span class="hits">299</span>
          
          <code class="ruby">      case &quot;$1&quot; in</code>
        </li>
      
        <li class="covered" data-hits="516" data-linenumber="26">
          <span class="hits">516</span>
          
          <code class="ruby">        (stdout)      [[ -t 1           ]] || return 1 ;;</code>
        </li>
      
        <li class="covered" data-hits="82" data-linenumber="27">
          <span class="hits">82</span>
          
          <code class="ruby">        (stderr)      [[ -t 2           ]] || return 1 ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">        ([[:digit:]]) [[ -t $1          ]] || return 1 ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">        (any)         [[ -t 1  || -t 2  ]] || return 1 ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">        (*)           [[ -t 1  &amp;&amp; -t 2  ]] || return 1 ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">    (2|force)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="40">
          <span class="hits">528</span>
          
          <code class="ruby">case &quot;${TERM:-dumb}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">  (dumb|unknown)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    rvm_error_clr=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    rvm_warn_clr=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">    rvm_debug_clr=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    rvm_notify_clr=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">    rvm_reset_clr=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">  (*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1056" data-linenumber="50">
          <span class="hits">1056</span>
          
          <code class="ruby">      [[ -z &quot;${rvm_error_clr:-}&quot; || ${rvm_reload_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">      export rvm_error_clr rvm_warn_clr rvm_debug_clr rvm_notify_clr rvm_reset_clr</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="53">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_error_clr=&quot;$(  &quot;${rvm_scripts_path:-${rvm_path}/scripts}/color&quot; &quot;${rvm_error_color:-red}&quot;     )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_warn_clr=&quot;$(   &quot;${rvm_scripts_path:-${rvm_path}/scripts}/color&quot; &quot;${rvm_warn_color:-yellow}&quot;   )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="55">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_debug_clr=&quot;$(  &quot;${rvm_scripts_path:-${rvm_path}/scripts}/color&quot; &quot;${rvm_debug_color:-magenta}&quot; )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="56">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_notify_clr=&quot;$( &quot;${rvm_scripts_path:-${rvm_path}/scripts}/color&quot; &quot;${rvm_notify_color:-green}&quot;  )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="57">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_reset_clr=&quot;$(  &quot;${rvm_scripts_path:-${rvm_path}/scripts}/color&quot; &quot;${rvm_reset_color:-reset}&quot;   )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">rvm_error()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="39" data-linenumber="64">
          <span class="hits">39</span>
          
          <code class="ruby">  if rvm_pretty_print stderr</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">  then printf &quot;%b&quot; &quot;${rvm_error_clr:-}$*${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="39" data-linenumber="66">
          <span class="hits">39</span>
          
          <code class="ruby">  else printf &quot;%b&quot; &quot;$*\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">  fi &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">rvm_error_help()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">  rvm_error &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="72">
          
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="73">
          
          
          <code class="ruby">  &quot;${rvm_scripts_path}/help&quot; &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">rvm_fail()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">  rvm_error &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">  exit &quot;${2:-1}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">rvm_warn()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="82">
          <span class="hits">6</span>
          
          <code class="ruby">  if rvm_pretty_print stdout</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">  then printf &quot;%b&quot; &quot;${rvm_warn_clr:-}$*${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="84">
          <span class="hits">6</span>
          
          <code class="ruby">  else printf &quot;%b&quot; &quot;$*\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">rvm_debug()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1192" data-linenumber="89">
          <span class="hits">1192</span>
          
          <code class="ruby">  (( ${rvm_debug_flag:-0} )) || return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">  if rvm_pretty_print stderr</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">  then printf &quot;%b&quot; &quot;${rvm_debug_clr:-}$*${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">  else printf &quot;%b&quot; &quot;$*\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">  fi &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">rvm_debug_stream()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="112" data-linenumber="97">
          <span class="hits">112</span>
          
          <code class="ruby">  (( ${rvm_debug_flag:-0} || ${rvm_trace_flag:-0} )) || return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">  if rvm_pretty_print stdout</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">  then cat - | awk '{print &quot;'&quot;${rvm_debug_clr:-}&quot;'&quot;$0&quot;'&quot;${rvm_reset_clr:-}&quot;'&quot;}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="100">
          
          
          <code class="ruby">  else cat -</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">  fi &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">rvm_log()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="218" data-linenumber="105">
          <span class="hits">218</span>
          
          <code class="ruby">  if rvm_pretty_print stdout</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">  then printf &quot;%b&quot; &quot;${rvm_notify_clr:-}$*${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="218" data-linenumber="107">
          <span class="hits">218</span>
          
          <code class="ruby">  else printf &quot;%b&quot; &quot;$*\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">__rvm_dotted()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="112">
          <span class="hits">69</span>
          
          <code class="ruby">  typeset flush __show_nth_dot</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="113">
          <span class="hits">69</span>
          
          <code class="ruby">  __show_nth_dot=${rvm_show_every_nth_dot:-1}</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="114">
          <span class="hits">69</span>
          
          <code class="ruby">  unset rvm_show_every_nth_dot</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="116">
          <span class="hits">69</span>
          
          <code class="ruby">  if (( __show_nth_dot == 1 ))</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="117">
          <span class="hits">69</span>
          
          <code class="ruby">  then __show_nth_dot=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">  else __show_nth_dot=&quot;if (NR%${__show_nth_dot}==1)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="121">
          <span class="hits">69</span>
          
          <code class="ruby">  if awk '{fflush;}' &lt;&lt;&lt;EO 2&gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">  then flush=fflush</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="123">
          <span class="hits">69</span>
          
          <code class="ruby">  else flush=flush</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="126">
          <span class="hits">69</span>
          
          <code class="ruby">  if (( $# ))</code>
        </li>
      
        <li class="covered" data-hits="69" data-linenumber="127">
          <span class="hits">69</span>
          
          <code class="ruby">  then awk '{if (NR==1){printf &quot;'&quot;${rvm_notify_clr:-}$*${rvm_reset_clr:-}&quot;'&quot;}; '&quot;$__show_nth_dot&quot;' printf &quot;.&quot;; '$flush';} END{if (NR&gt;0) print &quot;&quot;; else print &quot;'&quot;${rvm_notify_clr:-}$*${rvm_reset_clr:-}&quot;'&quot;}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">  else awk '{printf &quot;.&quot;; '$flush';} END{if (NR&gt;0) print &quot;&quot;}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">__rvm_log_dotted()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="133">
          <span class="hits">37</span>
          
          <code class="ruby">  typeset __log_file __message __iterator</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="134">
          <span class="hits">37</span>
          
          <code class="ruby">  __log_file=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="135">
          <span class="hits">37</span>
          
          <code class="ruby">  __message=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="136">
          <span class="hits">37</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="covered" data-hits="111" data-linenumber="137">
          <span class="hits">111</span>
          
          <code class="ruby">  &quot;$@&quot; 2&gt;&amp;1 | tee -a &quot;${__log_file}&quot; | __rvm_dotted &quot;${__message}&quot; || return $?</code>
        </li>
      
        <li class="covered" data-hits="111" data-linenumber="138">
          <span class="hits">111</span>
          
          <code class="ruby">  for __iterator in ${PIPESTATUS[@]} ${pipestatus[@]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="111" data-linenumber="140">
          <span class="hits">111</span>
          
          <code class="ruby">    case &quot;${__iterator}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">      (&quot;&quot;) true ;;</code>
        </li>
      
        <li class="covered" data-hits="111" data-linenumber="142">
          <span class="hits">111</span>
          
          <code class="ruby">      (0)  true ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">      (*)  return ${__iterator} ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="146">
          <span class="hits">37</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">__rvm_every_nth_dot()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">  typeset result=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">  export rvm_show_every_nth_dot=$1  # show dot for every nth line</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="153">
          
          
          <code class="ruby">  &quot;$@&quot; || result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="154">
          
          
          <code class="ruby">  unset rvm_show_every_nth_dot</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">  return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="82c43d8b786ef61dd15c51524e64d978c6ad2ea2">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/manage/base</h3>
    <h4><span class="red">39.97 %</span> covered</h4>
    <div>
      <b>638</b> relevant lines. 
      <span class="green"><b>255</b> lines covered</span> and
      <span class="red"><b>383</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Emits a number of patches to STDOUT, each on a new line</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># Expands patchsets etc.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">#TODO: Lookup default patches on rvm_ruby_string heirarchy.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">__rvm_current_patch_names()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset _variable patch_level_separator level name expanded_name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="9">
          <span class="hits">1</span>
          
          <code class="ruby">  _variable=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # Need variable for ${x%...}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">  patch_level_separator=&quot;%&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  for name in &quot;${rvm_patch_names[@]}&quot; default</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_debug &quot;Trying patch '$name'.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -n &quot;${name:-}&quot; ]] || continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="17">
          <span class="hits">1</span>
          
          <code class="ruby">    if __rvm_string_match &quot;${name}&quot; &quot;*${patch_level_separator}*&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">    then level=&quot;${name##*${patch_level_separator}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">    else level=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">    name=&quot;${name%${patch_level_separator}*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="22">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_debug &quot;Patch name '$name'.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    while</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="24">
          <span class="hits">3</span>
          
          <code class="ruby">      read -r expanded_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="26">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_debug &quot;Patch expanded_name '$expanded_name'.&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="27">
          <span class="hits">6</span>
          
          <code class="ruby">      [[ -z &quot;${expanded_name}&quot; ]] || eval &quot;${_variable}+=( \&quot;\${expanded_name}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    done &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">      __rvm_expand_patch_name &quot;$name&quot; &quot;$level&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">__rvm_apply_patches()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="36">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset patch_name patch_level_separator patch_fuzziness patch_level source_directory full_patch_path _save_dir</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="37">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a patches</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">  patches=()</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">  patch_level_separator=&quot;%&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">  patch_fuzziness=&quot;25&quot; # max fuziness that makes sense is 3 (or there are patches with bigger context ?)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="41">
          <span class="hits">1</span>
          
          <code class="ruby">  result=0</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">  source_directory=&quot;${1:-&quot;${rvm_src_path}/$rvm_ruby_string&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">  (( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">  _save_dir=&quot;$PWD&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_cd &quot;$source_directory&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="47">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;${1:-all}&quot; in</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="48">
          <span class="hits">1</span>
          
          <code class="ruby">    (all) __rvm_current_patch_names patches ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">    (*) patches=( &quot;$@&quot; ) ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="51">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_debug &quot;All found patches(${#patches[*]}): ${patches[*]}.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="53">
          <span class="hits">2</span>
          
          <code class="ruby">  for patch_name in &quot;${patches[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="55">
          <span class="hits">2</span>
          
          <code class="ruby">    if __rvm_string_match &quot;${patch_name}&quot; &quot;*${patch_level_separator}*&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">    then patch_level=&quot;${patch_name##*${patch_level_separator}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="57">
          <span class="hits">2</span>
          
          <code class="ruby">    else patch_level=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="59">
          <span class="hits">2</span>
          
          <code class="ruby">    patch_name=&quot;${patch_name%${patch_level_separator}*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="61">
          <span class="hits">4</span>
          
          <code class="ruby">    full_patch_path=&quot;$(__rvm_lookup_full_patch_path &quot;$patch_name&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="62">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_debug &quot;Patch full path '$full_patch_path'.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="64">
          <span class="hits">2</span>
          
          <code class="ruby">      [[ -z &quot;${full_patch_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">      rvm_warn &quot;Patch '$patch_name' not found.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">      result=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="69">
          <span class="hits">2</span>
          
          <code class="ruby">      ! __rvm_apply_patch &quot;${patch_name}&quot; &quot;$full_patch_path&quot; &quot;$patch_fuzziness&quot; &quot;$patch_level&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">      result=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_cd &quot;${_save_dir}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="75">
          <span class="hits">1</span>
          
          <code class="ruby">  return ${result:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">__rvm_apply_patch_prepare()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="81">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_string_match &quot;${_full_patch_path}&quot; &quot;http://*&quot; &quot;https://*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    _local_patch_path=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">      mktemp ${TMPDIR:-/tmp}/tmp.XXXXXXXXXXXXXXXXXX</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">    )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">    rvm_log &quot;Fetching patch ${_full_patch_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">      unset curl</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">      \curl ${rvm_proxy:+-x}${rvm_proxy:-} -f -L --create-dirs -sS -C - -o &quot;${_local_patch_path}&quot; &quot;${_full_patch_path}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="92">
          <span class="hits">2</span>
          
          <code class="ruby">    _local_patch_path=&quot;${_full_patch_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">__rvm_apply_patch_remove()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="99">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_string_match &quot;${_full_patch_path}&quot; &quot;http://*&quot; &quot;https://*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">    \rm -f &quot;${_local_patch_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">__rvm_apply_patch()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="107">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset _patch_name _full_patch_path _local_patch_path _patch_fuzziness _patch_level</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="108">
          <span class="hits">2</span>
          
          <code class="ruby">  _patch_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="109">
          <span class="hits">2</span>
          
          <code class="ruby">  _full_patch_path=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="110">
          <span class="hits">2</span>
          
          <code class="ruby">  _patch_fuzziness=&quot;$3&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="111">
          <span class="hits">2</span>
          
          <code class="ruby">  _patch_level=&quot;$4&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="114">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -r &quot;patches.list&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="115">
          <span class="hits">2</span>
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep &quot;${_patch_name}&quot; &quot;patches.list&quot; &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">    rvm_warn &quot;Patch ${_patch_name} was already applied.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="119">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_apply_patch_prepare</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="120">
          <span class="hits">2</span>
          
          <code class="ruby">    touch &quot;patches.list&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="121">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_log_command &quot;patch.apply.${_patch_name##*\/}&quot; &quot;Applying patch ${_full_patch_path}&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">      patch -F ${_patch_fuzziness} -p${_patch_level} -N -f -i &quot;${_local_patch_path}&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="123">
          <span class="hits">2</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;${_patch_name}\n&quot; &gt;&gt; &quot;patches.list&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="124">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_apply_patch_remove</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">__rvm_install_source()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="130">
          <span class="hits">1</span>
          
          <code class="ruby">  true ${rvm_ruby_selected_flag:=0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="132">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset directory db_configure_flags</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="133">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a autoconf_flags</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="135">
          <span class="hits">1</span>
          
          <code class="ruby">  (( rvm_ruby_selected_flag )) || __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="137">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Installing Ruby from source to: $rvm_ruby_home, this may take a while depending on your cpu(s)...&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="138">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_cd &quot;${rvm_src_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="140">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_fetch_ruby</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="141">
          <span class="hits">1</span>
          
          <code class="ruby">  then true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">    result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">    rvm_error &quot;There has been an error fetching the ruby interpreter. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">    return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_cd &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="149">
          <span class="hits">1</span>
          
          <code class="ruby">  then true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">    result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">    rvm_error &quot;Source directory is missing.  \nDid the download or extraction fail?  \nHalting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="153">
          
          
          <code class="ruby">    return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="156">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -d &quot;${rvm_path}/usr&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_add_to_path prepend &quot;${rvm_path}/usr/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">    builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">  if (( ${rvm_static_flag:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="164">
          
          
          <code class="ruby">    if [[ -s &quot;ext/Setup&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">      echo 'option nodynamic' &gt;&gt; ext/Setup</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">      rvm_log &quot;Setting option nodynamic (static).&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">      rvm_log &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="170">
          
          
          <code class="ruby">      You asked for static Ruby compilation however the file ext/Setup</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">      appears to be missing from the source directory</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">      ${rvm_src_path}/$rvm_ruby_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="173">
          
          
          <code class="ruby">      please investigate this, continuing installation regardless.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">      &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_apply_patches</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="179">
          <span class="hits">1</span>
          
          <code class="ruby">  then true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">    result=&quot;$?&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">    rvm_error &quot;There has been an error applying the specified patches. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">    return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">    (( ${rvm_force_autoconf_flag:-0} == 1 )) || {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="188">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ -z &quot;${rvm_ruby_configure:-}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="189">
          
          
          <code class="ruby">      [[ ! -s &quot;${rvm_src_path}/$rvm_ruby_string/configure&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="190">
          
          
          <code class="ruby">        &quot;${rvm_src_path}/$rvm_ruby_string/configure.in&quot; -nt &quot;${rvm_src_path}/$rvm_ruby_string/configure&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="191">
          <span class="hits">2</span>
          
          <code class="ruby">      ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">      builtin command -v autoreconf &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">      if (( ${rvm_force_autoconf_flag:-0} == 1 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="198">
          
          
          <code class="ruby">      then autoconf_flags+=( -f )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">      __rvm_log_command &quot;autoreconf&quot; &quot;$rvm_ruby_string - #autoreconf${autoconf_flags:-}&quot; autoreconf &quot;${autoconf_flags[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="202">
          
          
          <code class="ruby">      rvm_error &quot;rvm requires autoreconf to install the selected ruby interpreter however autoreconf was not found in the PATH.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_configure:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="210">
          
          
          <code class="ruby">    if __rvm_log_command &quot;configure&quot; &quot;$rvm_ruby_string - #configuring&quot; &quot;$rvm_ruby_configure&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="211">
          
          
          <code class="ruby">    then true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="214">
          
          
          <code class="ruby">      rvm_error &quot;There has been an error while configuring. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">      return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -s ./configure ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="220">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_configure_flags=( --prefix=&quot;$rvm_ruby_home&quot;  &quot;${rvm_configure_flags[@]}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="222">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_db &quot;${rvm_ruby_interpreter}_configure_flags&quot; db_configure_flags</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="223">
          <span class="hits">1</span>
          
          <code class="ruby">    if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="224">
          
          
          <code class="ruby">    then rvm_configure_flags=( ${=db_configure_flags} &quot;${rvm_configure_flags[@]}&quot; )</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="225">
          <span class="hits">1</span>
          
          <code class="ruby">    else rvm_configure_flags=( ${db_configure_flags}  &quot;${rvm_configure_flags[@]}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="227">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_array_prepend_or_ignore rvm_configure_env CFLAGS= &quot; &quot; &quot;-O3&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="228">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_array_prepend_or_ignore rvm_configure_env CCFLAGS= &quot; &quot; &quot;-O3&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_array_prepend_or_ignore rvm_configure_env CXXFLAGS= &quot; &quot; &quot;-O3&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_log_command &quot;configure&quot; &quot;$rvm_ruby_string - #configuring&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">      &quot;${rvm_configure_env[@]}&quot; ./configure &quot;${rvm_configure_flags[@]}&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">    {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="234">
          
          
          <code class="ruby">      rvm_error &quot;There has been an error while running configure. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">      return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="238">
          
          
          <code class="ruby">    rvm_error &quot;Skipping configure step, 'configure' does not exist, did autoreconf not run successfully?&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="241">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_log_command &quot;make&quot; &quot;$rvm_ruby_string - #compiling&quot; ${rvm_ruby_make:-make} &quot;${rvm_make_flags[@]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">  then true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="244">
          
          
          <code class="ruby">    result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">    rvm_error &quot;There has been an error while running make. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">    return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="249">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_rm_rf &quot;$PWD/.ext/rdoc&quot; # WTF?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="251">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_ruby_make_install=${rvm_ruby_make_install:-&quot;make install&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="253">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_run &quot;install&quot; &quot;$rvm_ruby_make_install&quot; &quot;$rvm_ruby_string - #installing &quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="254">
          <span class="hits">1</span>
          
          <code class="ruby">  then true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">    result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="257">
          
          
          <code class="ruby">    rvm_error &quot;There has been an error while running make install. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">    return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="261">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -s &quot;${rvm_src_path}/$rvm_ruby_string/patches.list&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="262">
          <span class="hits">1</span>
          
          <code class="ruby">  then \cp -f &quot;${rvm_src_path}/$rvm_ruby_string/patches.list&quot; &quot;$rvm_ruby_home/patches.list&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="265">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;${rvm_ruby_string:-&quot;&quot;}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">    ruby-1.8.4|ruby-1.8.5-*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="267">
          
          
          <code class="ruby">      typeset libdir</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="268">
          
          
          <code class="ruby">      libdir=&quot;$rvm_ruby_home/lib&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="270">
          
          
          <code class="ruby">        [[ -d &quot;${libdir}64&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="272">
          
          
          <code class="ruby">        \rm -rf &quot;${libdir}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="273">
          
          
          <code class="ruby">        ln -s &quot;${libdir}64&quot; &quot;${libdir}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="278">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot; ${rvm_configure_flags[*]} &quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="279">
          
          
          <code class="ruby">    (*[[:space:]]--program-suffix=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="280">
          
          
          <code class="ruby">      typeset program_suffix</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="281">
          
          
          <code class="ruby">      program_suffix=&quot;${rvm_configure_flags[*]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">      program_suffix=&quot;${program_suffix#*--program-suffix=}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="283">
          
          
          <code class="ruby">      program_suffix=&quot;${program_suffix%%[\' ]*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="284">
          
          
          <code class="ruby">      __rvm_log_command &quot;link.ruby&quot; &quot;$rvm_ruby_string - #linking ruby${program_suffix} -&gt; ruby &quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">        ln -s &quot;$rvm_ruby_home/bin/ruby${program_suffix}&quot; &quot;$rvm_ruby_home/bin/ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="289">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_create_flag=1 __rvm_use &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="290">
          <span class="hits">1</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/rubygems&quot; ${rvm_rubygems_version:-latest} &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="291">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_generate_wrappers &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="292">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_log_command &quot;chmod.bin&quot; &quot;&quot; chmod +x &quot;$rvm_ruby_home/bin&quot;/* &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="293">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_post_install ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="294">
          
          
          <code class="ruby">    return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="296">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Install of $rvm_ruby_string - #complete &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">__rvm_install_ruby_try_remote()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="301">
          <span class="hits">1</span>
          
          <code class="ruby">  : rvm_disable_binary_flag:${rvm_disable_binary_flag:=0}: rvm_remote_flag:${rvm_remote_flag:=0}:</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="302">
          <span class="hits">1</span>
          
          <code class="ruby">  (( rvm_disable_binary_flag )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="304">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;Searching for binary rubies, this might take some time.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="305">
          <span class="hits">1</span>
          
          <code class="ruby">    typeset __rvm_ruby_url</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="306">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_ruby_url=&quot;$( __rvm_remote_server_path &quot;${rvm_ruby_string}&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="308">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ -z &quot;${__rvm_ruby_url}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="310">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="311">
          <span class="hits">1</span>
          
          <code class="ruby">          (( rvm_remote_flag ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">          rvm_error &quot;Requested binary installation but no rubies are available to download, consider skipping --binary flag.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="314">
          
          
          <code class="ruby">          return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="316">
          
          
          <code class="ruby">          rvm_warn &quot;No binary rubies available for: $(__rvm_system_path -)/${rvm_ruby_string}.</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="317">
          <span class="hits">2</span>
          
          <code class="ruby">Continuing with compilation. Please read 'rvm mount' to get more information on binary rubies.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">          rvm_remote_flag=1 &quot;${rvm_scripts_path}/external&quot; mount &quot;${__rvm_ruby_url}&quot; &quot;${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="323">
          
          
          <code class="ruby">          return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="325">
          
          
          <code class="ruby">          __rvm_rm_rf &quot;$rvm_rubies_path/$rvm_ruby_string&quot; # cleanup so standard installation works</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="326">
          
          
          <code class="ruby">          rvm_warn &quot;Mounting remote ruby failed, trying to compile.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="330">
          <span class="hits">1</span>
          
          <code class="ruby">  return 2 # continue with compilation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">__rvm_install_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="335">
          <span class="hits">1</span>
          
          <code class="ruby">  true ${rvm_head_flag:=0} ${rvm_ruby_selected_flag:=0}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset binary __rvm_ruby_name ruby_install_type</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="339">
          <span class="hits">1</span>
          
          <code class="ruby">    (( rvm_ruby_selected_flag == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="341">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_ruby_name=&quot;$rvm_ruby_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="342">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_select || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="344">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ -n &quot;$__rvm_ruby_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="346">
          
          
          <code class="ruby">      __rvm_select || return $? # second detection for -n verification</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="348">
          
          
          <code class="ruby">        [[ &quot;$__rvm_ruby_name&quot; != &quot;$detected_rvm_ruby_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="350">
          
          
          <code class="ruby">        rvm_error &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="351">
          
          
          <code class="ruby">The used ruby name (-n) is not valid, it was matched as:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="353">
          
          
          <code class="ruby">$( env | GREP_OPTIONS=&quot;&quot; \grep &quot;^rvm.*=$__rvm_ruby_name$&quot; || printf &quot;# Was not used at all\n&quot;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="355">
          
          
          <code class="ruby">for more details on selecting names please visit:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="356">
          
          
          <code class="ruby">https://rvm.io/rubies/named/</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="357">
          
          
          <code class="ruby">&quot; #&quot; fix escaping</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="358">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="363">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -n &quot;${RUBYOPT:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="365">
          
          
          <code class="ruby">    ruby_options=&quot;$RUBYOPT&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="366">
          
          
          <code class="ruby">    unset RUBYOPT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="369">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_install_ruby_try_remote</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="370">
          
          
          <code class="ruby">  then return 0</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="371">
          <span class="hits">1</span>
          
          <code class="ruby">  else (( $? == 2 )) || return 1 # 2 =&gt; continue with compilation</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="374">
          <span class="hits">1</span>
          
          <code class="ruby">  if __rvm_check_for_compiler</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="375">
          <span class="hits">1</span>
          
          <code class="ruby">  then true # sok</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="376">
          
          
          <code class="ruby">  else return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="378">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="379">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;${rvm_ruby_interpreter}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="380">
          
          
          <code class="ruby">    opal|macruby|ree|jruby|maglev|goruby|rubinius|ironruby|ruby|mruby|topaz)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="381">
          <span class="hits">1</span>
          
          <code class="ruby">      ruby_install_type=$rvm_ruby_interpreter</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="383">
          
          
          <code class="ruby">    rbx)      ruby_install_type=rubinius ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">    ir)       ruby_install_type=ironruby ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="385">
          
          
          <code class="ruby">    kiji|tcs|jamesgolick) ruby_install_type=ruby     ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="386">
          
          
          <code class="ruby">    default)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="387">
          
          
          <code class="ruby">      rvm_error &quot;a ruby interpreter to install must be specified and not simply 'default'.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="389">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="390">
          
          
          <code class="ruby">      rvm_error &quot;Either the ruby interpreter is unknown or there was an error!.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="394">
          <span class="hits">1</span>
          
          <code class="ruby">  export -a rvm_configure_env</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="395">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_configure_env[*]}&quot; ]] || rvm_configure_env=() # zsh can assume empty var =&gt; ( '' )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="397">
          <span class="hits">1</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/functions/manage/${ruby_install_type}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="398">
          <span class="hits">1</span>
          
          <code class="ruby">  ${ruby_install_type}_install || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">  # Record the Ruby's configuration to a file, key=value format.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="401">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_ruby_config_save &quot;$rvm_ruby_home/bin/ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="402">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_fix_group_permissions &quot;$rvm_ruby_home&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="404">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_hook=&quot;after_install&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="405">
          <span class="hits">1</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/hook&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="407">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -n &quot;$ruby_options&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="409">
          
          
          <code class="ruby">    RUBYOPT=&quot;$ruby_options&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="410">
          
          
          <code class="ruby">    export RUBYOPT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="411">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">__rvm_fetch_from_git_revision_or_sha()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="416">
          
          
          <code class="ruby">  typeset result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="418">
          
          
          <code class="ruby">    [[ -n &quot;$rvm_ruby_revision&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="421">
          
          
          <code class="ruby">      __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="422">
          
          
          <code class="ruby">      [[ &quot;$rvm_ruby_revision&quot; != &quot;head&quot; ]] || rvm_ruby_revision=&quot;master&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="423">
          
          
          <code class="ruby">      git checkout -f &quot;${rvm_ruby_revision}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="424">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="425">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="426">
          
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_sha:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="427">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="429">
          
          
          <code class="ruby">      __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="430">
          
          
          <code class="ruby">      git checkout -f &quot;${rvm_ruby_sha}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="431">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="432">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="433">
          
          
          <code class="ruby">  result=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="435">
          
          
          <code class="ruby">    (( result &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="437">
          
          
          <code class="ruby">    rvm_error &quot;There has been an error while trying to checkout the source branch.\nHalting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="438">
          
          
          <code class="ruby">    return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="442">
          
          
          <code class="ruby">__rvm_git_clean_repo()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="444">
          
          
          <code class="ruby">  git checkout -f master</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="445">
          
          
          <code class="ruby">  git reset --hard HEAD</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="446">
          
          
          <code class="ruby">  \rm -fr .git/rebase-apply</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="447">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">__rvm_fetch_from_github()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="451">
          
          
          <code class="ruby">  __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="453">
          
          
          <code class="ruby">    [[ -d &quot;${rvm_repos_path}/${rvm_ruby_interpreter}/.git&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="455">
          
          
          <code class="ruby">    typeset existing_uri</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">    existing_uri=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="457">
          
          
          <code class="ruby">      __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot; &gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="458">
          
          
          <code class="ruby">      git remote -v 2&gt;/dev/null | awk '/^origin.*fetch/ {print $2}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="459">
          
          
          <code class="ruby">    )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="461">
          
          
          <code class="ruby">      [[ &quot;$rvm_ruby_repo_url&quot; != &quot;$existing_uri&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="463">
          
          
          <code class="ruby">      \rm -rf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="466">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="468">
          
          
          <code class="ruby">    [[ ! -d &quot;${rvm_repos_path}/${rvm_ruby_interpreter}/.git&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="469">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="470">
          
          
          <code class="ruby">    if [[ -d &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="471">
          
          
          <code class="ruby">    then \rm -rf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="473">
          
          
          <code class="ruby">    __rvm_cd &quot;$rvm_home&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="475">
          
          
          <code class="ruby">      ! __rvm_log_command &quot;$1.repo&quot; &quot;Cloning $rvm_ruby_repo_url&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="476">
          
          
          <code class="ruby">        git clone --depth ${rvm_git_clone_depth:-1} &quot;$rvm_ruby_repo_url&quot; &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="478">
          
          
          <code class="ruby">      rvm_ruby_repo_http_url=&quot;${rvm_ruby_repo_url//git:/http:}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="479">
          
          
          <code class="ruby">      rvm_log &quot;Could not fetch $rvm_ruby_repo_url - trying $rvm_ruby_repo_http_url&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="481">
          
          
          <code class="ruby">      __rvm_log_command &quot;$1.repo&quot; &quot;Cloning $rvm_ruby_repo_http_url&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="482">
          
          
          <code class="ruby">        git clone --depth ${rvm_git_clone_depth:-1} &quot;$rvm_ruby_repo_http_url&quot; &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="483">
          
          
          <code class="ruby">        return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="485">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="486">
          
          
          <code class="ruby">    typeset branch</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="487">
          
          
          <code class="ruby">    branch=&quot;${rvm_ruby_repo_branch:-&quot;master&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="488">
          
          
          <code class="ruby">    __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="490">
          
          
          <code class="ruby">    __rvm_log_command &quot;$1.clean&quot; &quot;Cleaning git repo&quot; __rvm_git_clean_repo</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="491">
          
          
          <code class="ruby">    __rvm_log_command &quot;$1.fetch&quot; &quot;Fetching from origin&quot; git fetch origin</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">  (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="495">
          
          
          <code class="ruby">    remote=&quot;origin&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="496">
          
          
          <code class="ruby">    __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="499">
          
          
          <code class="ruby">      [[ -z &quot;$(git branch | awk &quot;/$rvm_ruby_repo_branch$/&quot;)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="501">
          
          
          <code class="ruby">      git checkout -b &quot;$rvm_ruby_repo_branch&quot; --track &quot;$remote/$rvm_ruby_repo_branch&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="502">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="503">
          
          
          <code class="ruby">       [[ -z &quot;$(git branch | awk &quot;/\* $rvm_ruby_repo_branch$/&quot;)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="504">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="505">
          
          
          <code class="ruby">      if ! git checkout $rvm_ruby_repo_branch 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="507">
          
          
          <code class="ruby">        rvm_error &quot;Branch $remote/$rvm_ruby_repo_branch not found.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="510">
          
          
          <code class="ruby">    __rvm_log_command &quot;$1.pull&quot; &quot;Pulling from origin $branch&quot; git pull origin $branch</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="511">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="513">
          
          
          <code class="ruby">  __rvm_fetch_from_git_revision_or_sha || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="515">
          
          
          <code class="ruby">  if [[ -n &quot;${rvm_ruby_string}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="516">
          
          
          <code class="ruby">  then __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="519">
          
          
          <code class="ruby">  __rvm_log_command &quot;$1.copy&quot; &quot;Copying from repo to source...&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="520">
          
          
          <code class="ruby">    \cp -Rf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}/&quot; &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="522">
          
          
          <code class="ruby">    [[ -f &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.git  ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="524">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.git</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="525">
          
          
          <code class="ruby">    ln -sf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;/.git &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.git</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="526">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="527">
          
          
          <code class="ruby">    [[ -f &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.svn  ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="529">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.svn</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="530">
          
          
          <code class="ruby">    ln -sf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;/.svn &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.svn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="532">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="533">
          
          
          <code class="ruby">  __rvm_cd &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="534">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="536">
          
          
          <code class="ruby">__rvm_fetch_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="538">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset _current_command</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">  if (( ${rvm_ruby_selected_flag:=0} == 0 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="541">
          
          
          <code class="ruby">  then __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="542">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="543">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="545">
          <span class="hits">1</span>
          
          <code class="ruby">    (( ${rvm_head_flag:=0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="546">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -z &quot;${rvm_ruby_tag:-}&quot; &amp;&amp; -z &quot;${rvm_ruby_revision:-}&quot; &amp;&amp; -z &quot;${rvm_ruby_sha:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="548">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_ruby_package_name=&quot;${rvm_ruby_package_name:-&quot;$rvm_ruby_string&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="549">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_ruby_package_file=&quot;${rvm_ruby_package_file:-&quot;$rvm_ruby_package_name&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="551">
          <span class="hits">1</span>
          
          <code class="ruby">    case &quot;$rvm_ruby_string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="552">
          
          
          <code class="ruby">      (ruby-1.8.4*) rvm_archive_extension=&quot;${rvm_archive_extension:-tar.gz}&quot;  ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="553">
          <span class="hits">1</span>
          
          <code class="ruby">      (ruby-*)      rvm_archive_extension=&quot;${rvm_archive_extension:-tar.bz2}&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="554">
          
          
          <code class="ruby">      (*)           rvm_archive_extension=&quot;${rvm_archive_extension:-tar.gz}&quot;  ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="556">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="557">
          <span class="hits">2</span>
          
          <code class="ruby">    case &quot;$rvm_ruby_interpreter&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="558">
          
          
          <code class="ruby">      (ruby)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="559">
          <span class="hits">2</span>
          
          <code class="ruby">        rvm_ruby_url=&quot;$(__rvm_db &quot;${rvm_ruby_interpreter}_${rvm_ruby_release_version}.${rvm_ruby_major_version}_url&quot;)/$rvm_ruby_package_file.$rvm_archive_extension&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="561">
          
          
          <code class="ruby">      (ree)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="562">
          
          
          <code class="ruby">        rvm_ruby_url=&quot;$(__rvm_db &quot;${rvm_ruby_interpreter}_${rvm_ruby_version}_url&quot;)/${rvm_ruby_package_file}.${rvm_archive_extension}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="564">
          
          
          <code class="ruby">      (jruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="565">
          
          
          <code class="ruby">        rvm_error &quot;Trying to compile jruby from binary package - this is a bug, please report to RVM.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="566">
          
          
          <code class="ruby">        return 198</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="567">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="568">
          
          
          <code class="ruby">      (maglev)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="569">
          
          
          <code class="ruby">        true # Should already be set from selector</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="570">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="571">
          
          
          <code class="ruby">      (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="572">
          
          
          <code class="ruby">        rvm_ruby_url=&quot;$(__rvm_db &quot;${rvm_ruby_interpreter}_url&quot;)/${rvm_ruby_package_file}.${rvm_archive_extension}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="574">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="576">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;$rvm_ruby_string - #downloading ${rvm_ruby_package_file}, this may take a while depending on your connection...&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="577">
          <span class="hits">1</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/fetch&quot; &quot;${rvm_ruby_url}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="578">
          
          
          <code class="ruby">      return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">    # Remove the directory if it is empty -- empty how?</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="581">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -d &quot;${rvm_src_path}/$rvm_ruby_string&quot; ]] &amp;&amp; rmdir &quot;${rvm_src_path}/$rvm_ruby_string&quot; 2&gt;/dev/null || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="583">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="584">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ ! -d &quot;${rvm_src_path}/$rvm_ruby_string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="586">
          <span class="hits">1</span>
          
          <code class="ruby">      mkdir -p &quot;${rvm_tmp_path:-/tmp}/rvm_src_$$&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="588">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_log_command &quot;extract&quot; &quot;$rvm_ruby_string - #extracting $rvm_ruby_package_file to ${rvm_src_path}/$rvm_ruby_string&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="589">
          
          
          <code class="ruby">        __rvm_package_extract &quot;${rvm_archives_path}/$rvm_ruby_package_file.$rvm_archive_extension&quot; &quot;${rvm_tmp_path:-/tmp}/rvm_src_$$&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="590">
          
          
          <code class="ruby">      case $? in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="591">
          
          
          <code class="ruby">        199)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="592">
          
          
          <code class="ruby">          rvm_error &quot;\nUnrecognized archive format '$archive_format'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="593">
          
          
          <code class="ruby">          return 199</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="595">
          
          
          <code class="ruby">        *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="596">
          
          
          <code class="ruby">          rvm_error &quot;There has been an error while trying to extract the source. Halting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="597">
          
          
          <code class="ruby">          return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="601">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="602">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="603">
          
          
          <code class="ruby">      \mv &quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="604">
          
          
          <code class="ruby">        find ${rvm_tmp_path:-/tmp}/rvm_src_$$ -mindepth 1 -maxdepth 1 -type d</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="605">
          <span class="hits">1</span>
          
          <code class="ruby">      )&quot; &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="606">
          <span class="hits">1</span>
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="607">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_rm_rf &quot;${rvm_tmp_path:-/tmp}/rvm_src_$$&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="608">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="609">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="610">
          <span class="hits">1</span>
          
          <code class="ruby">        [[ -n &quot;${rvm_ruby_name:-&quot;&quot;}&quot; &amp;&amp; -d &quot;${rvm_src_path}/$(echo $rvm_ruby_string | sed -e 's/-n.*//')&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="612">
          
          
          <code class="ruby">        \mv &quot;${rvm_src_path}/$(echo &quot;$rvm_ruby_string&quot; | sed -e 's/-n.*//')&quot; &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="614">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_log &quot;$rvm_ruby_string - #extracted to ${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="616">
          
          
          <code class="ruby">      rvm_log &quot;$rvm_ruby_string - #extracted to ${rvm_src_path}/$rvm_ruby_string (already extracted)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="619">
          <span class="hits">1</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="620">
          
          
          <code class="ruby">  else # -head</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="621">
          
          
          <code class="ruby">    mkdir -p &quot;${rvm_repos_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="622">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="623">
          
          
          <code class="ruby">    true ${rvm_ruby_url:=&quot;$rvm_ruby_repo_url&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="626">
          
          
          <code class="ruby">      echo &quot;$rvm_ruby_url&quot; | GREP_OPTIONS=&quot;&quot; \grep 'git' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="627">
          
          
          <code class="ruby">    then # Using a  git url.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="628">
          
          
          <code class="ruby">      case &quot;$rvm_ruby_interpreter&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="629">
          
          
          <code class="ruby">        ruby)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby">          # Determine Branch</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="631">
          
          
          <code class="ruby">          if [[ -z &quot;${rvm_ruby_repo_branch:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="632">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="633">
          
          
          <code class="ruby">            if [[ -n &quot;${rvm_ruby_major_version:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby">            then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="635">
          
          
          <code class="ruby">              if [[ -n &quot;${rvm_ruby_minor_version:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">              then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="637">
          
          
          <code class="ruby">                rvm_ruby_repo_branch=&quot;ruby_${rvm_ruby_release_version:-1}_${rvm_ruby_major_version}_${rvm_ruby_minor_version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby">              else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="639">
          
          
          <code class="ruby">                rvm_ruby_repo_branch=&quot;ruby_${rvm_ruby_release_version:-1}_${rvm_ruby_major_version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby">              fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">            else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="642">
          
          
          <code class="ruby">              rvm_ruby_repo_branch=&quot;trunk&quot; # NOTE: Ruby Core team maps 'trunk' as HEAD</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">            fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="644">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="647">
          
          
          <code class="ruby">        ree|jruby|maglev|*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="648">
          
          
          <code class="ruby">          rvm_ruby_repo_branch=&quot;${rvm_ruby_repo_branch:-&quot;master&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="650">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="653">
          
          
          <code class="ruby">      # Clone if repository does not yet exist locally</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="654">
          
          
          <code class="ruby">      if [[ ! -d &quot;${rvm_repos_path}/${rvm_ruby_interpreter}/.git&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="656">
          
          
          <code class="ruby">        __rvm_rm_rf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="657">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="658">
          
          
          <code class="ruby">        rvm_ruby_repo_http_url=&quot;${rvm_ruby_repo_url//git:/https:}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="659">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="660">
          
          
          <code class="ruby">        typeset git_clone_options</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="661">
          
          
          <code class="ruby">        git_clone_options=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby">        # do not use '--depth 1' be default, we need to allow getting different commits</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="663">
          
          
          <code class="ruby">        if [[ -n &quot;${rvm_git_clone_depth:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="664">
          
          
          <code class="ruby">        then git_clone_options+=( --depth ${rvm_git_clone_depth} )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="665">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="666">
          
          
          <code class="ruby">        __rvm_log_command &quot;git.clone.git&quot;  &quot;Cloning from $rvm_ruby_repo_url, this may take a while depending on your connection...&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="667">
          
          
          <code class="ruby">          git clone &quot;${git_clone_options[@]}&quot; &quot;$rvm_ruby_repo_url&quot;      &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="668">
          
          
          <code class="ruby">        __rvm_log_command &quot;git.clone.http&quot; &quot;Cloning from $rvm_ruby_repo_http_url, this may take a while depending on your connection...&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="669">
          
          
          <code class="ruby">          git clone &quot;${git_clone_options[@]}&quot; &quot;$rvm_ruby_repo_http_url&quot; &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="670">
          
          
          <code class="ruby">        return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="671">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="672">
          
          
          <code class="ruby">        (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="673">
          
          
          <code class="ruby">          __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="674">
          
          
          <code class="ruby">          typeset current_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="675">
          
          
          <code class="ruby">          current_url=&quot;$(git remote -v | awk '$1==&quot;origin&quot; &amp;&amp; $3==&quot;(fetch)&quot; {print $2}')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="676">
          
          
          <code class="ruby">          [[ &quot;$current_url&quot; == &quot;$rvm_ruby_repo_url&quot; ]] || git remote set-url origin &quot;$rvm_ruby_repo_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="677">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="680">
          
          
          <code class="ruby">      # Use the selected branch.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="681">
          
          
          <code class="ruby">      (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="682">
          
          
          <code class="ruby">        __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="684">
          
          
          <code class="ruby">        remote=&quot;${remote:-origin}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="685">
          
          
          <code class="ruby">        branch=$(git symbolic-ref -q HEAD 2&gt;/dev/null)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="686">
          
          
          <code class="ruby">        branch=${branch##refs/heads/}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="688">
          
          
          <code class="ruby">        git reset --hard HEAD # Ensure we are in a good state.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="689">
          
          
          <code class="ruby">        git fetch &quot;${remote}&quot; # Download the latest updates locally.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="690">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="691">
          
          
          <code class="ruby">          [[ &quot;$branch&quot; == &quot;${rvm_ruby_repo_branch}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="693">
          
          
          <code class="ruby">          git pull &quot;${remote}&quot; &quot;${rvm_ruby_repo_branch}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="695">
          
          
          <code class="ruby">          case &quot;$(git branch 2&gt;/dev/null)&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="696">
          
          
          <code class="ruby">            (*[[:space:]]${rvm_ruby_repo_branch}*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby">              # Not already on the desired branch, but it does exist locally.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="698">
          
          
          <code class="ruby">              git checkout -f &quot;${rvm_ruby_repo_branch}&quot; # Branch is local, checkout</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="699">
          
          
          <code class="ruby">              git pull &quot;$remote&quot; &quot;${rvm_ruby_repo_branch}&quot; # Bring local to latest</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">              ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="701">
          
          
          <code class="ruby">            (*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">              # Desired branch does not exist locally.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="703">
          
          
          <code class="ruby">              if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="704">
          
          
          <code class="ruby">                git checkout -f -t &quot;${remote}/${rvm_ruby_repo_branch}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">              then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="706">
          
          
          <code class="ruby">                true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">              else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="708">
          
          
          <code class="ruby">                result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="709">
          
          
          <code class="ruby">                rvm_error &quot;Branch $remote/$rvm_ruby_repo_branch not found.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="710">
          
          
          <code class="ruby">                return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby">              fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby">              ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="713">
          
          
          <code class="ruby">          esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="715">
          
          
          <code class="ruby">        [[ -z &quot;${rvm_ruby_tag:-}&quot; ]] || git checkout -f -q ${rvm_ruby_tag#t} || return $?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="716">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="717">
          
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="718">
          
          
          <code class="ruby">      if (( result &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="720">
          
          
          <code class="ruby">        rvm_error &quot;There has been an error while checking out branch ${rvm_ruby_repo_branch}.  \nHalting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="721">
          
          
          <code class="ruby">        return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="723">
          
          
          <code class="ruby">      __rvm_fetch_from_git_revision_or_sha || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="726">
          
          
          <code class="ruby">        [[ -n &quot;${rvm_ruby_tag:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">        # TODO: Check if tag v is valid</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="729">
          
          
          <code class="ruby">        true &quot;${rvm_ruby_url:=&quot;$rvm_ruby_repo_url/tags/$(echo &quot;$rvm_ruby_tag&quot; | sed 's/^t//')&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="730">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="731">
          
          
          <code class="ruby">        [[ -z &quot;${rvm_ruby_version:-&quot;&quot;}&quot; &amp;&amp; ${rvm_head_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="733">
          
          
          <code class="ruby">        true &quot;${rvm_ruby_url:=&quot;$rvm_ruby_repo_url/trunk&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="734">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="735">
          
          
          <code class="ruby">        [[  &quot;${rvm_ruby_major_version:-&quot;&quot;}&quot; == &quot;9&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="738">
          
          
          <code class="ruby">          [[ -z &quot;${rvm_ruby_minor_version:-&quot;&quot;}&quot; || &quot;${rvm_ruby_minor_version:-&quot;&quot;}&quot; = 3 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="740">
          
          
          <code class="ruby">          true &quot;${rvm_ruby_url:=&quot;$rvm_ruby_repo_url/trunk&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="742">
          
          
          <code class="ruby">          true &quot;${rvm_ruby_url:=&quot;$rvm_ruby_repo_url/branches/ruby_${rvm_ruby_release_version}_${rvm_ruby_major_version}_${rvm_ruby_minor_version}&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="743">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="744">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="745">
          
          
          <code class="ruby">        [[ -z &quot;${rvm_ruby_minor_version:-&quot;&quot;}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="746">
          
          
          <code class="ruby">          &quot;${rvm_ruby_major_version:-&quot;&quot;}.${rvm_ruby_minor_version:-&quot;&quot;}&quot; = &quot;8.8&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="747">
          
          
          <code class="ruby">        ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="748">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="749">
          
          
          <code class="ruby">        true &quot;${rvm_ruby_url:=&quot;$rvm_ruby_repo_url/branches/ruby_${rvm_ruby_release_version}_${rvm_ruby_major_version}&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="751">
          
          
          <code class="ruby">        &quot;${rvm_ruby_url:=&quot;$rvm_ruby_repo_url/branches/ruby_${rvm_ruby_release_version}_${rvm_ruby_major_version}_${rvm_ruby_minor_version}&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="754">
          
          
          <code class="ruby">      rvm_rev=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="756">
          
          
          <code class="ruby">        [[ -n &quot;${rvm_ruby_revision:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="757">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="758">
          
          
          <code class="ruby">        rvm_rev=&quot;-$rvm_ruby_revision&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="759">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">      (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="761">
          
          
          <code class="ruby">        __rvm_cd &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="762">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="763">
          
          
          <code class="ruby">          [[ -d &quot;${rvm_repos_path}/${rvm_ruby_interpreter}/.svn&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="764">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="765">
          
          
          <code class="ruby">          rvm_log &quot;Updating ruby from $rvm_ruby_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="766">
          
          
          <code class="ruby">          __rvm_run &quot;svn.switch&quot; &quot;svn switch $rvm_ruby_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="767">
          
          
          <code class="ruby">          __rvm_run &quot;svn.update&quot; &quot;svn update&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="768">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="769">
          
          
          <code class="ruby">          if [[ -n &quot;${rvm_rev:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="771">
          
          
          <code class="ruby">            __rvm_log_command &quot;svn.checkout&quot; &quot;Checking out revision ${rvm_rev/-r/-r } from $rvm_ruby_url&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="772">
          
          
          <code class="ruby">              svn update -q ${rvm_rev/-r/-r }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="774">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="775">
          
          
          <code class="ruby">          __rvm_rm_rf &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="776">
          
          
          <code class="ruby">          __rvm_log_command &quot;svn.checkout&quot; &quot;Downloading source from ${rvm_ruby_url}.&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="777">
          
          
          <code class="ruby">            svn checkout -q ${rvm_rev/-r/-r } &quot;$rvm_ruby_url&quot; &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="779">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="780">
          
          
          <code class="ruby">      result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="781">
          
          
          <code class="ruby">      if (( result &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="783">
          
          
          <code class="ruby">        rvm_error &quot;There has been an error while trying to fetch / update the source.  \nHalting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="784">
          
          
          <code class="ruby">        return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="786">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="787">
          
          
          <code class="ruby">    rvm_log &quot;Copying from repo to src path...&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="788">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="789">
          
          
          <code class="ruby">    \cp -R &quot;${rvm_repos_path}/${rvm_ruby_interpreter}&quot; &quot;${rvm_src_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="790">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.git</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="791">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;${rvm_src_path}/$rvm_ruby_string&quot;/.svn</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="793">
          
          
          <code class="ruby">  return ${result:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="795">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">__rvm_check_default()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="797">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="798">
          
          
          <code class="ruby">  typeset default_ruby_interpreter current_ruby_interpreter</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="799">
          
          
          <code class="ruby">  default_ruby_interpreter=&quot;$( rvm alias show default 2&gt;/dev/null )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="800">
          
          
          <code class="ruby">  default_ruby_interpreter=&quot;${default_ruby_interpreter%%${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="801">
          
          
          <code class="ruby">  current_ruby_interpreter=&quot;${rvm_ruby_string%%${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="802">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="803">
          
          
          <code class="ruby">    [[ -n &quot;$current_ruby_interpreter&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="804">
          
          
          <code class="ruby">    [[ &quot;$current_ruby_interpreter&quot; == &quot;$default_ruby_interpreter&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="806">
          
          
          <code class="ruby">    __rvm_log_command 'default.restore' 'Removing default ruby interpreter' \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="807">
          
          
          <code class="ruby">      rvm use system --default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">__rvm_uninstall_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="812">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="813">
          
          
          <code class="ruby">  __rvm_remove_ruby uninstall</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="814">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="815">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">__rvm_remove_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="818">
          <span class="hits">6</span>
          
          <code class="ruby">  (( ${rvm_ruby_selected_flag:=0} )) || __rvm_select</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="819">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_ruby_string:-}&quot;    ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="820">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="821">
          
          
          <code class="ruby">    rvm_error &quot;Cannot ${1:-remove} unknown package '$rvm_ruby_string'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="822">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="825">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset _dir</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="826">
          <span class="hits">6</span>
          
          <code class="ruby">  for _dir in &quot;${rvm_src_path}&quot; &quot;${rvm_rubies_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="828">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="829">
          <span class="hits">6</span>
          
          <code class="ruby">      [[ -d &quot;${_dir}/$rvm_ruby_string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="831">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_log_command &quot;remove.${_dir##*/}&quot; &quot;Removing ${_dir}/$rvm_ruby_string...&quot; __rvm_rm_rf &quot;${_dir}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="832">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="833">
          <span class="hits">3</span>
          
          <code class="ruby">      rvm_log &quot;${_dir}/$rvm_ruby_string has already been removed.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="836">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="838">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -e &quot;${rvm_bin_path}/$rvm_ruby_string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="839">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="840">
          <span class="hits">2</span>
          
          <code class="ruby">    \rm -f &quot;${rvm_bin_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="841">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="842">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="843">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -d &quot;${rvm_externals_path}/$rvm_ruby_string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="845">
          
          
          <code class="ruby">    __rvm_log_command &quot;remove.external&quot; &quot;Removing ${rvm_externals_path}/$rvm_ruby_string...&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="846">
          
          
          <code class="ruby">      __rvm_rm_rf &quot;${rvm_externals_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="849">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_remove_install_record &quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="850">
          <span class="hits">3</span>
          
          <code class="ruby">  case &quot;${1:-remove}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="851">
          
          
          <code class="ruby">    (remove)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="852">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_remove_gemsets</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="853">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_remove_archives</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="854">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_remove_aliases</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="855">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_remove_wrappers</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="856">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_remove_environments</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="857">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_remove_binaries</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="858">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="859">
          
          
          <code class="ruby">    (uninstall)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="860">
          
          
          <code class="ruby">      __rvm_remove_gemsets</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="861">
          
          
          <code class="ruby">      __rvm_check_default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="863">
          
          
          <code class="ruby">    (reinstall)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="864">
          
          
          <code class="ruby">      true # nothing more to do here!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="866">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="867">
          <span class="hits">3</span>
          
          <code class="ruby">  unset rvm_remove_flag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby">__rvm_reinstall_ruby()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="872">
          
          
          <code class="ruby">  __rvm_remove_ruby reinstall &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="873">
          
          
          <code class="ruby">  __rvm_install_ruby &quot;$@&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="874">
          
          
          <code class="ruby">  __rvm_gemset_pristine_all &quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="876">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="877">
          
          
          <code class="ruby">__rvm_gemset_pristine_all()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="879">
          
          
          <code class="ruby">  typeset destination_gemset</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="880">
          
          
          <code class="ruby">  while read -r destination_gemset</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="881">
          
          
          <code class="ruby">  do __rvm_gemset_pristine &quot;$destination_gemset&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="882">
          
          
          <code class="ruby">  done &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="883">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/list&quot; gemsets strings | GREP_OPTIONS=&quot;&quot; \grep -E &quot;^$1(@.*)?$&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="884">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="886">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby">__rvm_remove_gemsets()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="889">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset gemset gemsets</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="890">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="891">
          <span class="hits">3</span>
          
          <code class="ruby">    (( ${rvm_gems_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="892">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="893">
          <span class="hits">3</span>
          
          <code class="ruby">    rvm_log &quot;Removing $rvm_ruby_string gemsets...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="894">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="895">
          <span class="hits">6</span>
          
          <code class="ruby">    gemsets=( $(find -L &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot; -maxdepth 1 &quot;${name_opt}&quot; &quot;${rvm_ruby_string}*&quot; -type d))</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="896">
          <span class="hits">5</span>
          
          <code class="ruby">    for gemset in &quot;${gemsets[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="897">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="898">
          <span class="hits">5</span>
          
          <code class="ruby">      if [[ -d &quot;$gemset&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="899">
          <span class="hits">5</span>
          
          <code class="ruby">      then __rvm_rm_rf &quot;$gemset&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="900">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="901">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="902">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="903">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="904">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="905">
          
          
          <code class="ruby">__rvm_remove_wrappers()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="907">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_log &quot;Removing $rvm_ruby_string wrappers...&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="908">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset -a wrappers</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="909">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset wrapper</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="910">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="911">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_read_lines wrappers &lt;(</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="912">
          <span class="hits">3</span>
          
          <code class="ruby">    find &quot;$rvm_wrappers_path&quot; -maxdepth 1 -mindepth 1 -type d &quot;${name_opt}&quot; &quot;*$rvm_ruby_string*&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="913">
          <span class="hits">3</span>
          
          <code class="ruby">    find &quot;$rvm_bin_path&quot; -maxdepth 1 -mindepth 1 &quot;${name_opt}&quot; &quot;*-$rvm_ruby_string&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="914">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="915">
          <span class="hits">19</span>
          
          <code class="ruby">  for wrapper in &quot;${wrappers[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="916">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="917">
          <span class="hits">19</span>
          
          <code class="ruby">    __rvm_rm_rf &quot;$wrapper&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="918">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="919">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="920">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="921">
          
          
          <code class="ruby">__rvm_remove_environments()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="922">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="923">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_log &quot;Removing $rvm_ruby_string environments...&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="924">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset environments environment</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="925">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="926">
          <span class="hits">6</span>
          
          <code class="ruby">  environments=($(find &quot;$rvm_environments_path&quot; -maxdepth 1 -mindepth 1 -type f &quot;${name_opt}&quot; &quot;*$rvm_ruby_string*&quot; ))</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="927">
          <span class="hits">6</span>
          
          <code class="ruby">  for environment in &quot;${environments[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="928">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="929">
          <span class="hits">6</span>
          
          <code class="ruby">    if [[ -e &quot;$environment&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="930">
          <span class="hits">6</span>
          
          <code class="ruby">    then __rvm_rm_rf &quot;$environment&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="931">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="932">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="933">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="934">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="935">
          
          
          <code class="ruby">__rvm_remove_aliases()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="936">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="937">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_log &quot;Removing $rvm_ruby_string aliases...&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="938">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset alias_name aliases</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="939">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="940">
          <span class="hits">9</span>
          
          <code class="ruby">  aliases=($(awk '/'$rvm_ruby_string'/' &quot;$rvm_path/config/alias&quot; | sed 's/=.*//'))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="941">
          
          
          <code class="ruby">  for alias_name in &quot;${aliases[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="942">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="943">
          
          
          <code class="ruby">    # Remove from alias key-value store</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="944">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/alias&quot; delete &quot;$alias_name&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="945">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="947">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="948">
          
          
          <code class="ruby">__rvm_remove_archives()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="949">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="950">
          <span class="hits">3</span>
          
          <code class="ruby">  if (( ${rvm_archive_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="951">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="952">
          
          
          <code class="ruby">    rvm_log &quot;Removing $rvm_ruby_string archives...&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="953">
          
          
          <code class="ruby">    \rm -f ${rvm_archives_path}/${rvm_ruby_package_file}.*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="954">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="955">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="956">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="957">
          
          
          <code class="ruby"># Iterate over all binaries and check for symlinked wrappers etc.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="958">
          
          
          <code class="ruby">__rvm_remove_binaries()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="959">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="960">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_log &quot;Removing $rvm_ruby_string binaries...&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="961">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset full_binary_path linked_binary_path</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="962">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset -a binaries</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="964">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_read_lines binaries &lt;(</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="965">
          <span class="hits">3</span>
          
          <code class="ruby">    find &quot;${rvm_bin_path:-$rvm_path/bin}&quot; -maxdepth 1 -mindepth 1 &quot;${name_opt}&quot; &quot;*$rvm_ruby_string&quot; -or &quot;${name_opt}&quot; &quot;*$rvm_ruby_string@*&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="966">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="967">
          <span class="hits">24</span>
          
          <code class="ruby">  for full_binary_path in &quot;${binaries[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="968">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="969">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="970">
          <span class="hits">24</span>
          
          <code class="ruby">      [[ -L &quot;$full_binary_path&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="48" data-linenumber="971">
          <span class="hits">48</span>
          
          <code class="ruby">      __rvm_string_match &quot;$(readlink &quot;$full_binary_path&quot;)&quot; &quot;*$rvm_ruby_string/*&quot; &quot;*$rvm_ruby_string@*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="972">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="973">
          <span class="hits">24</span>
          
          <code class="ruby">      \rm -f &quot;$full_binary_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="974">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="975">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="976">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="977">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="978">
          
          
          <code class="ruby">__rvm_post_install()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="979">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="980">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$rvm_ruby_interpreter&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="981">
          
          
          <code class="ruby">  (jruby|ree|rbx|mruby) true ;; #skip</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="982">
          
          
          <code class="ruby">  (*)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="983">
          <span class="hits">2</span>
          
          <code class="ruby">    (( ${#binaries[@]} )) || binaries=(gem irb erb ri rdoc testrb rake)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="986">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="987">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="988">
          <span class="hits">1</span>
          
          <code class="ruby">    (( ${#binaries[@]} ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="989">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="990">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;$rvm_ruby_string - #adjusting #shebangs for (${binaries[@]}).&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="991">
          <span class="hits">7</span>
          
          <code class="ruby">    for binary in &quot;${binaries[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="992">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="994">
          <span class="hits">8</span>
          
          <code class="ruby">        [[ -e &quot;$rvm_ruby_home/bin/$binary&quot; || -e &quot;${rvm_src_path}/$rvm_ruby_string/bin/$binary&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="995">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="996">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="997">
          <span class="hits">6</span>
          
          <code class="ruby">          [[ &quot;${rvm_src_path}/$rvm_ruby_string&quot; != &quot;$rvm_ruby_home&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="998">
          <span class="hits">11</span>
          
          <code class="ruby">          [[ -f &quot;${rvm_src_path}/$rvm_ruby_string/bin/$binary&quot; &amp;&amp; ! -L &quot;$rvm_ruby_home/bin/$binary&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="999">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="1000">
          <span class="hits">5</span>
          
          <code class="ruby">          \cp -f &quot;${rvm_src_path}/$rvm_ruby_string/bin/$binary&quot; &quot;$rvm_ruby_home/bin/$binary&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1001">
          
          
          <code class="ruby">        elif</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1002">
          <span class="hits">1</span>
          
          <code class="ruby">          [[ -f &quot;$rvm_ruby_gem_home/bin/$binary&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1003">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1004">
          
          
          <code class="ruby">          \cp -f &quot;$rvm_ruby_gem_home/bin/$binary&quot; &quot;$rvm_ruby_home/bin/$binary&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1006">
          <span class="hits">6</span>
          
          <code class="ruby">        __rvm_inject_gem_env &quot;$rvm_ruby_home/bin/$binary&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1007">
          <span class="hits">6</span>
          
          <code class="ruby">        __rvm_inject_ruby_shebang &quot;$rvm_ruby_home/bin/$binary&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1008">
          <span class="hits">6</span>
          
          <code class="ruby">        chmod +x &quot;$rvm_ruby_home/bin/$binary&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1010">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1011">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1012">
          <span class="hits">1</span>
          
          <code class="ruby">  binaries=(gem irb erb ri rdoc testrb rake) #reset</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1013">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_gemsets_initial</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1014">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_irbrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1015">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1016">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1017">
          
          
          <code class="ruby">__rvm_inject_ruby_shebang()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1018">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1019">
          <span class="hits">6</span>
          
          <code class="ruby">  typeset actual_file</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1020">
          <span class="hits">6</span>
          
          <code class="ruby">  __rvm_actual_file $1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1021">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1022">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -f &quot;$actual_file&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1024">
          <span class="hits">6</span>
          
          <code class="ruby">    __rvm_sed_i &quot;${actual_file}&quot; -e '1,1s=.*=#!'&quot;/usr/bin/env ruby=&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1025">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -x &quot;$actual_file&quot; ]] || chmod +x &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1026">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1027">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1028">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1029">
          
          
          <code class="ruby">__rvm_inject_gem_env()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1030">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1031">
          <span class="hits">6</span>
          
          <code class="ruby">  typeset actual_file string</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1032">
          <span class="hits">6</span>
          
          <code class="ruby">  __rvm_actual_file $1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1033">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1034">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -s &quot;$actual_file&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1035">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1036">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="1037">
          <span class="hits">18</span>
          
          <code class="ruby">      [[ -n &quot;$(head -n 1 &quot;$actual_file&quot; | awk '/[j]*ruby/')&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1038">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1039">
          <span class="hits">6</span>
          
          <code class="ruby">      string=&quot;ENV['GEM_HOME']=ENV['GEM_HOME'] || '$rvm_ruby_gem_home'\nENV['GEM_PATH']=ENV['GEM_PATH'] || '$rvm_ruby_gem_path'\nENV['PATH']='$rvm_ruby_gem_home/bin:$rvm_ruby_global_gems_path/bin:$rvm_ruby_home/bin:' + ENV['PATH']\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1040">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1041">
          
          
          <code class="ruby">      [[ -n &quot;$(head -n 1 &quot;$actual_file&quot; | awk '/bash/')&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1042">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1043">
          
          
          <code class="ruby">      string=&quot;GEM_HOME=\${GEM_HOME:-'$rvm_ruby_gem_home'}\nGEM_PATH=\${GEM_PATH:-'$rvm_ruby_gem_home:$rvm_ruby_global_gems_path'}\nPATH=$rvm_ruby_gem_home/bin:$rvm_ruby_global_gems_path/bin:$rvm_ruby_home/bin:\$PATH\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1044">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1046">
          <span class="hits">6</span>
          
          <code class="ruby">      [[ -n &quot;$string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1047">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1048">
          <span class="hits">6</span>
          
          <code class="ruby">      awk &quot;NR==2 {print \&quot;$string\&quot;} {print}&quot; &quot;$actual_file&quot; &gt; &quot;$actual_file.new&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1049">
          <span class="hits">6</span>
          
          <code class="ruby">      \mv -f $actual_file.new $actual_file</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1050">
          <span class="hits">12</span>
          
          <code class="ruby">      [[ -x &quot;$actual_file&quot; ]] || chmod +x &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1051">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1052">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1053">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1054">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1055">
          
          
          <code class="ruby">__rvm_actual_file()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1056">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1057">
          <span class="hits">12</span>
          
          <code class="ruby">  if [[ -L &quot;$1&quot; ]]                  # If the file is a symlink,</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1058">
          
          
          <code class="ruby">  then actual_file=&quot;$(readlink $1)&quot; # read the link target so we can preserve it.</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="1059">
          <span class="hits">12</span>
          
          <code class="ruby">  else actual_file=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1060">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1061">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1062">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1063">
          
          
          <code class="ruby">__rvm_manage_rubies()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1064">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1065">
          <span class="hits">4</span>
          
          <code class="ruby">  typeset manage_result bin_line current_ruby_string</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1066">
          <span class="hits">4</span>
          
          <code class="ruby">  typeset -a rubies</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1067">
          <span class="hits">4</span>
          
          <code class="ruby">  rubies=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1068">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1069">
          <span class="hits">4</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1070">
          <span class="hits">4</span>
          
          <code class="ruby">  rvm_ruby_selected_flag=0</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1071">
          <span class="hits">4</span>
          
          <code class="ruby">  rvm_ruby_gem_home=&quot;${rvm_ruby_gem_home:-&quot;&quot;//${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1072">
          <span class="hits">4</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${rvm_ruby_string:-&quot;&quot;//${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1073">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1074">
          
          
          <code class="ruby">  # Given list of ruby strings.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1075">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1076">
          <span class="hits">4</span>
          
          <code class="ruby">    __rvm_string_match &quot;${rubies_string:-}&quot; &quot;old:*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1077">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1078">
          
          
          <code class="ruby">    typeset _older_then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1079">
          
          
          <code class="ruby">    _older_then=${rubies_string#old:}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1080">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1081">
          
          
          <code class="ruby">      [[ -z &quot;${_older_then}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1082">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1083">
          
          
          <code class="ruby">      # minified https://github.com/mpapis/home_dotfiles/blob/master/bin/git-summary#L5-L50</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1084">
          
          
          <code class="ruby">      case &quot;$(uname)&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1085">
          
          
          <code class="ruby">        (Darwin) _older_then=&quot;$( date -j -v6m           +%F )&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1086">
          
          
          <code class="ruby">        (*)      _older_then=&quot;$( date --date=&quot;-6months&quot; +%F )&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1087">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1088">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1089">
          
          
          <code class="ruby">    __rvm_read_lines rubies &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1090">
          
          
          <code class="ruby">      __rvm_cd &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1091">
          
          
          <code class="ruby">      find . -maxdepth 1 -mindepth 1 -type d -not -newermt $_older_then 2&gt;/dev/null | cut -c 3-</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1092">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1093">
          
          
          <code class="ruby">    (( ${#rubies[*]} )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1094">
          
          
          <code class="ruby">    {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1095">
          
          
          <code class="ruby">      rvm_warn &quot;No rubies older then ${_older_then}.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1096">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1097">
          
          
          <code class="ruby">    }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1098">
          
          
          <code class="ruby">    __rvm_ask_for &quot;Are you SURE you wish to '$action' ${rubies[*]}?&quot; yes || return $?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1099">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="1100">
          <span class="hits">8</span>
          
          <code class="ruby">    [[ -n &quot;${rubies_string:-}&quot; &amp;&amp; &quot;${rubies_string}&quot; != &quot;all&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1101">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1102">
          <span class="hits">4</span>
          
          <code class="ruby">    __rvm_custom_separated_array rubies , &quot;${rubies_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1103">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1104">
          
          
          <code class="ruby">    [[ &quot;$action&quot; == &quot;install&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1105">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1106">
          
          
          <code class="ruby">    rvm_error 'Really? '&quot;$action&quot;', all? See &quot;rvm list known&quot; and limit the selection to something more sane please :)'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1107">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1108">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1109">
          
          
          <code class="ruby">    [[ -z &quot;${rubies_string}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1110">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1111">
          
          
          <code class="ruby">    rvm_error 'Really? '&quot;$action&quot;', all? See &quot;rvm list&quot; and limit the selection to something more sane please :)'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1112">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1113">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1114">
          
          
          <code class="ruby">    # explicit all &amp;&amp; not install</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1115">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1116">
          
          
          <code class="ruby">      (( ${rvm_force_flag:-0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1117">
          
          
          <code class="ruby">      [[ &quot;$action&quot; == &quot;reinstall&quot; || &quot;$action&quot; == &quot;remove&quot; || &quot;$action&quot; == &quot;uninstall&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1118">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1119">
          
          
          <code class="ruby">      __rvm_ask_for &quot;Are you SURE you wish to '$action' all rubies?&quot; yes || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1120">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1121">
          
          
          <code class="ruby">    __rvm_read_lines rubies &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1122">
          
          
          <code class="ruby">      __rvm_cd &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1123">
          
          
          <code class="ruby">      find . -maxdepth 1 -mindepth 1 -type d 2&gt;/dev/null | cut -c 3-</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1124">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1125">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1127">
          <span class="hits">4</span>
          
          <code class="ruby">  for rvm_ruby_string in &quot;${rubies[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1128">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1129">
          <span class="hits">4</span>
          
          <code class="ruby">    rvm_debug &quot;${rvm_ruby_string} - $action&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1130">
          <span class="hits">4</span>
          
          <code class="ruby">    current_ruby_string=&quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1131">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1132">
          
          
          <code class="ruby">      # in () so it does not mess with env. variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1133">
          
          
          <code class="ruby">      (</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1134">
          <span class="hits">4</span>
          
          <code class="ruby">        rvm_hook=&quot;before_install&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1135">
          <span class="hits">4</span>
          
          <code class="ruby">        source &quot;$rvm_scripts_path/hook&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1136">
          <span class="hits">4</span>
          
          <code class="ruby">        __rvm_${action}_ruby</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1137">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1138">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1139">
          <span class="hits">4</span>
          
          <code class="ruby">      if [[ &quot;$action&quot; == &quot;install&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1140">
          <span class="hits">1</span>
          
          <code class="ruby">      then __rvm_record_install &quot;$current_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1141">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1142">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1143">
          
          
          <code class="ruby">      : manage_result:${manage_result:=$?}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1144">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1145">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="1146">
          <span class="hits">4</span>
          
          <code class="ruby">  return &quot;${manage_result:-0}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1147">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1148">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1149">
          
          
          <code class="ruby">__rvm_record_ruby_configs()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1150">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1151">
          
          
          <code class="ruby">  for dir in &quot;$rvm_path/rubies/&quot;*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1152">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1153">
          
          
          <code class="ruby">    string=${dir##*/}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1154">
          
          
          <code class="ruby">    if [[ &quot;${string}&quot; == default ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1155">
          
          
          <code class="ruby">    then continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1156">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1157">
          
          
          <code class="ruby">    if [[ -x &quot;${rvm_path}/rubies/${string}/bin/ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1158">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1159">
          
          
          <code class="ruby">      if [[ -s &quot;${rvm_path}/rubies/${string}/config&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1160">
          
          
          <code class="ruby">      then continue</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1161">
          
          
          <code class="ruby">      else __rvm_ruby_config_save &quot;${rvm_path}/rubies/${string}/bin/ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1162">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1163">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1164">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1165">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1166">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1167">
          
          
          <code class="ruby">__rvm_compatibility_flag_configuration()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1168">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1169">
          
          
          <code class="ruby">  typeset flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1170">
          
          
          <code class="ruby">  flag=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1171">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1172">
          
          
          <code class="ruby">    ! shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1173">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1174">
          
          
          <code class="ruby">    rvm_error &quot;__rvm_compability_flag_configuration requires one param.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1175">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1176">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1177">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1178">
          
          
          <code class="ruby">    [[ ${rvm_19_flag:-0} == 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1179">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1180">
          
          
          <code class="ruby">    rvm_configure_flags+=( ${flag}1.9 )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1181">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1182">
          
          
          <code class="ruby">    [[ ${rvm_18_flag:-0} == 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1183">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1184">
          
          
          <code class="ruby">    rvm_configure_flags+=( ${flag}1.8 )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1185">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1186">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="efdf810c050823bccd0e89b78ecfe54144ada0e4">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/manage/ruby</h3>
    <h4><span class="red">41.46 %</span> covered</h4>
    <div>
      <b>41</b> relevant lines. 
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>24</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">ruby_install()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="5">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset result temp_flags _iterator</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">  case ${rvm_ruby_string:-&quot;&quot;} in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">    ruby-1.8.*-head)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">      __rvm_ensure_has_mri_ruby &quot;ruby-1.8.|ree-&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">    ruby-head|ruby-1.9.*-head)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">      __rvm_ensure_has_mri_ruby || return $?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">      typeset compatible_baseruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">        compatible_baseruby=&quot;$rvm_wrappers_path/$(__rvm_mri_ruby)/ruby&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">        [[ -x &quot;$compatible_baseruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">        rvm_configure_flags+=( --with-baseruby=&quot;$compatible_baseruby&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">        return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  # TODO: needed on some 1.9.3, confirm with http://bugs.ruby-lang.org/issues/6903</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ &quot; ${rvm_configure_flags[*]}&quot; =~ &quot; --enable-load-relative&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    case ${rvm_ruby_string} in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">      ruby-1.9.3-p125|ruby-1.9.3-p286|ruby-1.9.3-p327|ruby-1.9.3-p362|ruby-1.9.3-p374|ruby-1.9.3-p385)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">        rvm_patch_names+=( ruby-multilib )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  (</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="38">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_setup_compile_environment &quot;${rvm_ruby_string}&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="39">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_install_source $*</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">  ) || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="43">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ &quot;$MACHTYPE&quot; == *darwin* &amp;&amp; &quot; ${rvm_configure_flags[*]}&quot; =~ &quot; --enable-load-relative&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    typeset libyaml_lib_path_old libyaml_lib_path_new psych_lib_path target_path target_path_escaped</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">    target_path=&quot;${rvm_rubies_path%/}/${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">    target_path_escaped=&quot;${target_path//\//\/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">    libyaml_lib_path_old=&quot;$( find &quot;$target_path&quot; -name libyaml-*.dylib )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">    libyaml_lib_path_new=&quot;${libyaml_lib_path_old/${target_path_escaped}/@executable_path/..}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">    psych_lib_path=&quot;$( find &quot;${target_path}&quot; -name psych.bundle )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    __rvm_log_command fix.osx.dependencies &quot;fix osx dependencies&quot; install_name_tool -change &quot;${libyaml_lib_path_old}&quot; &quot;${libyaml_lib_path_new}&quot; &quot;${psych_lib_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="54">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset patches_count</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  patches_count=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}&quot; &quot;$rvm_scripts_path/patchsets&quot; show default | wc -l</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="57">
          <span class="hits">1</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="58">
          <span class="hits">3</span>
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="59">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset _default _version _patch</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="60">
          <span class="hits">2</span>
          
          <code class="ruby">  _default=$(__rvm_db &quot;default_ruby&quot;)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="61">
          <span class="hits">2</span>
          
          <code class="ruby">  _version=$(__rvm_db &quot;${_default}_version&quot;)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="62">
          <span class="hits">2</span>
          
          <code class="ruby">  _patch=$(__rvm_db &quot;${_default}_${_version}_patch_level&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="63">
          <span class="hits">1</span>
          
          <code class="ruby">  _version=&quot;${_default}-${_version}${_patch:+-}${_patch:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="65">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ ! &quot;${rvm_ruby_string}&quot; =~ &quot;${_default}-${_version}&quot; ]] &amp;&amp; (( patches_count &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">    rvm_warn &quot;Please be aware that you just installed a ruby that requires ${patches_count} patches just to be compiled on up to date linux system.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">This may have known and unaccounted for security vulnerabilities.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="69">
          <span class="hits">1</span>
          
          <code class="ruby">Please consider upgrading to ${_version} which will have all of the latest security patches.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_compiler_is_llvm &amp;&amp; ! __ruby_clang_ok ${rvm_ruby_string}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">    rvm_warn &quot;Ruby '${rvm_ruby_string}' was built using clang - but it's not (fully) supported, expect errors.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="bf5b3b0069cd3d72171d9142bd740235070d5248">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/requirements/debian</h3>
    <h4><span class="red">30.77 %</span> covered</h4>
    <div>
      <b>26</b> relevant lines. 
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>18</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">requirements_debian_lib_installed()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="5">
          <span class="hits">29</span>
          
          <code class="ruby">  dpkg -s &quot;$1&quot; &gt;/dev/null 2&gt;/dev/null ||</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="6">
          <span class="hits">7</span>
          
          <code class="ruby">  dpkg-query -Wf'${db:Status-abbrev}' &quot;$1&quot; &gt;/dev/null ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="7">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">requirements_debian_libs_install()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  __rvm_try_sudo apt-get --no-install-recommends --quiet --yes install &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">requirements_debian_ensure_libs()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="17">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset -a packages_installed packages_missing packages_to_install</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="18">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_filter_installed_packages debian &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">requirements_debian()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="23">
          <span class="hits">5</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">    (update-system)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="25">
          <span class="hits">2</span>
          
          <code class="ruby">      __rvm_try_sudo apt-get --quiet --yes update | __rvm_dotted &quot;Updating repositories&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">    (rvm)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="28">
          <span class="hits">1</span>
          
          <code class="ruby">      requirements_debian_ensure_libs bash curl git-core patch bzip2 ca-certificates</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">    (jruby*head)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">      if (( ${_system_version//./} &gt;= 1110 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">      then requirements_debian_ensure_libs ant openjdk-7-jdk</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">      else requirements_debian_ensure_libs ant openjdk-6-jdk</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">    (jruby*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">      if (( ${_system_version//./} &gt;= 1110 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">      then requirements_debian_ensure_libs g++ openjdk-7-jre-headless</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">      else requirements_debian_ensure_libs g++ openjdk-6-jre-headless</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    (ir*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">      requirements_debian_ensure_libs curl mono-2.0-devel</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    (opal)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">      requirements_debian_ensure_libs nodejs npm</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="49">
          <span class="hits">1</span>
          
          <code class="ruby">      requirements_debian_ensure_libs build-essential openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev libgdbm-dev ncurses-dev automake libtool bison pkg-config libffi-dev</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">requirements_ubuntu()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">  requirements_debian &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="7d7d27067d69be9fb3dcc0b0eac468ff47e4478a">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/reset</h3>
    <h4><span class="red">77.78 %</span> covered</h4>
    <div>
      <b>27</b> relevant lines. 
      <span class="green"><b>21</b> lines covered</span> and
      <span class="red"><b>6</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># Reset any rvm gathered information about the system and its state.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># rvm will refresh the stored information the next time it is called after reset.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">__rvm_reset()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="7">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset flag flags file files config configs variable</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="9">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_remove_rvm_from_path ; __rvm_conditionally_add_bin_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="11">
          <span class="hits">1</span>
          
          <code class="ruby">  export PATH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">  builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="15">
          <span class="hits">1</span>
          
          <code class="ruby">  flags=( default passenger editor )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="17">
          <span class="hits">3</span>
          
          <code class="ruby">  for flag in &quot;${flags[@]}&quot;; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="19">
          <span class="hits">3</span>
          
          <code class="ruby">    \rm -f &quot;${rvm_bin_path}&quot;/${flag}_*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="23">
          <span class="hits">2</span>
          
          <code class="ruby">  for file in system default ; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="25">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ -f &quot;$rvm_path/${file}&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">      \rm -f &quot;$rvm_path/${file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="29">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ -f &quot;$rvm_path/config/${file}&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">      \rm -f &quot;$rvm_path/config/${file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="33">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ -f &quot;$rvm_environments_path/${file}&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">      \rm -f &quot;$rvm_environments_path/${file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">  # Go back to a clean state.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_use_system</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="42">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_unset_ruby_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="44">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_unset_exports</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="46">
          <span class="hits">1</span>
          
          <code class="ruby">  configs=(system_ruby system_gem_path system_user_gem_path)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="48">
          <span class="hits">3</span>
          
          <code class="ruby">  for system_config in &quot;${configs[@]}&quot; ; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="50">
          <span class="hits">3</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/db&quot; &quot;$system_config&quot; &quot;delete&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">  files=(ruby gem rake irb $(__rvm_cd &quot;${rvm_bin_path}&quot; ; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">    find . -mindepth 1 -maxdepth 1 -iname 'default*' -type f \</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="56">
          <span class="hits">4</span>
          
          <code class="ruby">    | \sed -e 's#./##g'))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="58">
          <span class="hits">4</span>
          
          <code class="ruby">  for file in &quot;${files[@]}&quot;; do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="60">
          <span class="hits">4</span>
          
          <code class="ruby">    if [[ -f &quot;${rvm_bin_path}/$file&quot; ]] ; then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">      \rm -f &quot;${rvm_bin_path}/$file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="68">
          <span class="hits">1</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="0e113e70949530ddd1af93247cf3bffd7bb7058d">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/rvmrc</h3>
    <h4><span class="red">47.6 %</span> covered</h4>
    <div>
      <b>416</b> relevant lines. 
      <span class="green"><b>198</b> lines covered</span> and
      <span class="red"><b>218</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="3">
          <span class="hits">528</span>
          
          <code class="ruby">export escape_flag _first _second</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="4">
          <span class="hits">528</span>
          
          <code class="ruby">escape_flag=1</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="5">
          <span class="hits">528</span>
          
          <code class="ruby">_first=${__array_start}</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="6">
          <span class="hits">528</span>
          
          <code class="ruby">_second=$[__array_start + 1]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">__rvm_md5_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">  if builtin command -v md5 &gt; /dev/null; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="11">
          
          
          <code class="ruby">    echo &quot;$1&quot; | md5</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  elif builtin command -v md5sum &gt; /dev/null ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">    echo &quot;$1&quot; | md5sum | awk '{print $1}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">    rvm_error &quot;Neither md5 nor md5sum were found in the PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">__rvm_sha256_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">  if builtin command -v sha256sum &gt; /dev/null ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">    echo &quot;$1&quot; | sha256sum | awk '{print $1}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  elif builtin command -v sha256 &gt; /dev/null ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">    echo &quot;$1&quot; | sha256 | awk '{print $1}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  elif builtin command -v shasum &gt; /dev/null ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    echo &quot;$1&quot; | shasum -a256 | awk '{print $1}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    rvm_error &quot;Neither sha256sum nor shasum found in the PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">__rvm_md5_for_contents()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="40">
          <span class="hits">26</span>
          
          <code class="ruby">  if builtin command -v md5 &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    echo &quot;$1&quot; | cat - &quot;$1&quot; | md5</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="43">
          <span class="hits">26</span>
          
          <code class="ruby">  elif builtin command -v md5sum &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="45">
          <span class="hits">104</span>
          
          <code class="ruby">    echo &quot;$1&quot; | cat - &quot;$1&quot; | md5sum | awk '{print $1}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">    rvm_error &quot;Neither md5 nor md5sum were found in the PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="51">
          <span class="hits">26</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">__rvm_sha256_for_contents()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="56">
          <span class="hits">26</span>
          
          <code class="ruby">  if builtin command -v sha256sum &gt; /dev/null ; then</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="57">
          <span class="hits">104</span>
          
          <code class="ruby">    echo &quot;$1&quot; | cat - &quot;$1&quot; | sha256sum | awk '{print $1}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">  elif builtin command -v sha256 &gt; /dev/null ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    echo &quot;$1&quot; | cat - &quot;$1&quot; | sha256 | awk '{print $1}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">  elif builtin command -v shasum &gt; /dev/null ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">    echo &quot;$1&quot; | cat - &quot;$1&quot; | shasum -a256 | awk '{print $1}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">    rvm_error &quot;Neither sha256sum nor shasum found in the PATH&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="67">
          <span class="hits">26</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">__rvm_rvmrc_key()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="76" data-linenumber="72">
          <span class="hits">76</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;$1&quot; | \tr '[#/.=()]' _</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="73">
          <span class="hits">38</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">__rvm_reset_rvmrc_trust()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="78">
          <span class="hits">12</span>
          
          <code class="ruby">  if [[ &quot;$1&quot; == all ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">    echo &quot;&quot; &gt; &quot;$rvm_user_path/rvmrcs&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="82">
          <span class="hits">24</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/rvmrcs&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">      &quot;$(__rvm_rvmrc_key &quot;$1&quot;)&quot; &quot;delete&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">__rvm_trust_rvmrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="89">
          <span class="hits">8</span>
          
          <code class="ruby">  [[ -f &quot;$1&quot; ]] || return 1</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="90">
          <span class="hits">8</span>
          
          <code class="ruby">  __rvm_reset_rvmrc_trust &quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="91">
          <span class="hits">32</span>
          
          <code class="ruby">  &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/rvmrcs&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">    &quot;$(__rvm_rvmrc_key &quot;$1&quot;)&quot; &quot;1;$(__rvm_md5_for_contents &quot;$1&quot;)$(__rvm_sha256_for_contents &quot;$1&quot;)&quot; &gt;/dev/null 2&gt;&amp;1 ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">__rvm_untrust_rvmrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -f &quot;$1&quot; ]] || return 1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_reset_rvmrc_trust &quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="100">
          <span class="hits">4</span>
          
          <code class="ruby">  &quot;${rvm_scripts_path:-&quot;$rvm_path/scripts&quot;}/db&quot; &quot;$rvm_user_path/rvmrcs&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">    &quot;$(__rvm_rvmrc_key &quot;$1&quot;)&quot; &quot;0;$(__rvm_md5_for_contents &quot;$1&quot;)$(__rvm_sha256_for_contents &quot;$1&quot;)&quot; &gt;/dev/null 2&gt;&amp;1 ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">__rvm_rvmrc_stored_trust()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="107">
          <span class="hits">17</span>
          
          <code class="ruby">  [[ -f &quot;$1&quot; ]] || return 1</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="108">
          <span class="hits">34</span>
          
          <code class="ruby">  &quot;${rvm_scripts_path:-&quot;$rvm_path/scripts&quot;}/db&quot; &quot;$rvm_user_path/rvmrcs&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="109">
          
          
          <code class="ruby">    &quot;$(__rvm_rvmrc_key &quot;$1&quot;)&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">__rvm_rvmrc_stored_trust_check()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="115">
          <span class="hits">17</span>
          
          <code class="ruby">  typeset rvmrc_path</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="116">
          <span class="hits">17</span>
          
          <code class="ruby">  rvmrc_path=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="118">
          <span class="hits">17</span>
          
          <code class="ruby">  if [[ -f &quot;$rvmrc_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="120">
          <span class="hits">17</span>
          
          <code class="ruby">    saveIFS=$IFS</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="121">
          <span class="hits">17</span>
          
          <code class="ruby">    IFS=$';'</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="122">
          <span class="hits">34</span>
          
          <code class="ruby">    trust=($(__rvm_rvmrc_stored_trust &quot;$rvmrc_path&quot;))</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="123">
          <span class="hits">17</span>
          
          <code class="ruby">    IFS=$saveIFS</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="51" data-linenumber="126">
          <span class="hits">51</span>
          
          <code class="ruby">      [[ &quot;${trust[${_second}]:-'#'}&quot; != &quot;$(__rvm_md5_for_contents &quot;$rvmrc_path&quot;)$(__rvm_sha256_for_contents &quot;$rvmrc_path&quot;)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="128">
          <span class="hits">1</span>
          
          <code class="ruby">      echo &quot;The rvmrc at '$rvmrc_path' contains unreviewed changes.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="129">
          <span class="hits">1</span>
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="131">
          <span class="hits">16</span>
          
          <code class="ruby">      [[ &quot;${trust[${_first}]}&quot; == '1' ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="133">
          <span class="hits">15</span>
          
          <code class="ruby">      echo &quot;The rvmrc at '$rvmrc_path' is currently trusted.&quot;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="134">
          <span class="hits">15</span>
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="136">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ &quot;${trust[${_first}]}&quot; == '0' ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="138">
          <span class="hits">1</span>
          
          <code class="ruby">      echo &quot;The rvmrc at '$rvmrc_path' is currently untrusted.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="139">
          <span class="hits">1</span>
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">      echo &quot;The trustiworthiness of '$rvmrc_path' is currently unknown.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">    echo &quot;There is no $rvmrc_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">__rvm_rvmrc_tools()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="152">
          <span class="hits">55</span>
          
          <code class="ruby">  export escape_flag</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="153">
          <span class="hits">55</span>
          
          <code class="ruby">  typeset rvmrc_action rvmrc_path saveIFS trust rvmrc_ruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="155">
          <span class="hits">55</span>
          
          <code class="ruby">  escape_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="157">
          <span class="hits">55</span>
          
          <code class="ruby">  rvmrc_action=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="110" data-linenumber="158">
          <span class="hits">110</span>
          
          <code class="ruby">  (( $# )) &amp;&amp; shift || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="161">
          <span class="hits">55</span>
          
          <code class="ruby">    [[ &quot;${rvmrc_action}&quot; == &quot;create&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="163">
          <span class="hits">3</span>
          
          <code class="ruby">    rvmrc_ruby=&quot;${1:-${GEM_HOME##*/}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="164">
          <span class="hits">9</span>
          
          <code class="ruby">    rvmrc_path=&quot;$(__rvm_cd &quot;$PWD&quot; &gt;/dev/null 2&gt;&amp;1; pwd)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="166">
          <span class="hits">52</span>
          
          <code class="ruby">    [[ &quot;${1:-}&quot; == &quot;all&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="168">
          
          
          <code class="ruby">    rvmrc_path=&quot;all&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="170">
          <span class="hits">52</span>
          
          <code class="ruby">    if [[ -n &quot;${1:-}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="171">
          <span class="hits">50</span>
          
          <code class="ruby">    then rvmrc_path=&quot;${1%/.rvmrc}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="172">
          <span class="hits">2</span>
          
          <code class="ruby">    else rvmrc_path=&quot;$PWD&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="156" data-linenumber="174">
          <span class="hits">156</span>
          
          <code class="ruby">    rvmrc_path=&quot;$(__rvm_cd &quot;${rvmrc_path}&quot; &gt;/dev/null 2&gt;&amp;1; pwd)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="110" data-linenumber="176">
          <span class="hits">110</span>
          
          <code class="ruby">  (( $# )) &amp;&amp; shift || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="179">
          <span class="hits">55</span>
          
          <code class="ruby">    (( $# ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="181">
          <span class="hits">14</span>
          
          <code class="ruby">    rvmrc_path=&quot;${rvmrc_path}/$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="183">
          <span class="hits">41</span>
          
          <code class="ruby">    __rvm_project_dir_check &quot;${rvmrc_path}&quot; rvmrc_path &quot;${rvmrc_path}/.rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="186">
          <span class="hits">70</span>
          
          <code class="ruby">  case &quot;$rvmrc_action&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">    create)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">      (</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="189">
          <span class="hits">6</span>
          
          <code class="ruby">        rvm_create_flag=1 __rvm_use &quot;${rvmrc_ruby}&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="190">
          <span class="hits">3</span>
          
          <code class="ruby">        case &quot;${rvmrc_path}&quot; in</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="191">
          <span class="hits">1</span>
          
          <code class="ruby">          (*/.rvmrc|*/--rvmrc)                 __rvm_set_rvmrc         ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="192">
          <span class="hits">1</span>
          
          <code class="ruby">          (*/.ruby-version|*/--ruby-version)   __rvm_set_ruby_version  ;;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="193">
          <span class="hits">1</span>
          
          <code class="ruby">          (*/.versions.conf|*/--versions-conf) __rvm_set_versions_conf ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="194">
          
          
          <code class="ruby">          (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">            rvm_error &quot;Unrecognized project file format.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">            return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="201">
          
          
          <code class="ruby">    reset)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="202">
          <span class="hits">3</span>
          
          <code class="ruby">      __rvm_reset_rvmrc_trust &quot;$rvmrc_path&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="203">
          <span class="hits">3</span>
          
          <code class="ruby">        rvm_log &quot;Reset trust for $rvmrc_path&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="204">
          
          
          <code class="ruby">        rvm_error &quot;Reset trust for $rvmrc_path - failed&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="206">
          
          
          <code class="ruby">    trust)</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="207">
          <span class="hits">8</span>
          
          <code class="ruby">      __rvm_trust_rvmrc &quot;$rvmrc_path&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="208">
          <span class="hits">8</span>
          
          <code class="ruby">        rvm_log &quot;Marked $rvmrc_path as trusted&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="209">
          
          
          <code class="ruby">        rvm_error &quot;Marked $rvmrc_path as trusted - failed&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="212">
          
          
          <code class="ruby">    untrust)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_untrust_rvmrc &quot;$rvmrc_path&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">        rvm_log &quot;Marked $rvmrc_path as untrusted&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">        rvm_error &quot;Marked $rvmrc_path as untrusted - failed&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">    trusted)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="219">
          <span class="hits">7</span>
          
          <code class="ruby">      __rvm_rvmrc_stored_trust_check &quot;$rvmrc_path&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">    is_trusted)</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="223">
          <span class="hits">12</span>
          
          <code class="ruby">      __rvm_rvmrc_stored_trust_check &quot;$rvmrc_path&quot; &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">    load)</code>
        </li>
      
        <li class="covered" data-hits="51" data-linenumber="227">
          <span class="hits">51</span>
          
          <code class="ruby">      rvm_rvmrc_cwd=&quot;&quot; rvm_trust_rvmrcs_flag=1 __rvm_project_rvmrc &quot;$rvmrc_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="230">
          
          
          <code class="ruby">    try_to_read_ruby)</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="231">
          <span class="hits">18</span>
          
          <code class="ruby">      case &quot;$rvmrc_path&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">        (*/.rvmrc)</code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="233">
          <span class="hits">18</span>
          
          <code class="ruby">          if ! __rvm_rvmrc_tools is_trusted &quot;$(dirname &quot;$rvmrc_path&quot;)&quot;  &quot;$(basename &quot;$rvmrc_path&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">            # subprocess to not mess with current process variables</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="236">
          
          
          <code class="ruby">            ( rvm_promptless=1 __rvm_project_rvmrc &quot;$rvmrc_path&quot; &gt;/dev/null 2&gt;&amp;1 )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="18" data-linenumber="239">
          <span class="hits">18</span>
          
          <code class="ruby">          if __rvm_rvmrc_tools is_trusted &quot;$(dirname &quot;$rvmrc_path&quot;)&quot; &quot;$(basename &quot;$rvmrc_path&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="241">
          <span class="hits">6</span>
          
          <code class="ruby">            rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">            rvm_ruby_string=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="243">
          
          
          <code class="ruby">              rvm_rvmrc_cwd=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="244">
          
          
          <code class="ruby">              rvm_trust_rvmrcs_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">              rvm_is_not_a_shell_function=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">              __rvm_project_rvmrc &quot;$rvmrc_path&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="247">
          
          
          <code class="ruby">              __rvm_env_string</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="248">
          <span class="hits">6</span>
          
          <code class="ruby">            )&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="249">
          <span class="hits">12</span>
          
          <code class="ruby">            rvm_ruby_strings=&quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="250">
          <span class="hits">6</span>
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="251">
          <span class="hits">6</span>
          
          <code class="ruby">            rvm_action=&quot;error&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="252">
          <span class="hits">6</span>
          
          <code class="ruby">            rvm_error_message=&quot;The give path does not contain '$(basename &quot;$rvmrc_path&quot;)' (or it is not trusted): '$(dirname &quot;$rvmrc_path&quot;)' rest of params: '$@'&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="253">
          <span class="hits">6</span>
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">        (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">          rvm_action=&quot;${rvm_action:-use}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">          rvm_ruby_string=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">            rvm_rvmrc_cwd=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">            rvm_trust_rvmrcs_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="260">
          
          
          <code class="ruby">            __rvm_project_rvmrc &quot;$rvmrc_path&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="261">
          
          
          <code class="ruby">            __rvm_env_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">          )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="263">
          
          
          <code class="ruby">          rvm_ruby_strings=&quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="268">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="269">
          
          
          <code class="ruby">      rvm_error &quot;Usage: rvm rvmrc {trust,untrust,trusted,load,reset,is_trusted,try_to_read_ruby,create}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="270">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="53" data-linenumber="274">
          <span class="hits">53</span>
          
          <code class="ruby">  unset escape_flag</code>
        </li>
      
        <li class="covered" data-hits="53" data-linenumber="275">
          <span class="hits">53</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="276">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby">__rvm_check_rvmrc_trustworthiness()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="280">
          <span class="hits">15</span>
          
          <code class="ruby">  typeset saveIFS trust result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">  # Trust when they have the flag... of doom!</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="282">
          <span class="hits">30</span>
          
          <code class="ruby">  if [[ -n &quot;$1&quot; &amp;&amp; ${rvm_trust_rvmrcs_flag:-0} == 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="284">
          
          
          <code class="ruby">    saveIFS=&quot;$IFS&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">    IFS=$';'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="286">
          
          
          <code class="ruby">    trust=( $( __rvm_rvmrc_stored_trust &quot;$1&quot; ) )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="287">
          
          
          <code class="ruby">    IFS=&quot;$saveIFS&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="289">
          
          
          <code class="ruby">    if [[ &quot;${trust[${_second}]:-'#'}&quot; != &quot;$(__rvm_md5_for_contents &quot;$1&quot;)$(__rvm_sha256_for_contents &quot;$1&quot;)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="291">
          
          
          <code class="ruby">      __rvm_ask_to_trust &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="293">
          
          
          <code class="ruby">      [[ &quot;${trust[${_first}]}&quot; == '1' ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="297">
          <span class="hits">15</span>
          
          <code class="ruby">  result=$?</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="298">
          <span class="hits">15</span>
          
          <code class="ruby">  unset escape_flag</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="299">
          <span class="hits">15</span>
          
          <code class="ruby">  return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">__rvm_display_rvmrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="303">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="304">
          
          
          <code class="ruby">  typeset _rvmrc_base _read_char_flag</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="305">
          
          
          <code class="ruby">  _rvmrc_base=&quot;$(basename &quot;${_rvmrc}&quot;)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="306">
          
          
          <code class="ruby">  [[ -n &quot;${ZSH_VERSION:-}&quot; ]] &amp;&amp; _read_char_flag=k || _read_char_flag=n</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="308">
          
          
          <code class="ruby">  printf &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="309">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="310">
          
          
          <code class="ruby">= %-74s =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="311">
          
          
          <code class="ruby">= After reading the file, you will be prompted again for 'yes or no' to set  =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="312">
          
          
          <code class="ruby">= the trust level for this particular version of the file.                   =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">=                                                                            =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="314">
          
          
          <code class="ruby">= %-74s =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="315">
          
          
          <code class="ruby">= changes, and may change the trust setting manually at any time.            =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="316">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="317">
          
          
          <code class="ruby">(( press a key to review the ${_rvmrc_base} file ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="318">
          
          
          <code class="ruby">&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="319">
          
          
          <code class="ruby">&quot;The contents of the ${_rvmrc_base} file will now be displayed.&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="320">
          
          
          <code class="ruby">&quot;Note: You will be re-prompted each time the ${_rvmrc_base} file's contents change&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">builtin read -${_read_char_flag} 1 -s -r anykey</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="323">
          
          
          <code class="ruby">printf &quot;%b&quot; &quot;${rvm_warn_clr}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="324">
          
          
          <code class="ruby">command cat -v &quot;${_rvmrc}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="325">
          
          
          <code class="ruby">printf &quot;%b&quot; &quot;${rvm_reset_clr}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="327">
          
          
          <code class="ruby">  printf &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="328">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="329">
          
          
          <code class="ruby">= %-74s =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="330">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="331">
          
          
          <code class="ruby">= %-74s =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="332">
          
          
          <code class="ruby">= %-74s =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="333">
          
          
          <code class="ruby">= Note that if the contents of the file change, you will be re-prompted to   =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="334">
          
          
          <code class="ruby">= review the file and adjust its trust settings. You may also change the     =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="335">
          
          
          <code class="ruby">= trust settings manually at any time with the 'rvm rvmrc' command.          =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="336">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="338">
          
          
          <code class="ruby">&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="339">
          
          
          <code class="ruby">&quot;Viewing of ${_rvmrc} complete.&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="340">
          
          
          <code class="ruby">&quot;Trusting an ${_rvmrc_base} file means that whenever you cd into this directory,&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="341">
          
          
          <code class="ruby">&quot;RVM will run this ${_rvmrc_base} shell script.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="344">
          
          
          <code class="ruby">__rvm_ask_to_trust()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="346">
          
          
          <code class="ruby">  typeset trusted value anykey _rvmrc</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="347">
          
          
          <code class="ruby">  _rvmrc=&quot;${1}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="349">
          
          
          <code class="ruby">  if [[ ! -t 0 ]] || (( ${rvm_promptless:=0} == 1 )) || [[ -n &quot;$MC_SID&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="350">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="351">
          
          
          <code class="ruby">    return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="354">
          
          
          <code class="ruby">  printf &quot;==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="355">
          
          
          <code class="ruby">= NOTICE                                                                     =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="356">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="357">
          
          
          <code class="ruby">= %-74s =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="358">
          
          
          <code class="ruby">= This is a shell script and therefore may contain any shell commands.       =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="359">
          
          
          <code class="ruby">=                                                                            =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="360">
          
          
          <code class="ruby">= Examine the contents of this file carefully to be sure the contents are    =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="361">
          
          
          <code class="ruby">= safe before trusting it! ( Choose v[iew] below to view the contents )      =</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="362">
          
          
          <code class="ruby">==============================================================================</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="363">
          
          
          <code class="ruby">&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="364">
          
          
          <code class="ruby">&quot;RVM has encountered a new or modified $(basename &quot;${_rvmrc}&quot;) file in the current directory&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="365">
          
          
          <code class="ruby">  trusted=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="366">
          
          
          <code class="ruby">  while (( ! trusted ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="368">
          
          
          <code class="ruby">    printf &quot;Do you wish to trust this $(basename &quot;${_rvmrc}&quot;) file? (%b)\n&quot; &quot;${_rvmrc}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="369">
          
          
          <code class="ruby">    printf &quot;%b&quot; 'y[es], n[o], v[iew], c[ancel]&gt; '</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="371">
          
          
          <code class="ruby">    builtin read response</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="372">
          
          
          <code class="ruby">    value=&quot;$(echo -n &quot;${response}&quot; | \tr '[[:upper:]]' '[[:lower:]]' | __rvm_strip)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="374">
          
          
          <code class="ruby">    case &quot;${value:-n}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="375">
          
          
          <code class="ruby">      v|view)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="376">
          
          
          <code class="ruby">        __rvm_display_rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="378">
          
          
          <code class="ruby">      y|yes)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="379">
          
          
          <code class="ruby">        trusted=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="381">
          
          
          <code class="ruby">      n|no)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="382">
          
          
          <code class="ruby">        break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">      c|cancel)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="385">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="390">
          
          
          <code class="ruby">  if (( trusted ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="391">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="392">
          
          
          <code class="ruby">    __rvm_trust_rvmrc &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="393">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="394">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="395">
          
          
          <code class="ruby">    __rvm_untrust_rvmrc &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="396">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby"># Checks the rvmrc for the given directory. Note that if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby"># argument is passed, it will be used instead of pwd.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">__rvm_project_rvmrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="404">
          <span class="hits">32</span>
          
          <code class="ruby">  export __rvm_project_rvmrc_lock</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="405">
          <span class="hits">32</span>
          
          <code class="ruby">  : __rvm_project_rvmrc_lock:${__rvm_project_rvmrc_lock:=0}</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="406">
          <span class="hits">32</span>
          
          <code class="ruby">  : __rvm_project_rvmrc_lock:$((__rvm_project_rvmrc_lock+=1))</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="407">
          <span class="hits">32</span>
          
          <code class="ruby">  if (( __rvm_project_rvmrc_lock &gt; 1 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="408">
          
          
          <code class="ruby">  then return 0 # no nesting</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="411">
          <span class="hits">32</span>
          
          <code class="ruby">  typeset working_dir found_file rvm_trustworthiness_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="412">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="413">
          
          
          <code class="ruby">  # Get the first argument or the pwd.</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="414">
          <span class="hits">32</span>
          
          <code class="ruby">  working_dir=&quot;${1:-&quot;$PWD&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="415">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="416">
          <span class="hits">52</span>
          
          <code class="ruby">  while :</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="417">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="418">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="204" data-linenumber="419">
          <span class="hits">204</span>
          
          <code class="ruby">      [[ -z &quot;$working_dir&quot; || &quot;$HOME&quot; == &quot;$working_dir&quot; || &quot;${rvm_prefix:-}&quot; == &quot;$working_dir&quot;  || &quot;/&quot; == &quot;$working_dir&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="422">
          <span class="hits">7</span>
          
          <code class="ruby">        [[ -n &quot;${rvm_current_rvmrc:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="424">
          <span class="hits">1</span>
          
          <code class="ruby">        __rvm_remove_rvm_from_path</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="425">
          <span class="hits">1</span>
          
          <code class="ruby">        __rvm_conditionally_add_bin_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="426">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="427">
          <span class="hits">1</span>
          
          <code class="ruby">          (( ${rvm_project_rvmrc_default:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="429">
          
          
          <code class="ruby">          __rvm_load_environment &quot;default&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="430">
          
          
          <code class="ruby">        elif</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="431">
          <span class="hits">1</span>
          
          <code class="ruby">          [[ -n &quot;${rvm_previous_environment:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="432">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="433">
          <span class="hits">1</span>
          
          <code class="ruby">          __rvm_load_environment &quot;$rvm_previous_environment&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="435">
          <span class="hits">1</span>
          
          <code class="ruby">        unset rvm_current_rvmrc rvm_previous_environment</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="436">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="437">
          <span class="hits">7</span>
          
          <code class="ruby">      break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="438">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="440">
          <span class="hits">45</span>
          
          <code class="ruby">        __rvm_project_dir_check &quot;$working_dir&quot; found_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="442">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="443">
          <span class="hits">25</span>
          
          <code class="ruby">          [[ &quot;${rvm_current_rvmrc:-&quot;&quot;}&quot; != &quot;${found_file}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="445">
          <span class="hits">24</span>
          
          <code class="ruby">          __rvm_conditionally_do_with_env __rvm_load_project_config &quot;${found_file}&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">          {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="447">
          
          
          <code class="ruby">            rvm_trustworthiness_result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="448">
          
          
          <code class="ruby">            unset __rvm_project_rvmrc_lock</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="449">
          
          
          <code class="ruby">            return &quot;$rvm_trustworthiness_result&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby">          }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="452">
          <span class="hits">25</span>
          
          <code class="ruby">        break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="454">
          <span class="hits">40</span>
          
          <code class="ruby">        working_dir=&quot;$(dirname &quot;$working_dir&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="459">
          <span class="hits">32</span>
          
          <code class="ruby">  unset __rvm_project_rvmrc_lock</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="460">
          <span class="hits">32</span>
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="463">
          
          
          <code class="ruby">__rvm_load_project_config()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="465">
          <span class="hits">24</span>
          
          <code class="ruby">  typeset __gemfile</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="466">
          <span class="hits">24</span>
          
          <code class="ruby">  : rvm_autoinstall_bundler_flag:${rvm_autoinstall_bundler_flag:=0}</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="467">
          <span class="hits">24</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="468">
          
          
          <code class="ruby">    (*/.rvmrc)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="469">
          <span class="hits">15</span>
          
          <code class="ruby">      if __rvm_check_rvmrc_trustworthiness &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="471">
          <span class="hits">30</span>
          
          <code class="ruby">        __rvm_remove_rvm_from_path ; __rvm_conditionally_add_bin_path</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="472">
          <span class="hits">30</span>
          
          <code class="ruby">        rvm_previous_environment=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="473">
          <span class="hits">15</span>
          
          <code class="ruby">        rvm_current_rvmrc=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="474">
          <span class="hits">15</span>
          
          <code class="ruby">        __rvm_ensure_is_a_function</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="475">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="476">
          <span class="hits">30</span>
          
          <code class="ruby">        rvm_action=use source &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="478">
          
          
          <code class="ruby">      else return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="482">
          
          
          <code class="ruby">    (*/.versions.conf)</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="483">
          <span class="hits">7</span>
          
          <code class="ruby">      typeset _gem _gem_names _bundle_install</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="484">
          <span class="hits">7</span>
          
          <code class="ruby">      __rvm_ensure_is_a_function</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="485">
          <span class="hits">14</span>
          
          <code class="ruby">      rvm_previous_environment=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="486">
          <span class="hits">7</span>
          
          <code class="ruby">      rvm_current_rvmrc=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="487">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="488">
          <span class="hits">14</span>
          
          <code class="ruby">      rvm_ruby_string=&quot;$(sed -n '/^ruby=/ {s/ruby=//;p;}' &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="489">
          <span class="hits">7</span>
          
          <code class="ruby">      [[ -n &quot;${rvm_ruby_string}&quot; ]] || return 2</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="490">
          <span class="hits">14</span>
          
          <code class="ruby">      rvm_gemset_name=&quot;$(sed -n '/^ruby-gemset=/ {s/ruby-gemset=//;p;}' &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="491">
          <span class="hits">14</span>
          
          <code class="ruby">      rvm_create_flag=1 __rvm_use   || return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="492">
          
          
          <code class="ruby">      # TODO: read env.* # how to sanitize ?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="494">
          <span class="hits">14</span>
          
          <code class="ruby">      _gem_names=&quot;$(sed -n '/^ruby-gem-install=/ {s/ruby-gem-install=//;p;}' &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="495">
          <span class="hits">2</span>
          
          <code class="ruby">      for _gem in ${_gem_names//,/ }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">        # TODO: add support for versions</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="498">
          <span class="hits">6</span>
          
          <code class="ruby">        if ! gem list | GREP_OPTIONS=&quot;&quot; \grep &quot;^${_gem} &quot; &gt; /dev/null</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="499">
          <span class="hits">1</span>
          
          <code class="ruby">        then gem install &quot;${_gem}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="502">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="503">
          <span class="hits">14</span>
          
          <code class="ruby">      _bundle_install=&quot;$(sed -n '/^ruby-bundle-install=/ {s/ruby-bundle-install=//;p;}' &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="504">
          <span class="hits">13</span>
          
          <code class="ruby">      if [[ -n &quot;${_bundle_install}&quot; ]] || [[ &quot;${rvm_autoinstall_bundler_flag:-0}&quot; == 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="506">
          <span class="hits">1</span>
          
          <code class="ruby">        if [[ &quot;${_bundle_install}&quot; == true ]] # prevent file named true for Gemfile</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="507">
          <span class="hits">2</span>
          
          <code class="ruby">        then __gemfile=&quot;$(dirname $1)/Gemfile&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="509">
          
          
          <code class="ruby">        elif [[ -f &quot;${_bundle_install}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="510">
          
          
          <code class="ruby">        then __gemfile=&quot;${_bundle_install}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="511">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="512">
          
          
          <code class="ruby">        elif [[ &quot;${rvm_autoinstall_bundler_flag:-0}&quot; == 1 ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="513">
          
          
          <code class="ruby">        then __gemfile=&quot;$(dirname $1)/Gemfile&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="518">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="519">
          
          
          <code class="ruby">    (*/Gemfile)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="520">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_ensure_is_a_function</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="521">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_previous_environment=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="522">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_current_rvmrc=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="524">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_ruby_string=&quot;$(sed -n '/^#ruby=/ {s/#ruby=//;p;}' &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="525">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ -n &quot;${rvm_ruby_string}&quot; ]] || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="526">
          
          
          <code class="ruby">        rvm_ruby_string=&quot;$(sed -n &quot;s/ rescue nil$//; /^\s*ruby/ {s/^\s*ruby//; s/[ ()'\&quot;]//g; p;}&quot; &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="527">
          
          
          <code class="ruby">        [[ -n &quot;${rvm_ruby_string}&quot; ]] || return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="529">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_gemset_name=&quot;$(sed -n '/^#ruby-gemset=/ {s/#ruby-gemset=//;p;}' &lt; &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="530">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_create_flag=1 __rvm_use   || return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="532">
          
          
          <code class="ruby">      # TODO: read #env.* # how to sanitize ?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="533">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="534">
          <span class="hits">1</span>
          
          <code class="ruby">      if [[ &quot;${rvm_autoinstall_bundler_flag:-0}&quot; == &quot;1&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="536">
          
          
          <code class="ruby">        __gemfile=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="537">
          
          
          <code class="ruby">        gem list | GREP_OPTIONS=&quot;&quot; \grep &quot;^bundler &quot; &gt; /dev/null ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="538">
          
          
          <code class="ruby">          gem install bundler</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="540">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="542">
          
          
          <code class="ruby">    (*/.ruby-version|*/.rbfu-version|*/.rbenv-version)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="543">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_ensure_is_a_function</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="544">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_previous_environment=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="545">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_current_rvmrc=&quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="547">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_ruby_string=&quot;$(cat &quot;$1&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="548">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ -n &quot;${rvm_ruby_string}&quot; ]] || return 2</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="549">
          <span class="hits">2</span>
          
          <code class="ruby">      if [[ -f &quot;$(dirname $1)/.ruby-gemset&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="551">
          
          
          <code class="ruby">        rvm_gemset_name=&quot;$(cat &quot;$(dirname $1)/.ruby-gemset&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="552">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="553">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_create_flag=1 __rvm_use   || return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">      # &quot;$(dirname $1)/.rbenv-vars&quot; ... can we support those without licensing ?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="556">
          <span class="hits">1</span>
          
          <code class="ruby">      if [[ &quot;${rvm_autoinstall_bundler_flag:-0}&quot; == 1 &amp;&amp; -f &quot;$(dirname $1)/Gemfile&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="558">
          
          
          <code class="ruby">        if ! gem list | GREP_OPTIONS=&quot;&quot; \grep &quot;^bundler &quot; &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="559">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="560">
          
          
          <code class="ruby">          gem install &quot;bundler&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="561">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="562">
          
          
          <code class="ruby">        __gemfile=&quot;$(dirname $1)/Gemfile&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="564">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="566">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="567">
          
          
          <code class="ruby">      rvm_error &quot;Unsupported file format for '$1'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="568">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="569">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="570">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="572">
          <span class="hits">25</span>
          
          <code class="ruby">  if [[ -n &quot;${__gemfile:-}&quot; &amp;&amp; -f &quot;${__gemfile:-}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="573">
          <span class="hits">3</span>
          
          <code class="ruby">  then bundle install --gemfile=&quot;${__gemfile}&quot; | GREP_OPTIONS=&quot;&quot; \grep -vE '^Using|Your bundle is complete'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="574">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="576">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">__rvm_set_versions_conf()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="579">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset gemset identifier</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="581">
          <span class="hits">3</span>
          
          <code class="ruby">  if [[ -s .versions.conf ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="583">
          
          
          <code class="ruby">    \mv .versions.conf .versions.conf.$(date +%m.%d.%Y-%H:%M:%S)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="584">
          
          
          <code class="ruby">    rvm_warn &quot;.version.conf is not empty, moving aside to preserve.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="585">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="587">
          <span class="hits">6</span>
          
          <code class="ruby">  identifier=$(__rvm_env_string)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="588">
          <span class="hits">3</span>
          
          <code class="ruby">  gemset=${identifier#*@}</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="589">
          <span class="hits">3</span>
          
          <code class="ruby">  identifier=${identifier%@*}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="591">
          <span class="hits">3</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;ruby=$identifier</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="592">
          
          
          <code class="ruby">&quot; &gt;&gt; .versions.conf</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="593">
          <span class="hits">6</span>
          
          <code class="ruby">  if [[ -n &quot;$gemset&quot; &amp;&amp; &quot;$gemset&quot; != &quot;$identifier&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="595">
          <span class="hits">2</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;ruby-gemset=$gemset</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="596">
          
          
          <code class="ruby">&quot; &gt;&gt; .versions.conf</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="597">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="598">
          <span class="hits">1</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;#ruby-gemset=my-projectit</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="599">
          
          
          <code class="ruby">&quot; &gt;&gt; .versions.conf</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="601">
          <span class="hits">3</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;#ruby-gem-install=bundler rake</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="602">
          
          
          <code class="ruby">#ruby-bundle-install=true</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="603">
          
          
          <code class="ruby">&quot; &gt;&gt; .versions.conf</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="604">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="605">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="606">
          
          
          <code class="ruby">__rvm_set_ruby_version()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="608">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -s .ruby-version ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="609">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="610">
          
          
          <code class="ruby">    \mv .ruby-version .ruby-version.$(date +%m.%d.%Y-%H:%M:%S)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="611">
          
          
          <code class="ruby">    rvm_warn &quot;.ruby-version is not empty, moving aside to preserve.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="612">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="614">
          <span class="hits">2</span>
          
          <code class="ruby">  echo &quot;$(__rvm_env_string)&quot; &gt;&gt; .ruby-version</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="616">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby">__rvm_set_rvmrc()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="619">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset flags identifier short_identifier gem_file</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="620">
          <span class="hits">1</span>
          
          <code class="ruby">  true ${rvm_verbose_flag:=0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="621">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="622">
          <span class="hits">2</span>
          
          <code class="ruby">  if [[ &quot;$HOME&quot; != &quot;$PWD&quot; &amp;&amp; &quot;${rvm_prefix:-}&quot; != &quot;$PWD&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="624">
          <span class="hits">1</span>
          
          <code class="ruby">    if (( rvm_verbose_flag ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="626">
          
          
          <code class="ruby">      flags=&quot;use &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="628">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="629">
          <span class="hits">1</span>
          
          <code class="ruby">    if [[ -s .rvmrc ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="631">
          
          
          <code class="ruby">      \mv .rvmrc .rvmrc.$(date +%m.%d.%Y-%H:%M:%S)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="632">
          
          
          <code class="ruby">      rvm_warn &quot;.rvmrc is not empty, moving aside to preserve.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="635">
          <span class="hits">2</span>
          
          <code class="ruby">    identifier=$(__rvm_env_string)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="636">
          <span class="hits">1</span>
          
          <code class="ruby">    short_identifier=&quot;${identifier#ruby-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="637">
          <span class="hits">1</span>
          
          <code class="ruby">    short_identifier=&quot;${short_identifier%%-*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="638">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="639">
          <span class="hits">1</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby"># This is an RVM Project .rvmrc file, used to automatically load the ruby</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby"># development environment upon cd'ing into the directory</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="644">
          
          
          <code class="ruby"># First we specify our desired &lt;ruby&gt;[@&lt;gemset&gt;], the @gemset name is optional,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby"># Only full ruby name is supported here, for short names use:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">#     echo \&quot;rvm use ${short_identifier}\&quot; &gt; .rvmrc</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="647">
          
          
          <code class="ruby">environment_id=\&quot;$identifier\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="648">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby"># Uncomment the following lines if you want to verify rvm version per project</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="650">
          
          
          <code class="ruby"># rvmrc_rvm_version=\&quot;${rvm_version}\&quot; # 1.10.1 seams as a safe start</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby"># eval \&quot;\$(echo \${rvm_version}.\${rvmrc_rvm_version} | awk -F. '{print \&quot;[[ \&quot;\$1*65536+\$2*256+\$3\&quot; -ge \&quot;\$4*65536+\$5*256+\$6\&quot; ]]\&quot;}' )\&quot; || {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby">#   echo \&quot;This .rvmrc file requires at least RVM \${rvmrc_rvm_version}, aborting loading.\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="653">
          
          
          <code class="ruby">#   return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="654">
          
          
          <code class="ruby"># }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="655">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="656">
          <span class="hits">1</span>
          
          <code class="ruby">    if __rvm_string_match &quot;$identifier&quot; &quot;jruby*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="657">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="658">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="659">
          
          
          <code class="ruby"># Uncomment following line if you want options to be set only for given project.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="660">
          
          
          <code class="ruby"># PROJECT_JRUBY_OPTS=( --1.9 )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby"># The variable PROJECT_JRUBY_OPTS requires the following to be run in shell:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby">#    chmod +x \${rvm_path}/hooks/after_use_jruby_opts</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="663">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="665">
          <span class="hits">1</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="666">
          
          
          <code class="ruby"># First we attempt to load the desired environment directly from the environment</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="667">
          
          
          <code class="ruby"># file. This is very fast and efficient compared to running through the entire</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby"># CLI and selector. If you want feedback on which environment was used then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby"># insert the word 'use' after --create as this triggers verbose mode.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="670">
          
          
          <code class="ruby">if [[ -d \&quot;\${rvm_path:-\$HOME/.rvm}/environments\&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="671">
          
          
          <code class="ruby">  &amp;&amp; -s \&quot;\${rvm_path:-\$HOME/.rvm}/environments/\$environment_id\&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="672">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="673">
          
          
          <code class="ruby">  \\. \&quot;\${rvm_path:-\$HOME/.rvm}/environments/\$environment_id\&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="674">
          
          
          <code class="ruby">  for __hook in \&quot;\${rvm_path:-\$HOME/.rvm}/hooks/after_use\&quot;*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="675">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="676">
          
          
          <code class="ruby">    if [[ -f \&quot;\${__hook}\&quot; &amp;&amp; -x \&quot;\${__hook}\&quot; &amp;&amp; -s \&quot;\${__hook}\&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="677">
          
          
          <code class="ruby">    then \\. \&quot;\${__hook}\&quot; || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="680">
          
          
          <code class="ruby">  unset __hook</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="681">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="682">
          <span class="hits">1</span>
          
          <code class="ruby">    if [[ &quot; $flags &quot; =~ &quot; use &quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="684">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;  if [[ \$- == *i* ]] # check for interactive shells</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="685">
          
          
          <code class="ruby">  then echo \&quot;Using: \$(tput setaf 2)\$GEM_HOME\$(tput sgr0)\&quot; # show the user the ruby and gemset they are using in green</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="686">
          
          
          <code class="ruby">  else echo \&quot;Using: \$GEM_HOME\&quot; # don't use colors in non-interactive shells</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="688">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="690">
          <span class="hits">1</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">  # If the environment file has not yet been created, use the RVM CLI to select.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="692">
          
          
          <code class="ruby">  rvm --create $flags \&quot;\$environment_id\&quot; || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="693">
          
          
          <code class="ruby">    echo \&quot;Failed to create RVM environment '\${environment_id}'.\&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="694">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="696">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="697">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="698">
          <span class="hits">1</span>
          
          <code class="ruby">    for gem_file in *.gems</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="700">
          <span class="hits">1</span>
          
          <code class="ruby">      case &quot;$gem_file&quot; in</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="701">
          <span class="hits">1</span>
          
          <code class="ruby">        (\*.gems) continue ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="703">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="704">
          
          
          <code class="ruby"># If you use an RVM gemset file to install a list of gems (*.gems), you can have</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby"># it be automatically loaded. Uncomment the following and adjust the filename if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby"># necessary.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby"># filename=\&quot;.gems\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="709">
          
          
          <code class="ruby"># if [[ -s \&quot;\$filename\&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby"># then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby">#   rvm gemset import \&quot;\$filename\&quot; | GREP_OPTIONS=&quot;&quot; \grep -v already | grep -v listed | grep -v complete | sed '/^$/d'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby"># fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="713">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="715">
          <span class="hits">1</span>
          
          <code class="ruby">    if [[ -s Gemfile ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="717">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby"># If you use bundler, this might be useful to you:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby"># if [[ -s Gemfile ]] &amp;&amp; {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">#   ! builtin command -v bundle &gt;/dev/null ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">#   builtin command -v bundle | GREP_OPTIONS=&quot;&quot; \grep \$rvm_path/bin/bundle &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby"># }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="723">
          
          
          <code class="ruby"># then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby">#   printf \&quot;%b\&quot; \&quot;The rubygem 'bundler' is not installed. Installing it now.\\\\n\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">#   gem install bundler</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="726">
          
          
          <code class="ruby"># fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby"># if [[ -s Gemfile ]] &amp;&amp; builtin command -v bundle &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby"># then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby">#   bundle install | GREP_OPTIONS=&quot;&quot; \grep -vE '^Using|Your bundle is complete'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="730">
          
          
          <code class="ruby"># fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="731">
          
          
          <code class="ruby">&quot; &gt;&gt; .rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="733">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="734">
          
          
          <code class="ruby">    rvm_error &quot;.rvmrc cannot be set in your home directory.\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="735">
          
          
          <code class="ruby">      \nThe home .rvmrc is for global rvm settings only.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="736">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">__rvm_project_dir_check()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="741">
          <span class="hits">92</span>
          
          <code class="ruby">  typeset _found_file path_to_check variable variable_default</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="742">
          <span class="hits">92</span>
          
          <code class="ruby">  typeset -a _valid_files</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="743">
          <span class="hits">92</span>
          
          <code class="ruby">  path_to_check=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="744">
          <span class="hits">92</span>
          
          <code class="ruby">  variable=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="745">
          <span class="hits">92</span>
          
          <code class="ruby">  variable_default=&quot;${3:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="746">
          
          
          <code class="ruby">  _valid_files=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="747">
          
          
          <code class="ruby">    &quot;$path_to_check&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="748">
          
          
          <code class="ruby">    &quot;$path_to_check/.rvmrc&quot; &quot;$path_to_check/.versions.conf&quot; &quot;$path_to_check/.ruby-version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="749">
          
          
          <code class="ruby">    &quot;$path_to_check/.rbfu-version&quot; &quot;$path_to_check/.rbenv-version&quot; &quot;$path_to_check/Gemfile&quot;</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="750">
          <span class="hits">92</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="751">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="113" data-linenumber="752">
          <span class="hits">113</span>
          
          <code class="ruby">  __rvm_find_first_file _found_file &quot;${_valid_files[@]}&quot; || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="754">
          <span class="hits">92</span>
          
          <code class="ruby">  if [[ &quot;${_found_file##*/}&quot; == &quot;Gemfile&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="756">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -s &quot;$_found_file&quot; ]] &amp;&amp; {</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="757">
          <span class="hits">8</span>
          
          <code class="ruby">      GREP_OPTIONS=&quot;&quot; \grep &quot;^#ruby=&quot;  &quot;$_found_file&quot; &gt;/dev/null ||</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="758">
          <span class="hits">4</span>
          
          <code class="ruby">      GREP_OPTIONS=&quot;&quot; \grep &quot;^\s*ruby&quot; &quot;$_found_file&quot; &gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="759">
          
          
          <code class="ruby">    } ||</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="760">
          <span class="hits">2</span>
          
          <code class="ruby">      _found_file=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="762">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="763">
          <span class="hits">92</span>
          
          <code class="ruby">  if [[ -n &quot;$variable&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="172" data-linenumber="764">
          <span class="hits">172</span>
          
          <code class="ruby">  then eval &quot;$variable=\&quot;\${_found_file:-$variable_default}\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="765">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="766">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="112" data-linenumber="767">
          <span class="hits">112</span>
          
          <code class="ruby">  [[ -n &quot;${_found_file:-$variable_default}&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="768">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="a9570cf52d45d16781ca0072869bfbf493e1354f">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/support</h3>
    <h4><span class="red">59.32 %</span> covered</h4>
    <div>
      <b>118</b> relevant lines. 
      <span class="green"><b>70</b> lines covered</span> and
      <span class="red"><b>48</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="3">
          <span class="hits">528</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_tar_command:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">  # check for the right tar to use</code>
        </li>
      
        <li class="covered" data-hits="287" data-linenumber="6">
          <span class="hits">287</span>
          
          <code class="ruby">  if builtin command -v gtar &gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="7">
          
          
          <code class="ruby">  then rvm_tar_command=gtar</code>
        </li>
      
        <li class="covered" data-hits="287" data-linenumber="8">
          <span class="hits">287</span>
          
          <code class="ruby">  else rvm_tar_command=tar</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="13">
          <span class="hits">528</span>
          
          <code class="ruby">  [[ ! &quot; ${rvm_tar_options:-} &quot; =~ &quot; --no-same-owner &quot;  ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="861" data-linenumber="14">
          <span class="hits">861</span>
          
          <code class="ruby">  $rvm_tar_command --help 2&gt;&amp;1 | GREP_OPTIONS=&quot;&quot; \grep -- --no-same-owner &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="287" data-linenumber="16">
          <span class="hits">287</span>
          
          <code class="ruby">  rvm_tar_options=&quot;${rvm_tar_options:-}${rvm_tar_options:+ }--no-same-owner&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"># Functions RVM is built on</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># __rvm_string_match &lt;value&gt; &lt;string|glob&gt;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="528" data-linenumber="22">
          <span class="hits">528</span>
          
          <code class="ruby"> [[ -n &quot;$ZSH_VERSION&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  __rvm_string_match()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">    typeset _string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">    _string=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    while (( $# ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">      eval &quot;\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">      case \&quot;\${_string}\&quot; in\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">        ($1) return 0 ;;\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">      esac\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">      &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">      shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">  __rvm_string_match()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="2202" data-linenumber="43">
          <span class="hits">2202</span>
          
          <code class="ruby">    typeset _string</code>
        </li>
      
        <li class="covered" data-hits="2202" data-linenumber="44">
          <span class="hits">2202</span>
          
          <code class="ruby">    _string=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="2202" data-linenumber="45">
          <span class="hits">2202</span>
          
          <code class="ruby">    shift</code>
        </li>
      
        <li class="covered" data-hits="3690" data-linenumber="46">
          <span class="hits">3690</span>
          
          <code class="ruby">    while (( $# ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="2230" data-linenumber="48">
          <span class="hits">2230</span>
          
          <code class="ruby">      case &quot;${_string}&quot; in</code>
        </li>
      
        <li class="covered" data-hits="742" data-linenumber="49">
          <span class="hits">742</span>
          
          <code class="ruby">        ($1) return 0 ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="covered" data-hits="1488" data-linenumber="51">
          <span class="hits">1488</span>
          
          <code class="ruby">      shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="1460" data-linenumber="53">
          <span class="hits">1460</span>
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">__rvm_array_contains()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">  typeset _search _iterator</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">  _search=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">  for _iterator</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    case &quot;${_iterator}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">      (${_search}) return 0 ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">__rvm_array_add_or_update()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="73">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset _array_name _variable _separator _value _local_value</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="74">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset -a _array_value_old _array_value_new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="76">
          <span class="hits">1</span>
          
          <code class="ruby">  _array_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="77">
          <span class="hits">1</span>
          
          <code class="ruby">  _variable=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="78">
          <span class="hits">1</span>
          
          <code class="ruby">  _separator=&quot;$3&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="79">
          <span class="hits">1</span>
          
          <code class="ruby">  _value=&quot;${4##${_separator}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="80">
          <span class="hits">1</span>
          
          <code class="ruby">  _array_value_new=()</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="81">
          <span class="hits">2</span>
          
          <code class="ruby">  eval &quot;_array_value_old=( \&quot;\${${_array_name}[@]}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot; ${_array_value_old[*]} &quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">    (*[[:space:]]${_variable}*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">      for _local_value in &quot;${_array_value_old[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="87">
          
          
          <code class="ruby">        case &quot;${_local_value}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">          (${_variable}*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">            _array_value_new+=( &quot;${_local_value}${_separator}${_value}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">          (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">            _array_value_new+=( &quot;${_local_value}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">      _array_value_new=( &quot;${_array_value_old[@]}&quot; &quot;${_variable}${_value}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="102">
          <span class="hits">2</span>
          
          <code class="ruby">  eval &quot;${_array_name}=( \&quot;\${_array_value_new[@]}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">__rvm_array_prepend_or_ignore()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="107">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset _array_name _variable _separator _value _local_value</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="108">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset -a _array_value_old _array_value_new</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="110">
          <span class="hits">3</span>
          
          <code class="ruby">  _array_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="111">
          <span class="hits">3</span>
          
          <code class="ruby">  _variable=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="112">
          <span class="hits">3</span>
          
          <code class="ruby">  _separator=&quot;$3&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="113">
          <span class="hits">3</span>
          
          <code class="ruby">  _value=&quot;$4&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="114">
          <span class="hits">3</span>
          
          <code class="ruby">  _array_value_new=()</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="115">
          <span class="hits">6</span>
          
          <code class="ruby">  eval &quot;_array_value_old=( \&quot;\${${_array_name}[@]}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="117">
          <span class="hits">3</span>
          
          <code class="ruby">  case &quot; ${_array_value_old[*]} &quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">    (*[[:space:]]${_variable}*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">      for _local_value in &quot;${_array_value_old[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">        case &quot;${_local_value}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">          (${_variable}*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="123">
          <span class="hits">1</span>
          
          <code class="ruby">            rvm_debug &quot;__rvm_array_prepend_or_ignore ${_array_name} ${_variable}\&quot;${_value}${_separator}${_local_value#${_variable}}\&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">            _array_value_new+=( &quot;${_variable}${_value}${_separator}${_local_value#${_variable}}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">          (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="127">
          
          
          <code class="ruby">            _array_value_new+=( &quot;${_local_value}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="131">
          <span class="hits">2</span>
          
          <code class="ruby">      eval &quot;${_array_name}=( \&quot;\${_array_value_new[@]}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"># Drop in replacement for sed -i compatible with OpenBSD</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"># Assumes that filename is the first argument, all others are passed onto sed</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">__rvm_sed_i()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="140">
          <span class="hits">20</span>
          
          <code class="ruby">  typeset _filename _executable</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="141">
          <span class="hits">20</span>
          
          <code class="ruby">  [[ -n &quot;${1:-}&quot; ]] || {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="142">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_debug &quot;no file given for __rvm_sed_i&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="143">
          <span class="hits">1</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="145">
          <span class="hits">19</span>
          
          <code class="ruby">  _filename=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="146">
          <span class="hits">19</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="148">
          <span class="hits">19</span>
          
          <code class="ruby">  if [[ -x &quot;${_filename}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="149">
          <span class="hits">14</span>
          
          <code class="ruby">  then _executable=true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="153">
          <span class="hits">19</span>
          
          <code class="ruby">    \sed &quot;$@&quot; &lt; &quot;${_filename}&quot; &gt; &quot;${_filename}.new&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="154">
          <span class="hits">19</span>
          
          <code class="ruby">    \mv -f &quot;${_filename}.new&quot; &quot;${_filename}&quot;</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="155">
          <span class="hits">19</span>
          
          <code class="ruby">  } 2&gt;&amp;1 | rvm_debug_stream</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="157">
          <span class="hits">19</span>
          
          <code class="ruby">  if [[ -n &quot;${_executable:-}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="158">
          <span class="hits">14</span>
          
          <code class="ruby">  then chmod +x &quot;${_filename}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby"># duplication marker dfkjdjngdfjngjcszncv</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby"># Drop in cd which _desotn't_ respect cdpath</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">__rvm_cd()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="166">
          <span class="hits">104</span>
          
          <code class="ruby">    typeset old_cdpath ret</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="167">
          <span class="hits">104</span>
          
          <code class="ruby">    ret=0</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="168">
          <span class="hits">104</span>
          
          <code class="ruby">    old_cdpath=&quot;${CDPATH}&quot;</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="169">
          <span class="hits">104</span>
          
          <code class="ruby">    CDPATH=&quot;.&quot;</code>
        </li>
      
        <li class="covered" data-hits="210" data-linenumber="170">
          <span class="hits">210</span>
          
          <code class="ruby">    chpwd_functions=&quot;&quot; builtin cd &quot;$@&quot; || ret=$?</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="171">
          <span class="hits">104</span>
          
          <code class="ruby">    CDPATH=&quot;${old_cdpath}&quot;</code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="172">
          <span class="hits">104</span>
          
          <code class="ruby">    return $ret</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby"># Drop in replacement for which compatible with OSX / ZSH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">__rvm_which()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="178">
          <span class="hits">408</span>
          
          <code class="ruby">  if command which --skip-alias --skip-functions which &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">  then command which --skip-alias --skip-functions &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="180">
          <span class="hits">408</span>
          
          <code class="ruby">  elif command whence whence &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">  then command whence -p &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="182">
          <span class="hits">408</span>
          
          <code class="ruby">  elif command which which &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="183">
          <span class="hits">408</span>
          
          <code class="ruby">  then command which &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">  elif which which &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">  then which &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">  else return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">is_a_function()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="164" data-linenumber="192">
          <span class="hits">164</span>
          
          <code class="ruby">  typeset -f $1 &gt;/dev/null 2&gt;&amp;1 || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">is_parent_of()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">  typeset name pid ppid pname</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="198">
          
          
          <code class="ruby">  name=$1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">  pid=$2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">  while [[ -n &quot;$pid&quot; &amp;&amp; &quot;$pid&quot; != &quot;0&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="202">
          
          
          <code class="ruby">    read ppid pname &lt; &lt;(ps -p $pid -o ppid= -o comm=)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">    if [[ -n &quot;$ppid&quot; &amp;&amp; -n &quot;$pname&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">      if [[ &quot;$pname&quot; == &quot;$name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="207">
          
          
          <code class="ruby">        echo $pid</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="208">
          
          
          <code class="ruby">        return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="210">
          
          
          <code class="ruby">        pid=$ppid</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">      break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="216">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">__function_on_stack()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="221">
          <span class="hits">296</span>
          
          <code class="ruby">  typeset fun</code>
        </li>
      
        <li class="covered" data-hits="876" data-linenumber="222">
          <span class="hits">876</span>
          
          <code class="ruby">  for fun in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="876" data-linenumber="224">
          <span class="hits">876</span>
          
          <code class="ruby">    if [[ &quot; ${FUNCNAME[*]} &quot; =~ &quot; $fun &quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="225">
          <span class="hits">9</span>
          
          <code class="ruby">    then return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="226">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="287" data-linenumber="228">
          <span class="hits">287</span>
          
          <code class="ruby">  return $#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="bcdd5fcf12606b799d19e93755e38db2584283bb">
  <div class="header">
    <h3>/usr/local/rvm/scripts/functions/utility</h3>
    <h4><span class="red">47.12 %</span> covered</h4>
    <div>
      <b>416</b> relevant lines. 
      <span class="green"><b>196</b> lines covered</span> and
      <span class="red"><b>220</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">printenv_null()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="5">
          <span class="hits">3</span>
          
          <code class="ruby">  if printenv --null &gt;/dev/null 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="7">
          <span class="hits">3</span>
          
          <code class="ruby">    printenv --null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">    # this messes with escape sequences but allows new lines in variables</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">    printenv | sed '/=/ { s/=.*$//; p; }; d;' | while read name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">      zero=&quot;\0&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">      eval &quot;eval \&quot;printf '%b' '$name=\$$name$zero'\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"># RVM specific functions.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">__rvm_warn_on_rubyopt()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="24">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -n &quot;${RUBYOPT:-&quot;&quot;}&quot; ]]; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">    rvm_warn \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">      &quot;Please note: You have the RUBYOPT environment variable set and this \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">            may interfere with normal rvm operations. We sugges unsetting it.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="30">
          <span class="hits">1</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">__rvm_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">  typeset strings ruby_strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">  ruby_strings=($(echo ${rvm_ruby_args:-$rvm_ruby_string}))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">  for rvm_ruby_string in &quot;${ruby_strings[@]}&quot; ; do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    strings=&quot;$strings $(__rvm_select ; echo $rvm_ruby_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">  echo $strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"># Return a list of directories under a given base path.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby"># Derived from rvm_ruby_string.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">__rvm_ruby_string_paths_under()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="53">
          <span class="hits">5</span>
          
          <code class="ruby">  typeset __search_path part parts IFS</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="54">
          <span class="hits">5</span>
          
          <code class="ruby">  IFS=&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="56">
          <span class="hits">5</span>
          
          <code class="ruby">  __search_path=&quot;${1%/}&quot; # Strip off any trailing slash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="58">
          <span class="hits">5</span>
          
          <code class="ruby">  if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">  then parts=(${=rvm_ruby_string//-/ })</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="60">
          <span class="hits">5</span>
          
          <code class="ruby">  else parts=(${rvm_ruby_string//-/ }) # Strip white space.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="63">
          <span class="hits">5</span>
          
          <code class="ruby">  echo &quot;$__search_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="64">
          <span class="hits">19</span>
          
          <code class="ruby">  for part in &quot;${parts[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="66">
          <span class="hits">19</span>
          
          <code class="ruby">    __search_path=&quot;$__search_path/$part&quot;</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="67">
          <span class="hits">19</span>
          
          <code class="ruby">    echo &quot;$__search_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"># Run a specified command and log it.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">__rvm_run()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="74">
          <span class="hits">6</span>
          
          <code class="ruby">  typeset name message</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="75">
          <span class="hits">6</span>
          
          <code class="ruby">  typeset -a _command_array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="77">
          <span class="hits">6</span>
          
          <code class="ruby">  name=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="78">
          <span class="hits">12</span>
          
          <code class="ruby">  eval &quot;_command_array=( ${2:-} )&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="79">
          <span class="hits">6</span>
          
          <code class="ruby">  message=&quot;${3:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="81">
          <span class="hits">6</span>
          
          <code class="ruby">  __rvm_log_command &quot;$name&quot; &quot;$message&quot; &quot;${_command_array[@]}&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby"># Run a specified command and log it.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">__rvm_log_command()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="87">
          <span class="hits">37</span>
          
          <code class="ruby">  typeset name message _log _command_start _command_name</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="88">
          <span class="hits">37</span>
          
          <code class="ruby">  typeset -a _command</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="90">
          <span class="hits">37</span>
          
          <code class="ruby">  name=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="91">
          <span class="hits">37</span>
          
          <code class="ruby">  message=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="92">
          <span class="hits">37</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="93">
          <span class="hits">37</span>
          
          <code class="ruby">  _command=( &quot;$@&quot; )   # store full command so we can manipulate it</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="94">
          <span class="hits">37</span>
          
          <code class="ruby">  _command_start=&quot;$1&quot; # store first part so we can detect variables</code>
        </li>
      
        <li class="covered" data-hits="100" data-linenumber="95">
          <span class="hits">100</span>
          
          <code class="ruby">  while (( $# )) &amp;&amp; [[ &quot;$1&quot; =~ &quot;=&quot; ]] # skip variables from beginning</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="96">
          <span class="hits">13</span>
          
          <code class="ruby">  do shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="98">
          <span class="hits">37</span>
          
          <code class="ruby">  _command_name=&quot;$1&quot;  # store the real command so we can detect functions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="100">
          <span class="hits">44</span>
          
          <code class="ruby">  [[ ! &quot;${_command_start}&quot; =~ &quot;=&quot; ]] || _command=( &quot;env&quot; &quot;${_command[@]}&quot; )</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="101">
          <span class="hits">37</span>
          
          <code class="ruby">  (( ${rvm_niceness:-0} == 0 ))      || _command=( nice -n $rvm_niceness &quot;${_command[@]}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="103">
          <span class="hits">37</span>
          
          <code class="ruby">  _log=&quot;${rvm_log_path}${rvm_ruby_string:+/}${rvm_ruby_string:-}/$name.log&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="104">
          <span class="hits">37</span>
          
          <code class="ruby">  rvm_debug &quot;Log file: ${_log}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="106">
          <span class="hits">37</span>
          
          <code class="ruby">  [[ -d &quot;${_log%\/*}&quot; ]] || \mkdir -p &quot;${_log%\/*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="107">
          <span class="hits">37</span>
          
          <code class="ruby">  [[ -f &quot;${_log}&quot;     ]] || \rm -f &quot;${_log}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="74" data-linenumber="109">
          <span class="hits">74</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;[$(date +'%Y-%m-%d %H:%M:%S')] ${_command_name}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="110">
          <span class="hits">37</span>
          
          <code class="ruby">    if is_a_function &quot;${_command_name}&quot;</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="111">
          <span class="hits">24</span>
          
          <code class="ruby">    then typeset -f  &quot;${_command_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="113">
          <span class="hits">29</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;current path: $PWD\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="114">
          <span class="hits">21</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;command(${#_command[@]}): ${_command[*]}\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="74" data-linenumber="115">
          <span class="hits">74</span>
          
          <code class="ruby">  } | tee &quot;${_log}&quot; | rvm_debug_stream</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="117">
          <span class="hits">37</span>
          
          <code class="ruby">  __rvm_log_dotted &quot;${_log}&quot; &quot;$message&quot; &quot;${_command[@]}&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="119">
          
          
          <code class="ruby">    typeset result=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">    rvm_error &quot;Error running '${_command[*]}',</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">please read ${_log}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">    return ${result}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"># Output the current ruby's rvm source path.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">__rvm_source_dir()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">  if [[ ${rvm_ruby_selected_flag:-0} -eq 0 ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">  then __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">  if [[ -z &quot;$rvm_ruby_src_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">    rvm_error &quot;No source directory exists for the default implementation.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="137">
          
          
          <code class="ruby">    echo &quot;$rvm_ruby_src_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"># Output an inspection of selected 'binary' scripts, based on CLI selection.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">__rvm_inspect()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">  for binary in $rvm_ruby_args</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">    actual_file=&quot;$(unset -f gem ; builtin command -v gem )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="149">
          
          
          <code class="ruby">    rvm_log &quot;$actual_file:&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">    if [[ ${rvm_shebang_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">      \head -n 1    &lt; &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">    if [[ ${rvm_env_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">      \awk '/ENV/'  &lt; &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="160">
          
          
          <code class="ruby">    if [[ ${rvm_path_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">      \awk '/PATH/' &lt; &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">    if [[ ${rvm_head_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">      \head -n 5    &lt; &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="170">
          
          
          <code class="ruby">    if [[ ${rvm_tail_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">      \tail -n 5    &lt; &quot;$actual_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">    if [[ ${rvm_all_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="177">
          
          
          <code class="ruby">      \cat $actual_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby"># Strip whitespace and normalize it all.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">__rvm_strip()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="187">
          <span class="hits">26</span>
          
          <code class="ruby">  \sed -e 's/^[[:space:]]*//' -e 's/[[:space:]]*$//' -e 's/[[:space:]]\{1,\}/ /g'</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="188">
          <span class="hits">26</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby"># remove all entries from $PATH starting with $1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">__rvm_remove_from_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="194">
          <span class="hits">408</span>
          
          <code class="ruby">  export PATH</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="195">
          <span class="hits">408</span>
          
          <code class="ruby">  typeset _value</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="196">
          <span class="hits">408</span>
          
          <code class="ruby">  _value=&quot;${1//+(\/)//}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">  # remove multiple slashes https://github.com/wayneeseguin/rvm/issues/1364</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="200">
          <span class="hits">408</span>
          
          <code class="ruby">    [[ &quot;$PATH&quot; =~ &quot;//&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="202">
          
          
          <code class="ruby">    if [[ `uname -s` = &quot;Darwin&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">    then PATH=&quot;$(sed -E 's#/+#/#g' &lt;&lt;&lt;$PATH)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="204">
          
          
          <code class="ruby">    else PATH=&quot;$(sed -r 's#/+#/#g' &lt;&lt;&lt;$PATH)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="408" data-linenumber="209">
          <span class="hits">408</span>
          
          <code class="ruby">    __rvm_string_match &quot;:$PATH:&quot; &quot;*:${_value}:*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="211">
          <span class="hits">203</span>
          
          <code class="ruby">      typeset -a _path</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="212">
          <span class="hits">203</span>
          
          <code class="ruby">      _path=()</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="213">
          <span class="hits">203</span>
          
          <code class="ruby">      __rvm_custom_separated_array _path : &quot;${PATH}&quot;</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="214">
          <span class="hits">203</span>
          
          <code class="ruby">      __rvm_remove_from_array _path &quot;${_value}&quot; &quot;${_path[@]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="215">
          <span class="hits">203</span>
          
          <code class="ruby">      __rvm_join_array PATH : _path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">__rvm_add_to_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="221">
          <span class="hits">1</span>
          
          <code class="ruby">  export PATH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="223">
          <span class="hits">2</span>
          
          <code class="ruby">  if (( $# != 2 )) || [[ -z &quot;$2&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="225">
          
          
          <code class="ruby">    rvm_error &quot;__rvm_add_to_path requires two parameters&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="227">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="229">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_remove_from_path &quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="230">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="231">
          <span class="hits">1</span>
          
          <code class="ruby">    prepend) PATH=&quot;$2:$PATH&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">    append)  PATH=&quot;$PATH:$2&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">    #*) anything else will just remove it from PATH - not adding back</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="237">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_user_path_prefix:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">    __rvm_remove_from_path &quot;${rvm_user_path_prefix}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="240">
          
          
          <code class="ruby">    PATH=&quot;${rvm_user_path_prefix}:$PATH&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="242">
          <span class="hits">1</span>
          
          <code class="ruby">  builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby">rvm_is_a_shell_function()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="114" data-linenumber="247">
          <span class="hits">114</span>
          
          <code class="ruby">  typeset _message</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="114" data-linenumber="249">
          <span class="hits">114</span>
          
          <code class="ruby">    (( ${rvm_is_not_a_shell_function:-0} )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="250">
          <span class="hits">8</span>
          
          <code class="ruby">    [[ &quot;${1:-}&quot; != &quot;no_warning&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="252">
          <span class="hits">1</span>
          
          <code class="ruby">    if rvm_pretty_print stderr</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="253">
          
          
          <code class="ruby">    then rvm_log &quot;&quot; # newline when error is shown to user</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="255">
          <span class="hits">1</span>
          
          <code class="ruby">    if rvm_pretty_print stderr</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">    then rvm_log &quot;RVM is not a function, selecting rubies with '${rvm_error_clr:-}rvm use ...${rvm_notify_clr:-}' will not work.&quot; &gt;&amp;2</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="257">
          <span class="hits">1</span>
          
          <code class="ruby">    else rvm_error &quot;RVM is not a function, selecting rubies with 'rvm use ...' will not work.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">    rvm_warn '</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="260">
          
          
          <code class="ruby">You need to change your terminal emulator preferences to allow login shell.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="261">
          
          
          <code class="ruby">Sometimes it is required to use `/bin/bash --login` as the command.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">Please visit https://rvm.io/integration/gnome-terminal/ for a example.</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="263">
          <span class="hits">1</span>
          
          <code class="ruby">'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="114" data-linenumber="265">
          <span class="hits">114</span>
          
          <code class="ruby">  return ${rvm_is_not_a_shell_function:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">__rvm_detect_xcode_version()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="270">
          
          
          <code class="ruby">  typeset version_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="272">
          
          
          <code class="ruby">  for version_file in \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="273">
          
          
          <code class="ruby">    /Applications/Xcode.app/Contents/version.plist \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="274">
          
          
          <code class="ruby">    /Developer/Applications/Xcode.app/Contents/version.plist</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="276">
          
          
          <code class="ruby">    if [[ -f $version_file ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="278">
          
          
          <code class="ruby">      if [[ -x /usr/libexec/PlistBuddy ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="280">
          
          
          <code class="ruby">        /usr/libexec/PlistBuddy -c &quot;Print CFBundleShortVersionString&quot; $version_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">        sed -n '/&lt;key&gt;CFBundleShortVersionString&lt;\/key&gt;/{n; s/^.*&gt;\(.*\)&lt;.*$/\1/; p;}' &lt; $version_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="284">
          
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="285">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="288">
          
          
          <code class="ruby">  if builtin command -v xcodebuild &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="290">
          
          
          <code class="ruby">    xcodebuild -version | sed -n '/Xcode/ {s/Xcode //; p;}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">__rvm_detect_xcode_version_is()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="296">
          
          
          <code class="ruby">  [[ &quot;$(__rvm_detect_xcode_version)&quot; == &quot;$1&quot; ]] || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="297">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">__rvm_version_compare()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="301">
          <span class="hits">223</span>
          
          <code class="ruby">  typeset first</code>
        </li>
      
        <li class="covered" data-hits="1115" data-linenumber="302">
          <span class="hits">1115</span>
          
          <code class="ruby">  first=&quot;$( printf &quot;%b&quot; &quot;$1\n$3\n&quot; | LC_ALL=C sort -t. -k 1,1n -k 2,2n -k 3,3n -k 4,4n -k 5,5n | head -n1 )&quot;</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="303">
          <span class="hits">223</span>
          
          <code class="ruby">  case &quot;$2&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="304">
          
          
          <code class="ruby">    (-eq|==|=)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="305">
          
          
          <code class="ruby">      [[ &quot;$1&quot; == &quot;$3&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="307">
          
          
          <code class="ruby">    (-gt|\&gt;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="308">
          
          
          <code class="ruby">      [[ &quot;$1&quot; != &quot;$3&quot; &amp;&amp; &quot;$first&quot; == &quot;$1&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="310">
          
          
          <code class="ruby">    (-ge|\&gt;=)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="311">
          
          
          <code class="ruby">      [[ &quot;$1&quot; == &quot;$3&quot; || &quot;$first&quot; == &quot;$1&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">    (-lt|\&lt;)</code>
        </li>
      
        <li class="covered" data-hits="669" data-linenumber="314">
          <span class="hits">669</span>
          
          <code class="ruby">      [[ &quot;$1&quot; != &quot;$3&quot; &amp;&amp; &quot;$first&quot; == &quot;$2&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="316">
          
          
          <code class="ruby">    (-le|\&lt;=)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="317">
          
          
          <code class="ruby">      [[ &quot;$1&quot; == &quot;$3&quot; || &quot;$first&quot; == &quot;$3&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="319">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="320">
          
          
          <code class="ruby">      rvm_error &quot;Unsupported operator '$2'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="324">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">__rvm_pager_or_cat_v()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="329">
          
          
          <code class="ruby">  eval &quot;${PAGER:-cat -v} '$1'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="332">
          
          
          <code class="ruby">__rvm_ask_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="334">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset response</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="335">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_warn &quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;(anything other than '$2' will cancel) &gt; &quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="337">
          <span class="hits">1</span>
          
          <code class="ruby">  read response || return $?</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="338">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ &quot;$2&quot; == &quot;$response&quot; ]] || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="339">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby"># read lines from file / stdin(-)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">__rvm_read_lines()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="344">
          <span class="hits">16</span>
          
          <code class="ruby">  typeset IFS</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">  # NEW LINE, BE CAREFUL</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="346">
          
          
          <code class="ruby">  IFS=&quot;</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="347">
          <span class="hits">16</span>
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="348">
          <span class="hits">16</span>
          
          <code class="ruby">  if [[ &quot;${2:--}&quot; == &quot;-&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="349">
          <span class="hits">15</span>
          
          <code class="ruby">  then eval &quot;$1=( \$( cat - ) )&quot;</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="350">
          <span class="hits">33</span>
          
          <code class="ruby">  else eval &quot;$1=( \$( cat \&quot;\${2:--}\&quot; ) )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby"># parse comma separated string into an array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby"># Ex. __rvm_custom_separated_array strings - ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby"># adds all elements from `ruby_string` to `strings` array</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby">__rvm_custom_separated_array()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="358">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="757" data-linenumber="359">
          <span class="hits">757</span>
          
          <code class="ruby">  typeset IFS</code>
        </li>
      
        <li class="covered" data-hits="757" data-linenumber="360">
          <span class="hits">757</span>
          
          <code class="ruby">  IFS=$2</code>
        </li>
      
        <li class="covered" data-hits="757" data-linenumber="361">
          <span class="hits">757</span>
          
          <code class="ruby">  if [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="362">
          
          
          <code class="ruby">  then eval &quot;$1+=( \${=3} )&quot;</code>
        </li>
      
        <li class="covered" data-hits="1514" data-linenumber="363">
          <span class="hits">1514</span>
          
          <code class="ruby">  else eval &quot;$1+=( \$3 )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">__rvm_remove_from_array()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="205" data-linenumber="369">
          <span class="hits">205</span>
          
          <code class="ruby">  typeset _array_name _search _iterator</code>
        </li>
      
        <li class="covered" data-hits="205" data-linenumber="370">
          <span class="hits">205</span>
          
          <code class="ruby">  typeset -a _temp_array</code>
        </li>
      
        <li class="covered" data-hits="205" data-linenumber="371">
          <span class="hits">205</span>
          
          <code class="ruby">  _array_name=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="205" data-linenumber="372">
          <span class="hits">205</span>
          
          <code class="ruby">  _search=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="205" data-linenumber="373">
          <span class="hits">205</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="covered" data-hits="205" data-linenumber="374">
          <span class="hits">205</span>
          
          <code class="ruby">  _temp_array=()</code>
        </li>
      
        <li class="covered" data-hits="1745" data-linenumber="375">
          <span class="hits">1745</span>
          
          <code class="ruby">  for _iterator</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="2976" data-linenumber="377">
          <span class="hits">2976</span>
          
          <code class="ruby">    __rvm_string_match &quot;$_iterator&quot; &quot;$_search&quot; || _temp_array+=( &quot;$_iterator&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="378">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="410" data-linenumber="379">
          <span class="hits">410</span>
          
          <code class="ruby">  eval &quot;$_array_name=( \&quot;\${_temp_array[@]}\&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="381">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">__rvm_join_array()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="384">
          <span class="hits">203</span>
          
          <code class="ruby">  typeset IFS</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="385">
          <span class="hits">203</span>
          
          <code class="ruby">  IFS=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="406" data-linenumber="386">
          <span class="hits">406</span>
          
          <code class="ruby">  eval &quot;$1=\&quot;\${$3[*]}\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby">__rvm_find_first_file()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="390">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="95" data-linenumber="391">
          <span class="hits">95</span>
          
          <code class="ruby">  typeset _first_file _variable_first_file __file_enum</code>
        </li>
      
        <li class="covered" data-hits="95" data-linenumber="392">
          <span class="hits">95</span>
          
          <code class="ruby">  _first_file=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="95" data-linenumber="393">
          <span class="hits">95</span>
          
          <code class="ruby">  _variable_first_file=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="95" data-linenumber="394">
          <span class="hits">95</span>
          
          <code class="ruby">  shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="396">
          <span class="hits">296</span>
          
          <code class="ruby">  for __file_enum in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="399">
          <span class="hits">296</span>
          
          <code class="ruby">      [[ -f &quot;$__file_enum&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="148" data-linenumber="401">
          <span class="hits">148</span>
          
          <code class="ruby">      eval &quot;$_variable_first_file=\&quot;\$__file_enum\&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="74" data-linenumber="402">
          <span class="hits">74</span>
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="42" data-linenumber="405">
          <span class="hits">42</span>
          
          <code class="ruby">  eval &quot;$_variable_first_file=\&quot;\&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="406">
          <span class="hits">21</span>
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="407">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="409">
          
          
          <code class="ruby">__rvm_detect_system()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="410">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="411">
          <span class="hits">5</span>
          
          <code class="ruby">  unset  _system_type _system_name _system_version _system_arch</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="412">
          <span class="hits">5</span>
          
          <code class="ruby">  export _system_type _system_name _system_version _system_arch</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="413">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_type=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="414">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_name=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="415">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_version=&quot;unknown&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="416">
          <span class="hits">10</span>
          
          <code class="ruby">  _system_arch=&quot;$(uname -m)&quot;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="417">
          <span class="hits">15</span>
          
          <code class="ruby">  case &quot;$(uname)&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="418">
          
          
          <code class="ruby">    (Linux)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="419">
          <span class="hits">5</span>
          
          <code class="ruby">      _system_type=&quot;linux&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="421">
          <span class="hits">5</span>
          
          <code class="ruby">        [[ -f /etc/lsb-release ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="422">
          
          
          <code class="ruby">        GREP_OPTIONS=&quot;&quot; \grep &quot;DISTRIB_ID=Ubuntu&quot; /etc/lsb-release &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="423">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="424">
          
          
          <code class="ruby">        _system_name=&quot;ubuntu&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="425">
          
          
          <code class="ruby">        _system_version=&quot;$(awk -F'=' '$1==&quot;DISTRIB_RELEASE&quot;{print $2}' /etc/lsb-release)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="426">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="427">
          <span class="hits">5</span>
          
          <code class="ruby">        [[ -f /etc/os-release ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="428">
          <span class="hits">10</span>
          
          <code class="ruby">        GREP_OPTIONS=&quot;&quot; \grep &quot;ID=opensuse&quot; /etc/os-release &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="429">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="430">
          
          
          <code class="ruby">        _system_name=&quot;opensuse&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="431">
          
          
          <code class="ruby">        _system_version=&quot;$(awk -F'=' '$1==&quot;VERSION_ID&quot;{gsub(/&quot;/,&quot;&quot;);print $2}' /etc/os-release)&quot; #'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="432">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="433">
          <span class="hits">5</span>
          
          <code class="ruby">        [[ -f /etc/debian_version ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="435">
          <span class="hits">5</span>
          
          <code class="ruby">        _system_name=&quot;debian&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="436">
          <span class="hits">10</span>
          
          <code class="ruby">        _system_version=&quot;$(cat /etc/debian_version)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="437">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="438">
          
          
          <code class="ruby">        [[ -f /etc/fedora-release ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="440">
          
          
          <code class="ruby">        _system_name=&quot;fedora&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="441">
          
          
          <code class="ruby">        _system_version=&quot;$(\grep -Eo '[[:digit:]]+' /etc/fedora-release)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="442">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="443">
          
          
          <code class="ruby">        [[ -f /etc/centos-release ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="445">
          
          
          <code class="ruby">        _system_name=&quot;centos&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="446">
          
          
          <code class="ruby">        _system_version=&quot;$(\grep -Eo '[[:digit:]\.]+' /etc/centos-release  | awk -F. '{print $1&quot;.&quot;$2}')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="447">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="448">
          
          
          <code class="ruby">        [[ -f /etc/redhat-release ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="450">
          
          
          <code class="ruby">        if \grep CentOS /etc/redhat-release &gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="451">
          
          
          <code class="ruby">        then _system_name=&quot;centos&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="452">
          
          
          <code class="ruby">        else _system_name=&quot;redhat&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="453">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="454">
          
          
          <code class="ruby">        _system_version=&quot;$(\grep -Eo '[[:digit:]\.]+' /etc/redhat-release  | awk -F. '{print $1&quot;.&quot;$2}')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="455">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="456">
          
          
          <code class="ruby">        [[ -f /etc/gentoo-release ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="458">
          
          
          <code class="ruby">        _system_name=&quot;gentoo&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="459">
          
          
          <code class="ruby">        _system_version=&quot;base-$(cat /etc/gentoo-release | awk 'NR==1 {print $NF}' | awk -F. '{print $1&quot;.&quot;$2}')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="460">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="461">
          
          
          <code class="ruby">        [[ -f /etc/arch-release ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="463">
          
          
          <code class="ruby">        _system_name=&quot;arch&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="464">
          
          
          <code class="ruby">        _system_version=&quot;libc-$(ldd --version  | awk 'NR==1 {print $NF}' | awk -F. '{print $1&quot;.&quot;$2}')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="466">
          
          
          <code class="ruby">        _system_version=&quot;libc-$(ldd --version  | awk 'NR==1 {print $NF}' | awk -F. '{print $1&quot;.&quot;$2}')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="469">
          
          
          <code class="ruby">    (SunOS)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="470">
          
          
          <code class="ruby">      _system_type=&quot;sunos&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="471">
          
          
          <code class="ruby">      _system_name=&quot;solaris&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="472">
          
          
          <code class="ruby">      _system_version=&quot;$(uname -v)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="473">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="474">
          
          
          <code class="ruby">        __rvm_string_match &quot;${_system_version}&quot; &quot;joyent*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="475">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="476">
          
          
          <code class="ruby">        _system_name=&quot;smartos&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="477">
          
          
          <code class="ruby">        _system_version=&quot;${_system_version#* }&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="478">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="479">
          
          
          <code class="ruby">        __rvm_string_match  &quot;${_system_version}&quot; &quot;oi*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="481">
          
          
          <code class="ruby">        _system_name=&quot;openindiana&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="482">
          
          
          <code class="ruby">        _system_version=&quot;${_system_version#* }&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="483">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="485">
          
          
          <code class="ruby">    (OpenBSD)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="486">
          
          
          <code class="ruby">      _system_type=&quot;bsd&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="487">
          
          
          <code class="ruby">      _system_name=&quot;openbsd&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="488">
          
          
          <code class="ruby">      _system_version=&quot;$(uname -r)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="490">
          
          
          <code class="ruby">    (Darwin)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="491">
          
          
          <code class="ruby">      _system_type=&quot;darwin&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="492">
          
          
          <code class="ruby">      _system_name=&quot;osx&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="493">
          
          
          <code class="ruby">      _system_version=&quot;$(sw_vers -productVersion)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="494">
          
          
          <code class="ruby">      _system_version=&quot;${_system_version%.*}&quot; # only major.minor - teeny is ignored</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="496">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="497">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="500">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_type=&quot;${_system_type//[ \/]/_}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="501">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_name=&quot;${_system_name//[ \/]/_}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="502">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_version=&quot;${_system_version//[ \/]/_}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="503">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_arch=&quot;${_system_arch//[ \/]/_}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="504">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_arch=&quot;${_system_arch/amd64/x86_64}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="505">
          <span class="hits">5</span>
          
          <code class="ruby">  _system_arch=&quot;${_system_arch/i[123456789]86/i386}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="507">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby"># params: [printf_if=-] [suffix]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="509">
          
          
          <code class="ruby">__rvm_system_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="511">
          <span class="hits">12</span>
          
          <code class="ruby">  rvm_remote_server_path=&quot;$(__rvm_db &quot;rvm_remote_server_path${2:-}&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="512">
          <span class="hits">6</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_remote_server_path}&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="513">
          <span class="hits">4</span>
          
          <code class="ruby">  if __rvm_detect_system</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="514">
          <span class="hits">4</span>
          
          <code class="ruby">  then rvm_remote_server_path=&quot;${_system_name}/${_system_version}/${_system_arch}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="515">
          
          
          <code class="ruby">  else return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="516">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="517">
          <span class="hits">6</span>
          
          <code class="ruby">  if [[ &quot;${1:-}&quot; == &quot;-&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="518">
          <span class="hits">2</span>
          
          <code class="ruby">  then printf &quot;%b&quot; &quot;${rvm_remote_server_path}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">__rvm_system_path_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="524">
          
          
          <code class="ruby">  typeset _iterator rvm_remote_server_type rvm_remote_server_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="525">
          
          
          <code class="ruby">  _iterator=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">  while</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="527">
          
          
          <code class="ruby">    :</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="529">
          
          
          <code class="ruby">    rvm_remote_server_type=&quot;$(__rvm_db &quot;rvm_remote_server_type${_iterator}&quot;)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="530">
          
          
          <code class="ruby">    [[ -n &quot;${rvm_remote_server_type}&quot; ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="532">
          
          
          <code class="ruby">      [[ &quot;${rvm_remote_server_type}&quot; == &quot;$1&quot; || &quot;$1&quot; == &quot;all&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="533">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="534">
          
          
          <code class="ruby">      __rvm_system_path - &quot;${_iterator}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="536">
          
          
          <code class="ruby">    : $(( _iterator+=1 ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="537">
          
          
          <code class="ruby">  done | sort -u | tr &quot;\n&quot; &quot;|&quot; | sed 's/|$//'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="538">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="540">
          
          
          <code class="ruby">__rvm_remote_extension()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="542">
          <span class="hits">6</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="543">
          
          
          <code class="ruby">    *.tar.*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="544">
          
          
          <code class="ruby">      rvm_remote_extension=&quot;tar${1##*tar}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="546">
          
          
          <code class="ruby">    jruby-*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="547">
          
          
          <code class="ruby">      rvm_remote_extension=&quot;tar.gz&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="549">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="550">
          <span class="hits">6</span>
          
          <code class="ruby">      rvm_remote_extension=&quot;tar.bz2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="552">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="553">
          <span class="hits">11</span>
          
          <code class="ruby">  [[ &quot;$2&quot; != &quot;-&quot; ]] || printf &quot;%b&quot; &quot;${rvm_remote_extension}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="555">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="556">
          
          
          <code class="ruby"># params: ruby-string-to-transform</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby">__rvm_ruby_package_file()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="559">
          <span class="hits">9</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="560">
          
          
          <code class="ruby">    *.tar.*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="561">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_ruby_package_file=&quot;/$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="562">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="563">
          
          
          <code class="ruby">    jruby-*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="564">
          
          
          <code class="ruby">      typeset __version</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">      __version=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="566">
          
          
          <code class="ruby">        rvm_ruby_string=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="567">
          
          
          <code class="ruby">        __rvm_ruby_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="568">
          
          
          <code class="ruby">        echo &quot;$rvm_ruby_version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="569">
          
          
          <code class="ruby">      )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="570">
          
          
          <code class="ruby">      rvm_ruby_package_file=&quot;/${__version}/jruby-bin-${__version}.$(__rvm_remote_extension &quot;$1&quot; -)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="572">
          
          
          <code class="ruby">    &quot;&quot;)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="573">
          
          
          <code class="ruby">      rvm_ruby_package_file=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="574">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="575">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="576">
          <span class="hits">8</span>
          
          <code class="ruby">      rvm_ruby_package_file=&quot;/$1.$(__rvm_remote_extension &quot;$1&quot; -)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="578">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby">__rvm_calculate_remote_file()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="583">
          <span class="hits">10</span>
          
          <code class="ruby">  rvm_remote_server_url=&quot;$( __rvm_db &quot;rvm_remote_server_url${3:-}&quot; )&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="584">
          <span class="hits">5</span>
          
          <code class="ruby">  [[ -n &quot;$rvm_remote_server_url&quot; ]] || {</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="585">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_debug &quot;rvm_remote_server_url${3:-} not found&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="586">
          <span class="hits">1</span>
          
          <code class="ruby">    return $1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="588">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_system_path &quot;&quot; &quot;${3:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="589">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_ruby_package_file &quot;${4:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="590">
          <span class="hits">4</span>
          
          <code class="ruby">  __remote_file=&quot;${rvm_remote_server_url}/${rvm_remote_server_path}${rvm_ruby_package_file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="591">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby"># params: return_on_end return_on_failed_link [suffix] [file]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">__rvm_remote_server_path_single()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="595">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="596">
          <span class="hits">4</span>
          
          <code class="ruby">  typeset __remote_file</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="597">
          <span class="hits">4</span>
          
          <code class="ruby">  __rvm_calculate_remote_file &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="599">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -z &quot;${__remote_file:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="600">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="601">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_debug &quot;No remote file name found&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="602">
          <span class="hits">1</span>
          
          <code class="ruby">    return $1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="603">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="604">
          <span class="hits">3</span>
          
          <code class="ruby">    file_exists_at_url &quot;${__remote_file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="605">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="606">
          
          
          <code class="ruby">    rvm_debug &quot;Found remote file ${__remote_file}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="607">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;${__remote_file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="608">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="609">
          <span class="hits">3</span>
          
          <code class="ruby">    rvm_debug &quot;Remote file does not exist ${__remote_file}&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="610">
          <span class="hits">3</span>
          
          <code class="ruby">    return $2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="612">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="614">
          
          
          <code class="ruby"># params: [file_name]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby">__rvm_remote_server_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="616">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="617">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset _iterator</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="618">
          <span class="hits">1</span>
          
          <code class="ruby">  _iterator=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="619">
          <span class="hits">4</span>
          
          <code class="ruby">  while ! __rvm_remote_server_path_single 0 1 &quot;${_iterator}&quot; &quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="620">
          <span class="hits">3</span>
          
          <code class="ruby">  do : $(( _iterator+=1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="621">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="622">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby">__list_remote_all_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="625">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby">  #TODO: read the list from db</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="628">
          
          
          <code class="ruby">    __list_remote_rubies_for &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="629">
          
          
          <code class="ruby">    __list_remote_rbx_for    &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="630">
          
          
          <code class="ruby">    __list_remote_jruby_for  &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="631">
          
          
          <code class="ruby">  } | sort -u</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="632">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby">__list_remote_rubies_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="635">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="636">
          
          
          <code class="ruby">  typeset rvm_ruby_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="637">
          
          
          <code class="ruby">  rvm_ruby_url=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="638">
          
          
          <code class="ruby">  awk '/'&quot;${rvm_ruby_url//\//\/}&quot;'/{print}' &lt; $rvm_path/config/remote</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="639">
          
          
          <code class="ruby">  if [[ -f $rvm_user_path/remote ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="640">
          
          
          <code class="ruby">  then awk '/'&quot;${rvm_ruby_url//\//\/}&quot;'/{print}' &lt; $rvm_user_path/remote</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="644">
          
          
          <code class="ruby">__list_remote_rbx_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="646">
          
          
          <code class="ruby">  typeset rvm_ruby_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="647">
          
          
          <code class="ruby">  rvm_ruby_url=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="648">
          
          
          <code class="ruby">  curl -LsS http://binaries.rubini.us/ |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="649">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep -oE &quot;&lt;Key&gt;[^&lt;]+\.tar\.bz2&lt;/Key&gt;&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="650">
          
          
          <code class="ruby">    awk -F&quot;[&lt;&gt;]&quot; '/'&quot;${rvm_ruby_url//\//\/}&quot;'/{print &quot;http://binaries.rubini.us/&quot;$3}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="653">
          
          
          <code class="ruby">__list_remote_jruby_for()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="654">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="655">
          
          
          <code class="ruby">  typeset rvm_ruby_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="656">
          
          
          <code class="ruby">  rvm_ruby_url=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="657">
          
          
          <code class="ruby">  curl -LsS http://jruby.org.s3.amazonaws.com/ |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="658">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep -oE &quot;&lt;Key&gt;[^&lt;]+jruby-bin-[^&lt;]+\.tar\.gz&lt;/Key&gt;&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="659">
          
          
          <code class="ruby">    awk -F&quot;[&lt;&gt;]&quot; '/'&quot;${rvm_ruby_url//\//\/}&quot;'/{print &quot;http://jruby.org.s3.amazonaws.com/&quot;$3}' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="660">
          
          
          <code class="ruby">    sed 's/-bin-/-/'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="661">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="662">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="663">
          
          
          <code class="ruby">rubygems_detect_ruby_lib_gem_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="664">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="665">
          
          
          <code class="ruby">  ruby_lib_gem_path=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="666">
          
          
          <code class="ruby">    &quot;${1:-ruby}&quot; -rrbconfig -e &quot;puts ::Kernel.const_get('RbConfig')::CONFIG['rubylibprefix']||::Kernel.const_get('RbConfig')::CONFIG['prefix']</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="667">
          <span class="hits">2</span>
          
          <code class="ruby">  &quot;)/gems/&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="668">
          <span class="hits">6</span>
          
          <code class="ruby">  case &quot;$rvm_ruby_string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="669">
          
          
          <code class="ruby">    (jruby*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="670">
          
          
          <code class="ruby">      ruby_lib_gem_path+=&quot;shared&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="671">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="672">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="673">
          <span class="hits">4</span>
          
          <code class="ruby">      ruby_lib_gem_path+=&quot;$(&quot;${1:-ruby}&quot; -rrbconfig -e &quot;puts ::Kernel.const_get('RbConfig')::CONFIG['ruby_version']&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="675">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="676">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="677">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="678">
          
          
          <code class="ruby">__rvm_rubygems_create_link()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="680">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset ruby_lib_gem_path</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="681">
          <span class="hits">2</span>
          
          <code class="ruby">  rubygems_detect_ruby_lib_gem_path &quot;${1:-ruby}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="682">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">  # Add ruby's gem path to ruby's lib direcotry.</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="684">
          <span class="hits">4</span>
          
          <code class="ruby">  \mkdir -p &quot;$(dirname $ruby_lib_gem_path)&quot; &quot;$rvm_ruby_gem_home&quot; &quot;$rvm_ruby_global_gems_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="685">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="687">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -d &quot;$ruby_lib_gem_path&quot; &amp;&amp; ! -L &quot;$ruby_lib_gem_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="690">
          
          
          <code class="ruby">      [[ &quot;$rvm_ruby_gem_home&quot; != &quot;$rvm_ruby_global_gems_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="692">
          
          
          <code class="ruby">      \cp -f &quot;$ruby_lib_gem_path&quot;/* &quot;$rvm_ruby_global_gems_path&quot;/ 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="693">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="694">
          
          
          <code class="ruby">    \mv -f &quot;$ruby_lib_gem_path&quot;/* &quot;$rvm_ruby_gem_home&quot;/ 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="696">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_rm_rf &quot;$ruby_lib_gem_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="698">
          <span class="hits">2</span>
          
          <code class="ruby">  if [[ -d &quot;$rvm_ruby_gem_home&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="699">
          <span class="hits">2</span>
          
          <code class="ruby">  then ln -fs &quot;$rvm_ruby_gem_home&quot; &quot;$ruby_lib_gem_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="700">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="702">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="703">
          
          
          <code class="ruby"># Import the initial gemsets, unless skipped.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="704">
          
          
          <code class="ruby">__rvm_gemsets_initial()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="707">
          <span class="hits">2</span>
          
          <code class="ruby">    (( ${rvm_skip_gemsets_flag:-0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="709">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_log_command &quot;gemsets.initial&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="710">
          
          
          <code class="ruby">      &quot;$rvm_ruby_string - #importing default gemsets, this may take time ...&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="711">
          
          
          <code class="ruby">      __rvm_with &quot;$rvm_ruby_string&quot; &quot;$rvm_scripts_path/gemsets&quot; initial</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="713">
          <span class="hits">1</span>
          
          <code class="ruby">    mkdir -p &quot;$rvm_gems_path/$rvm_ruby_string/bin&quot; &quot;$rvm_gems_path/$rvm_ruby_string@global/bin&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="714">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;Skipped importing default gemsets&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="715">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="717">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby">file_exists_at_url()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">(</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="720">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="721">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -n &quot;${1:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="722">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="723">
          <span class="hits">3</span>
          
          <code class="ruby">    unset curl</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="724">
          <span class="hits">3</span>
          
          <code class="ruby">    \curl -slkL --max-time 3 --head &quot;$1&quot; 2&gt;&amp;1 |</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="725">
          <span class="hits">6</span>
          
          <code class="ruby">      GREP_OPTIONS=&quot;&quot; \grep -E 'HTTP/[0-9\.]+ 200 OK' &gt;/dev/null 2&gt;&amp;1 ||</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="726">
          <span class="hits">3</span>
          
          <code class="ruby">      return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="728">
          
          
          <code class="ruby">    rvm_log &quot;Warning: URL was not passed to file_exists_at_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="729">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="730">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="731">
          
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="733">
          
          
          <code class="ruby">__rvm_fix_group_permissions()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="734">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="735">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="736">
          <span class="hits">8</span>
          
          <code class="ruby">    umask -S | \grep 'g=rw' &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="737">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="738">
          <span class="hits">4</span>
          
          <code class="ruby">    chmod -R g+rwX &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="741">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby"># params: archive_file</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="743">
          
          
          <code class="ruby">__rvm_package_list()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="744">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="745">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_debug __rvm_package_list:$#: &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="746">
          <span class="hits">2</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="747">
          
          
          <code class="ruby">    *.zip)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="748">
          
          
          <code class="ruby">      unzip -Z -1 &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="750">
          
          
          <code class="ruby">    *.tar.bz2)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="751">
          <span class="hits">2</span>
          
          <code class="ruby">      ${rvm_tar_command:-tar} tjf &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="753">
          
          
          <code class="ruby">    *.tar.gz|*.tgz)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="754">
          
          
          <code class="ruby">      ${rvm_tar_command:-tar} tzf &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="756">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="757">
          
          
          <code class="ruby">      return 199</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="759">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="761">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="762">
          
          
          <code class="ruby"># params: archive_file [path]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="763">
          
          
          <code class="ruby">__rvm_package_extract()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="764">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="765">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_debug __rvm_package_extract:$#: &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="766">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ -d &quot;$2&quot; ]] || mkdir -p &quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="767">
          <span class="hits">3</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="768">
          
          
          <code class="ruby">    *.zip)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="769">
          
          
          <code class="ruby">      unzip -q -o &quot;$1&quot; -d &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="771">
          
          
          <code class="ruby">    *.tar.bz2)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="772">
          <span class="hits">2</span>
          
          <code class="ruby">      if [[ -n &quot;$ZSH_VERSION&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="773">
          
          
          <code class="ruby">      then ${rvm_tar_command:-tar} xjf &quot;$1&quot; -C &quot;$2&quot; ${=rvm_tar_options:-}</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="774">
          <span class="hits">2</span>
          
          <code class="ruby">      else ${rvm_tar_command:-tar} xjf &quot;$1&quot; -C &quot;$2&quot; ${rvm_tar_options:-}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="775">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="777">
          
          
          <code class="ruby">    *.tar.gz|*.tgz)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="778">
          <span class="hits">1</span>
          
          <code class="ruby">      if [[ -n &quot;$ZSH_VERSION&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="779">
          
          
          <code class="ruby">      then ${rvm_tar_command:-tar} xzf &quot;$1&quot; -C &quot;$2&quot; ${=rvm_tar_options:-}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="780">
          <span class="hits">1</span>
          
          <code class="ruby">      else ${rvm_tar_command:-tar} xzf &quot;$1&quot; -C &quot;$2&quot; ${rvm_tar_options:-}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="783">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="784">
          
          
          <code class="ruby">      return 199</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="786">
          
          
          <code class="ruby">  esac &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="787">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_fix_group_permissions &quot;$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="788">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="789">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="790">
          
          
          <code class="ruby"># params: archive_file [path [path2]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">__rvm_package_create()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="792">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="793">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_debug __rvm_package_create:$#: &quot;$@&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="794">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$1&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="795">
          
          
          <code class="ruby">    *.tar.bz2)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="796">
          <span class="hits">1</span>
          
          <code class="ruby">      if [[ -z &quot;${3:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="797">
          
          
          <code class="ruby">      then ${rvm_tar_command:-tar} cjf &quot;$1&quot; &quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="798">
          <span class="hits">1</span>
          
          <code class="ruby">      else ${rvm_tar_command:-tar} cjf &quot;$1&quot; -C &quot;$2&quot; &quot;$3&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="799">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="801">
          
          
          <code class="ruby">    *.tar.gz|*.tgz)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="802">
          
          
          <code class="ruby">      if [[ -z &quot;${3:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="803">
          
          
          <code class="ruby">      then ${rvm_tar_command:-tar} czf &quot;$1&quot; &quot;$2&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="804">
          
          
          <code class="ruby">      else ${rvm_tar_command:-tar} czf &quot;$1&quot; -C &quot;$2&quot; &quot;$3&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="807">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="808">
          
          
          <code class="ruby">      return 199</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="809">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="811">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="091ce7b7b73eb52abaafb7e7e2b7292275047b14">
  <div class="header">
    <h3>/usr/local/rvm/scripts/gemsets</h3>
    <h4><span class="red">52.85 %</span> covered</h4>
    <div>
      <b>562</b> relevant lines. 
      <span class="green"><b>297</b> lines covered</span> and
      <span class="red"><b>265</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="3">
          <span class="hits">63</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="4">
          <span class="hits">63</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/build&quot; # For gems with C extensions.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="6">
          <span class="hits">63</span>
          
          <code class="ruby">rvm_ruby_gem_home=&quot;${rvm_ruby_gem_home:-$GEM_HOME}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="68" data-linenumber="8">
          <span class="hits">68</span>
          
          <code class="ruby">if [[ ! -d &quot;$rvm_ruby_gem_home&quot; ]] &amp;&amp; builtin command -v gem &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="10">
          <span class="hits">10</span>
          
          <code class="ruby">  rvm_ruby_gem_home=&quot;$(gem env home)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">  cat -v &quot;${rvm_help_path}/gemset&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">gemset_list_all()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">  for rvm_ruby_string in $( rvm_project_rvmrc=0 rvm list strings )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    (__rvm_use ; gemset_list)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">  unset rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">gemset_list_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  typeset gem_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">  for rvm_ruby_string in $( rvm_project_rvmrc=0 rvm list strings )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">    for gem_string in &quot;${rvm_gems_path:-${rvm_path}/gems}/${rvm_ruby_string}&quot; &quot;${rvm_gems_path:-${rvm_path}/gems}/${rvm_ruby_string}${rvm_gemset_separator:-@}&quot;*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${gem_string##*/}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">  unset rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">gemset_update()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">  if [[ -z &quot;$rvm_ruby_strings&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    rvm_log &quot;Running gem update for all rubies and gemsets.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    rvm_ruby_strings=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">      __rvm_cd &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot; ;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">      find . -maxdepth 1 -mindepth 1 -type d -print 2&gt;/dev/null |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">        GREP_OPTIONS=&quot;&quot; \grep -v '^\(doc\|cache\|@\|system\)' | \tr '\n' ','</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">    )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    rvm_ruby_strings=&quot;${rvm_ruby_strings/%,}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">    rvm_ruby_strings=&quot;${rvm_ruby_strings//.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">    rvm_log &quot;Running gem update for the specified rubies.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">  export rvm_ruby_strings</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">  &quot;$rvm_scripts_path/set&quot; gem update</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="58">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">gemset_globalcache()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="63">
          <span class="hits">6</span>
          
          <code class="ruby">  typeset gc_status globalcache_enabled directories directory_name \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    full_directory_path directory_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="66">
          <span class="hits">6</span>
          
          <code class="ruby">  if [[ &quot;$1&quot; == &quot;enabled&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="68">
          <span class="hits">3</span>
          
          <code class="ruby">    if __rvm_using_gemset_globalcache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="70">
          <span class="hits">1</span>
          
          <code class="ruby">      gc_status=&quot;Enabled&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="71">
          <span class="hits">1</span>
          
          <code class="ruby">      globalcache_enabled=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="73">
          <span class="hits">2</span>
          
          <code class="ruby">      gc_status=&quot;Disabled&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="74">
          <span class="hits">2</span>
          
          <code class="ruby">      globalcache_enabled=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="76">
          <span class="hits">3</span>
          
          <code class="ruby">    rvm_log &quot;Gemset global cache is currently: $gc_status&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="77">
          <span class="hits">3</span>
          
          <code class="ruby">    return $globalcache_enabled</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="78">
          <span class="hits">3</span>
          
          <code class="ruby">  elif [[ &quot;$1&quot; == &quot;disable&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="80">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_log &quot;Removing the global cache (note: this will empty the caches)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="81">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_read_lines directories &lt; &lt;(</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="82">
          <span class="hits">2</span>
          
          <code class="ruby">      __rvm_cd &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot; ;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="83">
          <span class="hits">4</span>
          
          <code class="ruby">      find . -maxdepth 1 -mindepth 1 -type d -print | cut -c 3-</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="86">
          <span class="hits">38</span>
          
          <code class="ruby">    for directory_name in &quot;${directories[@]//.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="38" data-linenumber="88">
          <span class="hits">38</span>
          
          <code class="ruby">      current_cache_path=&quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/$directory_name/cache&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">      if [[ -L &quot;$current_cache_path&quot; \</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="90">
          <span class="hits">50</span>
          
          <code class="ruby">        &amp;&amp; &quot;$(readlink &quot;$current_cache_path&quot;)&quot; == &quot;$rvm_gems_cache_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="92">
          <span class="hits">6</span>
          
          <code class="ruby">        rvm_log &quot;Reverting the gem cache for $directory_name to an empty directory.&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="93">
          <span class="hits">6</span>
          
          <code class="ruby">        \rm -f &quot;$current_cache_path&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="94">
          <span class="hits">6</span>
          
          <code class="ruby">        mkdir -p &quot;$current_cache_path&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="97">
          <span class="hits">2</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/db&quot; &quot;use_gemset_globalcache&quot; &quot;delete&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="98">
          <span class="hits">1</span>
          
          <code class="ruby">  elif [[ &quot;$1&quot; == &quot;enable&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;Enabling global cache for gems.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">    mkdir -p &quot;$rvm_gems_cache_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="102">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_read_lines directories &lt; &lt;(</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_cd &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot; ;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="104">
          <span class="hits">2</span>
          
          <code class="ruby">      find . -maxdepth 1 -mindepth 1 -type d -print | cut -c 3-</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="105">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="106">
          <span class="hits">19</span>
          
          <code class="ruby">    for directory_name in &quot;${directories[@]//.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="19" data-linenumber="108">
          <span class="hits">19</span>
          
          <code class="ruby">      current_cache_path=&quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/$directory_name/cache&quot;</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="109">
          <span class="hits">25</span>
          
          <code class="ruby">      if [[ -d &quot;$current_cache_path&quot; &amp;&amp; ! -L &quot;$current_cache_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="111">
          <span class="hits">6</span>
          
          <code class="ruby">        rvm_log &quot;Moving the gem cache for $directory_name to the global cache.&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="112">
          <span class="hits">6</span>
          
          <code class="ruby">        \mv &quot;$current_cache_path/&quot;*.gem &quot;$rvm_gems_cache_path/&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="113">
          <span class="hits">6</span>
          
          <code class="ruby">        case &quot;${current_cache_path%\/}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">          *cache)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="115">
          <span class="hits">6</span>
          
          <code class="ruby">            __rvm_rm_rf &quot;$current_cache_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="116">
          <span class="hits">6</span>
          
          <code class="ruby">            ln -fs &quot;$rvm_gems_cache_path&quot; &quot;$current_cache_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="121">
          <span class="hits">1</span>
          
          <code class="ruby">    &quot;$rvm_scripts_path/db&quot; &quot;$rvm_user_path/db&quot; &quot;use_gemset_globalcache&quot; &quot;true&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">  Usage:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="127">
          
          
          <code class="ruby">    rvm gemset globalcache {enable,disable,enabled}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">    Enable / Disable / Status the use of a global gem cachedir.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">gemset_name()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">  echo &quot;${rvm_ruby_gem_home##*${rvm_gemset_separator:-&quot;@&quot;}}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">gemset_dir()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">  echo &quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">gemset_create()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="150">
          <span class="hits">10</span>
          
          <code class="ruby">  typeset gem_home gemset gemsets prefix</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="152">
          <span class="hits">20</span>
          
          <code class="ruby">  [[ -z &quot;$rvm_ruby_string&quot; ]] || __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="154">
          <span class="hits">30</span>
          
          <code class="ruby">  prefix=$(echo $rvm_ruby_gem_home | sed 's/'${rvm_gemset_separator:-&quot;@&quot;}'.*$//')</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="156">
          <span class="hits">10</span>
          
          <code class="ruby">  for gemset in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="159">
          <span class="hits">20</span>
          
          <code class="ruby">      [[ &quot;$(__rvm_env_string)&quot; == &quot;system&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">      rvm_error &quot;Can not create gemset before using a ruby.  Try 'rvm use &lt;some ruby&gt;'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="163">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="164">
          <span class="hits">10</span>
          
          <code class="ruby">      [[ &quot;$gemset&quot; == *&quot;${rvm_gemset_separator:-&quot;@&quot;}&quot;* ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">      rvm_error &quot;Can not create gemset '$gemset', it contains a \&quot;${rvm_gemset_separator:-&quot;@&quot;}\&quot;.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">      return 2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="168">
          
          
          <code class="ruby">    elif</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="169">
          <span class="hits">20</span>
          
          <code class="ruby">      [[ -z &quot;$gemset&quot; || &quot;$gemset&quot; == *&quot;${rvm_gemset_separator:-&quot;@&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">      rvm_error &quot;Can not create gemset '$gemset', Missing name. &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">      return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="175">
          <span class="hits">10</span>
          
          <code class="ruby">    gem_home=&quot;${prefix}${rvm_gemset_separator:-&quot;@&quot;}${gemset}&quot;</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="176">
          <span class="hits">20</span>
          
          <code class="ruby">    [[ -d &quot;$gem_home/bin&quot; ]] || mkdir -p &quot;$gem_home/bin&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="178">
          <span class="hits">10</span>
          
          <code class="ruby">    : rvm_gems_cache_path:${rvm_gems_cache_path:=${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/cache}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">    # When the globalcache is enabled, we need to ensure we setup the cache directory correctly.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="181">
          <span class="hits">10</span>
          
          <code class="ruby">      __rvm_using_gemset_globalcache</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="184">
          <span class="hits">1</span>
          
          <code class="ruby">        [[ -d &quot;$gem_home/cache&quot; &amp;&amp; ! -L &quot;$gem_home/cache&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">        \mv &quot;$gem_home/cache&quot;/*.gem &quot;$rvm_gems_cache_path/&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">        __rvm_rm_rf &quot;$gem_home/cache&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="189">
          <span class="hits">1</span>
          
          <code class="ruby">      ln -fs &quot;$rvm_gems_cache_path&quot; &quot;$gem_home/cache&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">      (</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="193">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_create_flag=1</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="194">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_verbose_flag=0</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="195">
          <span class="hits">20</span>
          
          <code class="ruby">        __rvm_select &quot;$(__rvm_env_string)${rvm_gemset_separator:-&quot;@&quot;}${gemset}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="198">
          <span class="hits">10</span>
          
          <code class="ruby">      rvm_log &quot;gemset created $gemset\t=&gt; $gem_home&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">      rvm_error &quot;Can not create environment file for '$gemset', Could not use ruby. &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="201">
          
          
          <code class="ruby">      return 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">__gemset_list_single()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="208">
          <span class="hits">40</span>
          
          <code class="ruby">  typeset gemset current_gemset ruby_name default_name</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="209">
          <span class="hits">40</span>
          
          <code class="ruby">  gemset=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="210">
          <span class="hits">40</span>
          
          <code class="ruby">  current_gemset=&quot;$2&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="211">
          <span class="hits">40</span>
          
          <code class="ruby">  gemset=&quot;${gemset##*/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="212">
          <span class="hits">40</span>
          
          <code class="ruby">  ruby_name=&quot;${gemset%%${rvm_gemset_separator:-@}*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="213">
          <span class="hits">40</span>
          
          <code class="ruby">  gemset=&quot;${gemset#${ruby_name}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="214">
          <span class="hits">40</span>
          
          <code class="ruby">  gemset=&quot;${gemset#${rvm_gemset_separator:-@}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="216">
          <span class="hits">40</span>
          
          <code class="ruby">  if [[ &quot;${_second_param}&quot; == &quot;strings&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">  then default_name=&quot;default&quot;</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="218">
          <span class="hits">40</span>
          
          <code class="ruby">  else default_name=&quot;(default)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="54" data-linenumber="220">
          <span class="hits">54</span>
          
          <code class="ruby">  [[ -n &quot;${gemset}&quot;         ]] || gemset=&quot;$default_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="67" data-linenumber="221">
          <span class="hits">67</span>
          
          <code class="ruby">  [[ -n &quot;${current_gemset}&quot; ]] || current_gemset=&quot;$default_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="223">
          <span class="hits">40</span>
          
          <code class="ruby">    [[ &quot;${gemset}&quot; == &quot;${current_gemset}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="225">
          <span class="hits">12</span>
          
          <code class="ruby">    if [[ &quot;${_second_param}&quot; == &quot;strings&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">    then echo &quot;${gemset} #current&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="227">
          <span class="hits">12</span>
          
          <code class="ruby">    else echo &quot;=&gt; ${gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="230">
          <span class="hits">28</span>
          
          <code class="ruby">    if [[ &quot;${_second_param}&quot; == &quot;strings&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">    then echo &quot;${gemset}&quot;</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="232">
          <span class="hits">28</span>
          
          <code class="ruby">    else echo &quot;   ${gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="233">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby">gemset_list()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="239">
          <span class="hits">14</span>
          
          <code class="ruby">  if [[ ${rvm_ruby_selected_flag:-0} -eq 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="241">
          <span class="hits">14</span>
          
          <code class="ruby">    __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="244">
          <span class="hits">14</span>
          
          <code class="ruby">  [[ -d &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot; ]] || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">    rvm_error &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;} does not exist!&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="248">
          <span class="hits">14</span>
          
          <code class="ruby">  [[ -n &quot;${rvm_ruby_string:-&quot;&quot;}&quot; ]] || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="249">
          
          
          <code class="ruby">    rvm_error &quot;\$rvm_ruby_string is not set!&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="250">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="253">
          <span class="hits">14</span>
          
          <code class="ruby">  typeset current_gemset IFS</code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="254">
          <span class="hits">28</span>
          
          <code class="ruby">  current_gemset=$(__rvm_current_gemset)</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="255">
          <span class="hits">14</span>
          
          <code class="ruby">  IFS=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="257">
          <span class="hits">14</span>
          
          <code class="ruby">  [[ &quot;${_second_param}&quot; == &quot;strings&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="258">
          <span class="hits">14</span>
          
          <code class="ruby">    rvm_log &quot;\ngemsets for $rvm_ruby_string (found in ${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/$rvm_ruby_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="259">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="260">
          <span class="hits">40</span>
          
          <code class="ruby">  for gemset in ${rvm_gems_path:-${rvm_path}/gems}/${rvm_ruby_string} ${rvm_gems_path:-${rvm_path}/gems}/${rvm_ruby_string}${rvm_gemset_separator:-@}*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="40" data-linenumber="262">
          <span class="hits">40</span>
          
          <code class="ruby">    __gemset_list_single &quot;${gemset}&quot; &quot;${current_gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="28" data-linenumber="265">
          <span class="hits">28</span>
          
          <code class="ruby">  [[ &quot;${_second_param}&quot; == &quot;strings&quot; ]] || printf &quot;%b&quot; &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="266">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">gemset_delete_task()</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="269">
          <span class="hits">15</span>
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="270">
          <span class="hits">15</span>
          
          <code class="ruby">  typeset rvm_gemset_name ruby_at_gemset gemdir</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="271">
          <span class="hits">15</span>
          
          <code class="ruby">  rvm_gemset_name=$1</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="272">
          <span class="hits">15</span>
          
          <code class="ruby">  ruby_at_gemset=$2</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="273">
          <span class="hits">15</span>
          
          <code class="ruby">  gemdir=$3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="275">
          <span class="hits">45</span>
          
          <code class="ruby">  case $(uname) in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="276">
          
          
          <code class="ruby">    (OpenBSD)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">      # will not find broken links</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="278">
          
          
          <code class="ruby">      find &quot;${rvm_bin_path:=$rvm_path/bin}&quot; -name \*${ruby_at_gemset} -delete</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="279">
          
          
          <code class="ruby">      find -L &quot;${rvm_bin_path:=$rvm_path/bin}&quot; -name \*${ruby_at_gemset} -delete</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="281">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="282">
          <span class="hits">15</span>
          
          <code class="ruby">      find &quot;${rvm_bin_path:=$rvm_path/bin}&quot; \( -name \*${ruby_at_gemset} -or -lname \*${ruby_at_gemset}/\* \) -delete</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">  for item in $( $rvm_scripts_path/alias search_by_target ${ruby_at_gemset} )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="287">
          
          
          <code class="ruby">    $rvm_scripts_path/alias delete ${item}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="289">
          <span class="hits">15</span>
          
          <code class="ruby">  __rvm_rm_rf &quot;$gemdir&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="290">
          <span class="hits">15</span>
          
          <code class="ruby">  __rvm_rm_rf &quot;${rvm_wrappers_path:=&quot;$rvm_path/wrappers&quot;}/${ruby_at_gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby">gemset_delete()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="294">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="295">
          <span class="hits">17</span>
          
          <code class="ruby">  [[ -n &quot;${GEM_HOME:-}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="296">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="297">
          
          
          <code class="ruby">    rvm_error &quot;A ruby must be selected in order to delete a gemset.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="298">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="299">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="300">
          <span class="hits">17</span>
          
          <code class="ruby">  if (( ${rvm_ruby_selected_flag:-0} == 0))</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="301">
          <span class="hits">17</span>
          
          <code class="ruby">  then __rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="303">
          <span class="hits">17</span>
          
          <code class="ruby">  [[ -n &quot;$rvm_gemset_name&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="304">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="305">
          
          
          <code class="ruby">    rvm_error &quot;A gemset name must be specified in order to delete a gemset.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="306">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="308">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="309">
          <span class="hits">17</span>
          
          <code class="ruby">  ruby_at_gemset=&quot;$rvm_ruby_string${rvm_gemset_separator:-&quot;@&quot;}$rvm_gemset_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="310">
          <span class="hits">17</span>
          
          <code class="ruby">  gemdir=&quot;${rvm_gems_path:-$rvm_path/gems}/${ruby_at_gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="312">
          <span class="hits">17</span>
          
          <code class="ruby">  [[ -d &quot;$gemdir&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="313">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="314">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_warn &quot;$gemdir did not previously exist. Ignoring.&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="315">
          <span class="hits">2</span>
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="318">
          <span class="hits">15</span>
          
          <code class="ruby">  (( ${rvm_force_flag:-0} )) ||</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="319">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_ask_for &quot;Are you SURE you wish to remove the entire gemset directory '$rvm_gemset_name' ($gemdir)?&quot; yes ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">    rvm_log &quot;Not doing anything, phew... close call that one eh?&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="322">
          
          
          <code class="ruby">    return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="325">
          <span class="hits">15</span>
          
          <code class="ruby">  __rvm_log_command &quot;gemset.delete&quot; &quot;Removing gemset $rvm_gemset_name&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="326">
          
          
          <code class="ruby">    gemset_delete_task &quot;$rvm_gemset_name&quot; &quot;$ruby_at_gemset&quot; &quot;$gemdir&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="329">
          
          
          <code class="ruby">gemset_empty()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="331">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset gemdir entry</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="332">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_gem_home:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="333">
          
          
          <code class="ruby">  then __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="335">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_gemset_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="336">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="337">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_gemset_name=&quot;${rvm_gemset_name#default}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="338">
          <span class="hits">1</span>
          
          <code class="ruby">    ruby_at_gemset=&quot;${rvm_ruby_string%%${rvm_gemset_separator:-&quot;@&quot;}*}${rvm_gemset_name:+${rvm_gemset_separator:-&quot;@&quot;}}${rvm_gemset_name}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="339">
          <span class="hits">1</span>
          
          <code class="ruby">    gemdir=&quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/${ruby_at_gemset}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="341">
          
          
          <code class="ruby">    gemdir=&quot;${rvm_ruby_gem_home}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="344">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ ${rvm_force_flag:-0} -gt 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="346">
          <span class="hits">9</span>
          
          <code class="ruby">    for entry in &quot;$gemdir&quot;/bin/* &quot;$gemdir&quot;/doc/* &quot;$gemdir&quot;/gems/* &quot;$gemdir&quot;/specifications/*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="348">
          <span class="hits">9</span>
          
          <code class="ruby">      __rvm_rm_rf &quot;$entry&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="350">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="351">
          
          
          <code class="ruby">    [[ -d &quot;$gemdir&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="354">
          
          
          <code class="ruby">      __rvm_ask_for &quot;Are you SURE you wish to remove the installed gems for gemset '$(basename &quot;$gemdir&quot;)' ($gemdir)?&quot; yes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="356">
          
          
          <code class="ruby">      for entry in &quot;$gemdir&quot;/bin/* &quot;$gemdir&quot;/doc/* &quot;$gemdir&quot;/gems/* &quot;$gemdir&quot;/specifications/*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="358">
          
          
          <code class="ruby">        __rvm_rm_rf &quot;$entry&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="361">
          
          
          <code class="ruby">      rvm_log &quot;Not doing anything, phew... close call that one eh?&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="362">
          
          
          <code class="ruby">      return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="365">
          
          
          <code class="ruby">    rvm_log &quot;$gemdir did not previously exist. Ignoring.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby"># Migrate gemsets from ruby X to ruby Y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby">gemset_copy()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="371">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="372">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset source_ruby destination_ruby source_path destination_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="374">
          
          
          <code class="ruby">  # Clear the current environment so that it does not influence this operation.</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="375">
          <span class="hits">2</span>
          
          <code class="ruby">  unset rvm_gemset_name rvm_ruby_gem_home GEM_HOME GEM_PATH</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="377">
          <span class="hits">2</span>
          
          <code class="ruby">  source_ruby=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="378">
          <span class="hits">2</span>
          
          <code class="ruby">  destination_ruby=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="379">
          <span class="hits">2</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="381">
          <span class="hits">4</span>
          
          <code class="ruby">    [[ -z &quot;$destination_ruby&quot; || -z &quot;$source_ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="382">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="383">
          
          
          <code class="ruby">    rvm_error &quot;Source and destination must be specified: 'rvm gemset copy X Y'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">  # Verify the destination gemset exists before attempting to use it.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">    ! (</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="389">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_ruby_string=&quot;$destination_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="390">
          <span class="hits">4</span>
          
          <code class="ruby">      export rvm_create_flag=1</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="391">
          <span class="hits">4</span>
          
          <code class="ruby">      { __rvm_ruby_string &amp;&amp; __rvm_gemset_select; } 2&gt; /dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="392">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="394">
          
          
          <code class="ruby">    rvm_error &quot;Destination gemset '$destination_ruby' does not yet exist.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="395">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="396">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="398">
          
          
          <code class="ruby">  # TODO: Account for more possibilities:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="399">
          
          
          <code class="ruby">  #   rvm gemset copy 1.9.2 @gemsetb        # From 1.9.2 default to current ruby, 1.9.2 exists.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="400">
          
          
          <code class="ruby">  #   rvm gemset copy @gemseta @gemsetb     # Current ruby, gemseta exists.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">  #   rvm gemset copy gemseta gemsetb       # Currenty Ruby, gemseta exists.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="402">
          
          
          <code class="ruby">  #   rvm gemset copy gemseta 1.8.7@gemsetb # Currenty Ruby@gemseta, current ruby@gemseta exists.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="403">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">  source_path=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="405">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;$source_ruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="406">
          
          
          <code class="ruby">    { __rvm_ruby_string &amp;&amp; __rvm_gemset_select; } &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="407">
          
          
          <code class="ruby">    echo $rvm_ruby_gem_home</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="408">
          <span class="hits">2</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="409">
          <span class="hits">2</span>
          
          <code class="ruby">  destination_path=$(</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="410">
          <span class="hits">4</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;$destination_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="411">
          <span class="hits">2</span>
          
          <code class="ruby">    { __rvm_ruby_string &amp;&amp; __rvm_gemset_select; }  &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="412">
          
          
          <code class="ruby">    echo $rvm_ruby_gem_home</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="413">
          <span class="hits">2</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="414">
          <span class="hits">2</span>
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="415">
          <span class="hits">8</span>
          
          <code class="ruby">    [[ -z &quot;$source_path&quot; || ! -d &quot;$source_path&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="416">
          <span class="hits">2</span>
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="417">
          
          
          <code class="ruby">    rvm_error &quot;Unable to expand '$source_ruby' or directory does not exist.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="418">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="419">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="420">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -z &quot;$destination_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="422">
          
          
          <code class="ruby">    rvm_error &quot;Unable to expand '$destination_ruby'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="423">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="425">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="426">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -d &quot;$source_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="427">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="428">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_log &quot;Copying gemset from $source_ruby to $destination_ruby&quot;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="429">
          <span class="hits">12</span>
          
          <code class="ruby">    for dir in bin doc gems specifications cache bundle</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="430">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="431">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="432">
          <span class="hits">12</span>
          
          <code class="ruby">        [[ -d &quot;$source_path/$dir&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="434">
          <span class="hits">3</span>
          
          <code class="ruby">        \cp -Rf &quot;$source_path/$dir&quot; &quot;$destination_path/&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="435">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="436">
          <span class="hits">9</span>
          
          <code class="ruby">        [[ -L &quot;$source_path/$dir&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="438">
          
          
          <code class="ruby">        \cp &quot;$source_path/$dir&quot; &quot;$destination_path/$dir&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="439">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="441">
          <span class="hits">9</span>
          
          <code class="ruby">          [[ -f &quot;$source_path/$dir&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="442">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="443">
          
          
          <code class="ruby">          rvm_warn &quot;Unknown file type for $( file $source_path/$dir )&quot; &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="444">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="445">
          <span class="hits">9</span>
          
          <code class="ruby">          : &quot;$source_path/$dir&quot; does not exist</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="446">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="covered" data-hits="9" data-linenumber="447">
          <span class="hits">9</span>
          
          <code class="ruby">        mkdir -p &quot;$destination_path/$dir&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="450">
          <span class="hits">2</span>
          
          <code class="ruby">    __rvm_gemset_pristine &quot;$destination_ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="451">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="452">
          
          
          <code class="ruby">    rvm_error &quot;Gems directory does not exist for $source_path ($source_path)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="453">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="454">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="456">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby"># Migrate gemsets from ruby X to ruby Y</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby">gemset_rename()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="459">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="460">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset source_name destination_name source_path destination_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="461">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="462">
          <span class="hits">1</span>
          
          <code class="ruby">  source_name=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="463">
          <span class="hits">1</span>
          
          <code class="ruby">  destination_name=&quot;${2:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="464">
          <span class="hits">1</span>
          
          <code class="ruby">  shift 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="465">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="466">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -z &quot;$destination_name&quot; || -z &quot;$source_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="467">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="468">
          
          
          <code class="ruby">    rvm_error &quot;Source and destination gemsets must be specified: 'rvm gemset rename X Y'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="469">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="470">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="471">
          <span class="hits">5</span>
          
          <code class="ruby">  source_path=&quot;$(rvm_silence_logging=1 rvm_gemset_name=${source_name} __rvm_use &quot;${rvm_ruby_string}@${source_name}&quot; ; gem env gemdir)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="472">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="473">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ -z &quot;$source_path&quot; || ! -d &quot;$source_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="475">
          
          
          <code class="ruby">    rvm_error &quot;gemset '$source_name' does not exist.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="476">
          
          
          <code class="ruby">    return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="478">
          <span class="hits">1</span>
          
          <code class="ruby">  destination_path=${source_path/%$source_name/$destination_name}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="479">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="480">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -d &quot;$source_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="481">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="482">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="483">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ ! -d &quot;$destination_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="484">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="485">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_log_command &quot;gemset.rename&quot; &quot;Renaming gemset ${source_path##*/} =&gt; ${destination_path##*/}&quot; \mv &quot;$source_path&quot; &quot;$destination_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="486">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_gemset_pristine &quot;${destination_path##*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="487">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="488">
          
          
          <code class="ruby">      rvm_error &quot;Gemset $destination_name already exists!&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="489">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="490">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="491">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="492">
          
          
          <code class="ruby">    rvm_error &quot;Gems directory does not exist for $source_path ($source_path)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="493">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="494">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="495">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="497">
          
          
          <code class="ruby">gemset_unpack()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="499">
          
          
          <code class="ruby">  typeset gems name directory version  _platforms</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="500">
          
          
          <code class="ruby">  directory=&quot;${1:-vendor/gems}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="502">
          
          
          <code class="ruby">    [[ -n &quot;$rvm_ruby_gem_home&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="504">
          
          
          <code class="ruby">    export GEM_HOME=&quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="505">
          
          
          <code class="ruby">    export GEM_PATH=&quot;$rvm_ruby_gem_home:$rvm_ruby_global_gems_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="507">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="508">
          
          
          <code class="ruby">  rvm_log &quot;Unpacking current environments gemset to ${directory}\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="509">
          
          
          <code class="ruby">  unset -f gem</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="511">
          
          
          <code class="ruby">  while read gem_name version _platforms</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="513">
          
          
          <code class="ruby">    ( command gem unpack &quot;$gem_name&quot; -v&quot;$version&quot; --target &quot;$directory&quot; )&amp;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">  done &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="515">
          
          
          <code class="ruby">    GEM_PATH=&quot;$GEM_HOME&quot; __rvm_list_gems</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="516">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="517">
          
          
          <code class="ruby">  wait</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="518">
          
          
          <code class="ruby">  rvm_log &quot;Unpacking into ${directory} complete\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="519">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="520">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="522">
          
          
          <code class="ruby">gemset_export()</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="523">
          <span class="hits">2</span>
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="524">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset rvm_file_name gem_name version versions _platforms</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="525">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_file_name=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="526">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="527">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -n &quot;$rvm_ruby_gem_home&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="528">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="529">
          <span class="hits">2</span>
          
          <code class="ruby">    export GEM_HOME=&quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="530">
          <span class="hits">2</span>
          
          <code class="ruby">    export GEM_PATH=&quot;$rvm_ruby_gem_home:$rvm_ruby_global_gems_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="531">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="532">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="533">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ -n &quot;$rvm_file_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="534">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="535">
          <span class="hits">2</span>
          
          <code class="ruby">    [[ &quot;${rvm_file_name}&quot; =~ Gemfile ]] || rvm_file_name=&quot;${rvm_file_name%.gems}.gems&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="536">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="537">
          
          
          <code class="ruby">    if [[ -n &quot;$rvm_gemset_name&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="538">
          
          
          <code class="ruby">    then rvm_file_name=&quot;$rvm_gemset_name.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="539">
          
          
          <code class="ruby">    else rvm_file_name=&quot;default.gems&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="540">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="542">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Exporting current environments gemset to $rvm_file_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="543">
          <span class="hits">1</span>
          
          <code class="ruby">  if [[ -f &quot;$rvm_file_name&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="544">
          
          
          <code class="ruby">  then \rm -f &quot;$rvm_file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="545">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="546">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="547">
          <span class="hits">1</span>
          
          <code class="ruby">    [[ &quot;${rvm_file_name}&quot; =~ Gemfile ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="549">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;source :rubygems</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="550">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="551">
          
          
          <code class="ruby">#ruby=${GEM_HOME##*/}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="552">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="553">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="554">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="555">
          <span class="hits">1</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;# $rvm_file_name generated gem export file. \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="556">
          
          
          <code class="ruby">Note that any env variable settings will be missing. \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="557">
          
          
          <code class="ruby">Append these after using a ';' field separator</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="559">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="560">
          
          
          <code class="ruby">  fi &gt; &quot;$rvm_file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="561">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="562">
          <span class="hits">1</span>
          
          <code class="ruby">    (( ${rvm_latest_flag:-0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="564">
          <span class="hits">3</span>
          
          <code class="ruby">    while read gem_name version _platforms</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="566">
          <span class="hits">2</span>
          
          <code class="ruby">      if [[ &quot;${rvm_file_name}&quot; =~ Gemfile ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="567">
          
          
          <code class="ruby">      then echo &quot;gem '$gem_name', '$version'&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="568">
          <span class="hits">2</span>
          
          <code class="ruby">      else echo &quot;$gem_name -v$version&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="569">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="570">
          
          
          <code class="ruby">    done &lt; &lt;( GEM_PATH=&quot;$GEM_HOME&quot; __rvm_list_gems )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="571">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="572">
          
          
          <code class="ruby">    while read gem_name versions</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="574">
          
          
          <code class="ruby">      if [[ &quot;${rvm_file_name}&quot; =~ Gemfile ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="575">
          
          
          <code class="ruby">      then echo &quot;gem '$gem_name'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="576">
          
          
          <code class="ruby">      else echo &quot;$gem_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="578">
          
          
          <code class="ruby">    done &lt; &lt;( GEM_PATH=&quot;$GEM_HOME&quot; gem list )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="579">
          
          
          <code class="ruby">  fi &gt;&gt; &quot;$rvm_file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="582">
          
          
          <code class="ruby">gemset_import()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="583">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="584">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset rvm_file_name</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="585">
          <span class="hits">3</span>
          
          <code class="ruby">  typeset -a gem_file_names</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="586">
          <span class="hits">3</span>
          
          <code class="ruby">  unset -f gem</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="587">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="588">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_gem_home:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="589">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="590">
          <span class="hits">6</span>
          
          <code class="ruby">    export GEM_HOME=&quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="591">
          <span class="hits">6</span>
          
          <code class="ruby">    export GEM_PATH=&quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="592">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="593">
          
          
          <code class="ruby">    rvm_ruby_gem_home=${GEM_HOME:-$(gem env gemdir)}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="594">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="595">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="596">
          
          
          <code class="ruby">  gem_file_names=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="597">
          
          
          <code class="ruby">    &quot;${1%.gems*}.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="598">
          
          
          <code class="ruby">    &quot;${rvm_gemset_name}.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="599">
          
          
          <code class="ruby">    &quot;default.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="600">
          
          
          <code class="ruby">    &quot;system.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="601">
          
          
          <code class="ruby">    &quot;.gems&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="602">
          <span class="hits">3</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="603">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_find_first_file rvm_file_name &quot;${gem_file_names[@]}&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="604">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="605">
          
          
          <code class="ruby">    rvm_error &quot;No *.gems file found.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="606">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="608">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="609">
          <span class="hits">5</span>
          
          <code class="ruby">  [[ -d &quot;$rvm_ruby_gem_home/specifications/&quot; ]] || mkdir -p &quot;$rvm_ruby_gem_home/specifications/&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="610">
          <span class="hits">3</span>
          
          <code class="ruby">  [[ -d &quot;$rvm_gems_cache_path&quot; ]] || mkdir -p &quot;$rvm_gems_cache_path&quot; # Ensure the base cache dir is initialized.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="612">
          <span class="hits">3</span>
          
          <code class="ruby">    [[ -s &quot;$rvm_file_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="614">
          <span class="hits">3</span>
          
          <code class="ruby">    rvm_log &quot;\nInstalling gems listed in $rvm_file_name file...\n&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="615">
          <span class="hits">3</span>
          
          <code class="ruby">    typeset -a lines</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="616">
          <span class="hits">3</span>
          
          <code class="ruby">    __rvm_read_lines lines &quot;${rvm_file_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="617">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="618">
          <span class="hits">7</span>
          
          <code class="ruby">    for line in &quot;${lines[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="620">
          
          
          <code class="ruby">      # Parse the lines, throwing out comments and empty lines.</code>
        </li>
      
        <li class="covered" data-hits="13" data-linenumber="621">
          <span class="hits">13</span>
          
          <code class="ruby">      if [[ ! &quot;${line}&quot; =~ ^# &amp;&amp; -n &quot;${line// /}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="622">
          <span class="hits">6</span>
          
          <code class="ruby">      then gem_install $line</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="623">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="624">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="625">
          <span class="hits">3</span>
          
          <code class="ruby">    rvm_log &quot;\nProcessing of $rvm_file_name is complete.\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="627">
          
          
          <code class="ruby">    rvm_error &quot;${rvm_file_name} does not exist to import from.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="628">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="630">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="632">
          
          
          <code class="ruby">__rvm_parse_gems_args()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="633">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="634">
          <span class="hits">6</span>
          
          <code class="ruby">  if [[ &quot;$*&quot; =~ &quot;;&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="635">
          
          
          <code class="ruby">  then gem_prefix=&quot;${*#*;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="636">
          <span class="hits">6</span>
          
          <code class="ruby">  else gem_prefix=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="637">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="638">
          <span class="hits">6</span>
          
          <code class="ruby">  gem=&quot;${*%%;*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="639">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="640">
          <span class="hits">6</span>
          
          <code class="ruby">    __rvm_string_match &quot;$gem&quot; &quot;*.gem$&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="642">
          
          
          <code class="ruby">    gem_name=&quot;$(basename &quot;${gem/.gem/}&quot; |  awk -F'-' '{$NF=NULL;print}')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="643">
          
          
          <code class="ruby">    gem_version=&quot;$(basename &quot;${gem/.gem/}&quot; |  awk -F'-' '{print $NF}' )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="644">
          
          
          <code class="ruby">    gem_postfix=&quot;$(basename &quot;${gem/*.gem/}&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="646">
          <span class="hits">6</span>
          
          <code class="ruby">    gem_name=&quot;${gem/ */}&quot;</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="647">
          <span class="hits">14</span>
          
          <code class="ruby">    case &quot;$gem&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="648">
          
          
          <code class="ruby">      *--version*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">        gem_version=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="650">
          
          
          <code class="ruby">          echo &quot;$gem&quot; | sed -e 's#.*--version[=]*[ ]*##' | awk '{print $1}'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="651">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="652">
          
          
          <code class="ruby">        gem_postfix=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="653">
          
          
          <code class="ruby">          echo &quot;$gem&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="654">
          
          
          <code class="ruby">          sed -e &quot;s#${gem_name/ /}##&quot; -e &quot;s#--version[=]*[ ]*${gem_version/ /}##&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="655">
          
          
          <code class="ruby">        )&quot; #&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="656">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="657">
          
          
          <code class="ruby">      *-v*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="658">
          
          
          <code class="ruby">        gem_version=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="659">
          
          
          <code class="ruby">          echo &quot;$gem&quot; | sed -e 's#.*-v[=]*[ ]*##' | awk '{print $1}'</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="660">
          <span class="hits">2</span>
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="661">
          <span class="hits">6</span>
          
          <code class="ruby">        gem_postfix=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="662">
          
          
          <code class="ruby">          echo &quot;$gem&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="663">
          
          
          <code class="ruby">          sed -e &quot;s#${gem_name/ /}##&quot; -e &quot;s#-v[=]*[ ]*${gem_version/ /}##&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="664">
          <span class="hits">2</span>
          
          <code class="ruby">        )&quot; #&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="665">
          <span class="hits">2</span>
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="666">
          <span class="hits">2</span>
          
          <code class="ruby">      *)</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="667">
          <span class="hits">4</span>
          
          <code class="ruby">        unset gem_version # no version</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="671">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="672">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -s &quot;$gem&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="673">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="674">
          
          
          <code class="ruby">    gem_file_name=&quot;$gem&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="675">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="676">
          <span class="hits">6</span>
          
          <code class="ruby">    __rvm_string_match &quot;$gem&quot; &quot;*.gem&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="677">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="678">
          
          
          <code class="ruby">    gem_file_name=&quot;$gem&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="679">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="680">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -z &quot;${gem_version/ /}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="681">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="682">
          <span class="hits">4</span>
          
          <code class="ruby">    gem_file_name=&quot;${gem_name/ /}*.gem&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="683">
          
          
          <code class="ruby">  else # version</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="684">
          <span class="hits">2</span>
          
          <code class="ruby">    gem_file_name=&quot;${gem_name/ /}-${gem_version/ /}.gem&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="685">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="688">
          
          
          <code class="ruby"># Install a gem</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="689">
          
          
          <code class="ruby">gem_install()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="690">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="691">
          <span class="hits">6</span>
          
          <code class="ruby">  typeset gem gem_prefix gem_name gem_version gem_file_name gem_postfix cache_file gem_file_name gem_string gem_action _command</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="693">
          <span class="hits">6</span>
          
          <code class="ruby">  result=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="694">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="695">
          
          
          <code class="ruby">  # First we parse the gem args to pick apart the pieces.</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="696">
          <span class="hits">6</span>
          
          <code class="ruby">  __rvm_parse_gems_args &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="697">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="698">
          
          
          <code class="ruby">  # Now we determine if a .gem cache file is already installed</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="699">
          <span class="hits">6</span>
          
          <code class="ruby">  if (( ${rvm_force_flag:-0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="700">
          <span class="hits">12</span>
          
          <code class="ruby">    [[ -f &quot;${rvm_ruby_gem_home}/specifications/$(basename &quot;$gem_file_name&quot;)spec&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="702">
          <span class="hits">1</span>
          
          <code class="ruby">    gem=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="703">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;$gem_name $gem_version is already installed.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="704">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="705">
          <span class="hits">5</span>
          
          <code class="ruby">    if [[ -s &quot;$gem&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="706">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="707">
          
          
          <code class="ruby">      cache_file=&quot;$gem&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="708">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="709">
          <span class="hits">10</span>
          
          <code class="ruby">    elif [[ -s &quot;$(__rvm_current_gemcache_dir)/${gem_file_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="711">
          <span class="hits">2</span>
          
          <code class="ruby">      cache_file=&quot;$(__rvm_current_gemcache_dir)/${gem_file_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="712">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="713">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="714">
          <span class="hits">20</span>
          
          <code class="ruby">      true ${cache_file:=$( find &quot;$(__rvm_current_gemcache_dir)/${gem_file_name}&quot; -maxdepth 1 -mindepth 1 -type f -print 2&gt; /dev/null | sort | head -n1)}</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="715">
          <span class="hits">4</span>
          
          <code class="ruby">      cache_file=&quot;${cache_file/.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="717">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="718">
          <span class="hits">5</span>
          
          <code class="ruby">    if [[ ! -s &quot;$cache_file&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="720">
          <span class="hits">4</span>
          
          <code class="ruby">      if [[ -s &quot;$gem_file_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="721">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="722">
          
          
          <code class="ruby">        gem=&quot;$gem_file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="723">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="724">
          <span class="hits">4</span>
          
          <code class="ruby">      elif [[ -z &quot;${gem_version// /}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="725">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="726">
          <span class="hits">4</span>
          
          <code class="ruby">        gem=&quot;${gem_name// /}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="729">
          
          
          <code class="ruby">        gem=&quot;${gem_name// /} -v $gem_version&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="730">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="731">
          
          
          <code class="ruby">    else # cached</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="732">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="733">
          <span class="hits">2</span>
          
          <code class="ruby">      gem_file_name=&quot;$(basename &quot;$cache_file&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="734">
          <span class="hits">3</span>
          
          <code class="ruby">      gem_string=&quot;$(echo &quot;$gem_file_name&quot; | sed 's#\.gem$##')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="735">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="736">
          <span class="hits">1</span>
          
          <code class="ruby">      if (( ${rvm_force_flag:-0} == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="737">
          <span class="hits">2</span>
          
          <code class="ruby">        [[ -s &quot;${rvm_ruby_gem_home}/specifications/$(basename $gem_file_name)spec&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="739">
          
          
          <code class="ruby">        unset gem # already installed, not forcing reinstall.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="740">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="741">
          
          
          <code class="ruby">        rvm_log &quot;$gem_name $gem_version exists, skipping (--force to re-install)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="742">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="743">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="744">
          <span class="hits">3</span>
          
          <code class="ruby">        if [[ -s &quot;$(__rvm_current_gemcache_dir)/$(basename $gem_file_name)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="745">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="746">
          <span class="hits">1</span>
          
          <code class="ruby">          mkdir -p &quot;${rvm_tmp_path}/$$/&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="747">
          <span class="hits">2</span>
          
          <code class="ruby">          \mv &quot;$(__rvm_current_gemcache_dir)/$gem_file_name&quot; &quot;${rvm_tmp_path}/$$/$gem_file_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="748">
          <span class="hits">1</span>
          
          <code class="ruby">          gem=&quot;${rvm_tmp_path}/$$/$gem_file_name -f -l&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="750">
          
          
          <code class="ruby">          gem=&quot;$cache_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="751">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="752">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="753">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="754">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="755">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="756">
          
          
          <code class="ruby">  # If $gem is still set, go forward with the install.</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="757">
          <span class="hits">6</span>
          
          <code class="ruby">  if [[ -n &quot;$gem&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="759">
          
          
          <code class="ruby">    # TODO: Set vars if fourth field is non-empty (means that there are conditional statements to execute in the gem install line.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="760">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="761">
          
          
          <code class="ruby">    if [[ -n &quot;$rvm_ruby_gem_home&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="762">
          <span class="hits">10</span>
          
          <code class="ruby">      &quot;$rvm_ruby_gem_home&quot; != &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="763">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="764">
          <span class="hits">5</span>
          
          <code class="ruby">      _command=&quot;GEM_HOME='$rvm_ruby_gem_home' GEM_PATH='$rvm_ruby_gem_home' $gem_prefix gem install --remote $* $rvm_gem_options $gem_postfix $vars&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="765">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="766">
          
          
          <code class="ruby">      _command=&quot;$gem_prefix gem install --ignore-dependencies --remote $* $rvm_gem_options -q $gem $gem_postfix $vars&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="767">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="768">
          <span class="hits">5</span>
          
          <code class="ruby">    unset -f gem</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="769">
          <span class="hits">5</span>
          
          <code class="ruby">    __rvm_run &quot;gem.install&quot; &quot;$_command&quot; &quot;installing ${gem_name} ${gem_version}...&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="770">
          <span class="hits">5</span>
          
          <code class="ruby">    result=$?</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="771">
          <span class="hits">5</span>
          
          <code class="ruby">    if (( result == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="773">
          <span class="hits">5</span>
          
          <code class="ruby">      rvm_log &quot;$gem_name $gem_version installed.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="774">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="775">
          
          
          <code class="ruby">      rvm_log &quot;$gem_name $gem_version failed to install ( output logged to: $rvm_log_path/$rvm_ruby_string/gem.install.log )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="777">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="778">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="779">
          <span class="hits">6</span>
          
          <code class="ruby">  return $result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="780">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="782">
          
          
          <code class="ruby"># Output the user's current gem directory.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="783">
          
          
          <code class="ruby">gemset_info()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="784">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="786">
          <span class="hits">6</span>
          
          <code class="ruby">    (( ${rvm_user_flag:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="788">
          
          
          <code class="ruby">    (__rvm_use system ; gem env | GREP_OPTIONS=&quot;&quot; \grep &quot;\- $HOME&quot; | awk '{print $NF}')</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="789">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="790">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ ${rvm_system_flag:-0} == 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="792">
          
          
          <code class="ruby">    (__rvm_use system ; gem env $action system)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="793">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="794">
          <span class="hits">6</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_string:-&quot;&quot;}${rvm_gemset_name:+${rvm_gemset_separator:-&quot;@&quot;}}${rvm_gemset_name:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="795">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">    #TODO: why on ubuntu oneiric 32bit it's not enough to use gem env? why need to use again???</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="797">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="798">
          <span class="hits">6</span>
          
          <code class="ruby">      __rvm_use &quot;${rvm_ruby_string:-&quot;&quot;}${rvm_gemset_name:+${rvm_gemset_separator:-&quot;@&quot;}}${rvm_gemset_name:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="799">
          <span class="hits">6</span>
          
          <code class="ruby">      gem env $action</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="800">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="801">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="802">
          
          
          <code class="ruby">    gem env $action</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="803">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="804">
          <span class="hits">6</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="805">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="807">
          
          
          <code class="ruby">gemset_prune()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="808">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="809">
          
          
          <code class="ruby">  typeset temporary_cache_path live_cache_path gemset_name version versions cached_gem_name cached_file_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="810">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="811">
          
          
          <code class="ruby">  temporary_cache_path=&quot;$GEM_HOME/temporary-cache&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="812">
          
          
          <code class="ruby">  live_cache_path=&quot;$GEM_HOME/cache&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="813">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="814">
          
          
          <code class="ruby">  mkdir -p &quot;$temporary_cache_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="815">
          
          
          <code class="ruby">  rvm_log &quot;Moving active gems into temporary cache...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">  while</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="817">
          
          
          <code class="ruby">    read gem_name version _platforms</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="819">
          
          
          <code class="ruby">    cached_gem_name=&quot;${gem_name}-${version}.gem&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="820">
          
          
          <code class="ruby">    cached_file_path=&quot;${live_cache_path}/${cached_gem_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="821">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="822">
          
          
          <code class="ruby">      [[ -f &quot;$cached_file_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="824">
          
          
          <code class="ruby">      \mv &quot;$cached_file_path&quot; &quot;${temporary_cache_path}/${cached_gem_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">  done &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="827">
          
          
          <code class="ruby">    GEM_PATH=&quot;$GEM_HOME&quot; __rvm_list_gems</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="828">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="829">
          
          
          <code class="ruby">  rvm_log &quot;Removing live cache and restoring temporary cache...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">  # Switch the cache back.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="831">
          
          
          <code class="ruby">  __rvm_rm_rf &quot;$live_cache_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="832">
          
          
          <code class="ruby">  \mv &quot;$temporary_cache_path&quot; &quot;$live_cache_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="833">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="834">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="835">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="836">
          
          
          <code class="ruby">gemset_pristine()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="837">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="838">
          <span class="hits">6</span>
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="839">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="840">
          <span class="hits">3</span>
          
          <code class="ruby">      unset -f gem</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="841">
          <span class="hits">3</span>
          
          <code class="ruby">      builtin command -v gem &gt; /dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="842">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="844">
          <span class="hits">3</span>
          
          <code class="ruby">    typeset _gem _version _platforms</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="845">
          <span class="hits">3</span>
          
          <code class="ruby">    typeset -a _failed</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="846">
          <span class="hits">3</span>
          
          <code class="ruby">    rvm_log &quot;Restoring gems to pristine condition...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">    while</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="848">
          <span class="hits">3</span>
          
          <code class="ruby">      read _gem _version _platforms</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="849">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="850">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${_gem}-${_version} &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="851">
          
          
          <code class="ruby">      if ! gem pristine ${_gem} --version ${_version} &gt;/dev/null</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="852">
          
          
          <code class="ruby">      then  _failed+=( &quot;${_gem} --version ${_version}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="854">
          
          
          <code class="ruby">    done &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="855">
          
          
          <code class="ruby">      GEM_PATH=&quot;$GEM_HOME&quot; __rvm_list_gems</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="856">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="857">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="858">
          <span class="hits">3</span>
          
          <code class="ruby">      (( ${#_failed[@]} &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="859">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="860">
          
          
          <code class="ruby">      rvm_error &quot;\n'gem pristine ${_failed[*]}' failed, you need to fix this gems manually.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="861">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="862">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="863">
          <span class="hits">3</span>
          
          <code class="ruby">      rvm_log &quot;\nfinished.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="864">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="866">
          
          
          <code class="ruby">    rvm_error &quot;'gem' command not found in PATH.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="867">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="868">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="871">
          
          
          <code class="ruby"># Transform the list of gems one version per line</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="872">
          
          
          <code class="ruby">__rvm_list_gems()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="873">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="874">
          <span class="hits">4</span>
          
          <code class="ruby">  gem list |</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="875">
          <span class="hits">4</span>
          
          <code class="ruby">    sed '/\*\*\*/ d ; /^$/ d; s/ (/,/; s/, /,/g; s/)//;' |</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="876">
          <span class="hits">4</span>
          
          <code class="ruby">    awk -F ',' '{for(i=2;i&lt;=NF;i++) print $1&quot; &quot;$i }'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="877">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="879">
          
          
          <code class="ruby"># Loads the default gemsets for the current interpreter and gemset.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="880">
          
          
          <code class="ruby">gemset_initial()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="881">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="882">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset gemsets gemset _iterator paths</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="883">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="884">
          <span class="hits">1</span>
          
          <code class="ruby">  true ${rvm_gemsets_path:=&quot;$rvm_path/gemsets&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="885">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="886">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_log &quot;Importing initial gemsets for $(__rvm_env_string).&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="888">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -d &quot;$rvm_gemsets_path/${rvm_ruby_string//-//}/cache&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="889">
          
          
          <code class="ruby">    mkdir -p &quot;$rvm_gemsets_path/${rvm_ruby_string//-//}/cache&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="890">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="891">
          <span class="hits">3</span>
          
          <code class="ruby">  paths=( $( __rvm_ruby_string_paths_under &quot;$rvm_gemsets_path&quot; | sort -r ) )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="892">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="893">
          <span class="hits">1</span>
          
          <code class="ruby">  echo &quot;paths: ${paths[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="894">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="895">
          <span class="hits">4</span>
          
          <code class="ruby">  for _iterator in &quot;${paths[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="896">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="897">
          <span class="hits">4</span>
          
          <code class="ruby">    if [[ -n &quot;$rvm_gemset_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="898">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="899">
          
          
          <code class="ruby">      if [[ -s &quot;${rvm_gemset_name}.gems&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="900">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="901">
          
          
          <code class="ruby">        ( gemset_import &quot;${rvm_gemset_name}.gems&quot; )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="902">
          
          
          <code class="ruby">        break # stop right here</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="903">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="904">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="905">
          <span class="hits">4</span>
          
          <code class="ruby">      if [[ -s &quot;${_iterator}/default.gems&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="907">
          <span class="hits">1</span>
          
          <code class="ruby">        ( gemset_import &quot;${_iterator}/default.gems&quot;  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="908">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="909">
          <span class="hits">4</span>
          
          <code class="ruby">      if [[ -s &quot;${_iterator}/global.gems&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="910">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="911">
          
          
          <code class="ruby">        (</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="912">
          <span class="hits">1</span>
          
          <code class="ruby">          rvm_create_flag=1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="913">
          <span class="hits">1</span>
          
          <code class="ruby">          rvm_ruby_gem_home=&quot;${rvm_ruby_gem_home//@*/}@global&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="914">
          <span class="hits">1</span>
          
          <code class="ruby">          gemset_import &quot;${_iterator}/global.gems&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="915">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="916">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="917">
          <span class="hits">7</span>
          
          <code class="ruby">      if [[ -s &quot;${_iterator}/default.gems&quot; || -s &quot;${_iterator}/global.gems&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="918">
          <span class="hits">1</span>
          
          <code class="ruby">      then break # stop right here</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="919">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="920">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="921">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="922">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_log &quot;Installation of gems for $(__rvm_env_string) is complete.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="923">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="924">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="925">
          
          
          <code class="ruby">search()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="926">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="927">
          
          
          <code class="ruby">  typeset gemspec gemspecs gem_name option environment_id ruby_string name gem_version</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="928">
          
          
          <code class="ruby">  gem_name=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="929">
          
          
          <code class="ruby">  option=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="930">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="931">
          
          
          <code class="ruby">  if [[ -z &quot;${gem_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="932">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="933">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="934">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="935">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="936">
          
          
          <code class="ruby">  true &quot;${rvm_gems_path:=&quot;$rvm_path/gems&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="937">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="938">
          
          
          <code class="ruby">  __rvm_read_lines gemspecs &lt; &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="939">
          
          
          <code class="ruby">    find &quot;${rvm_gems_path}&quot; -mindepth 3 -iname &quot;${gem_name}*.gemspec&quot;  -type f</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="940">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="941">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="942">
          
          
          <code class="ruby">  if [[ &quot;${option}&quot; != &quot;strings&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="943">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="944">
          
          
          <code class="ruby">    printf &quot;%-40s %-20s %-20s\n&quot; &quot;environment_id&quot; &quot;name&quot; &quot;version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="945">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;================================================================================\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="947">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="948">
          
          
          <code class="ruby">  for gemspec in &quot;${gemspecs[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="949">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="950">
          
          
          <code class="ruby">    environment_id=&quot;${gemspec//${rvm_gems_path}\/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="951">
          
          
          <code class="ruby">    environment_id=&quot;${environment_id//\/*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="952">
          
          
          <code class="ruby">    ruby_string=&quot;${environment_id//@*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="953">
          
          
          <code class="ruby">    gemset_name=&quot;${environment_id//${ruby_string}}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="954">
          
          
          <code class="ruby">    name=${gemspec//*\/}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="955">
          
          
          <code class="ruby">    name=${name/%.gemspec}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="956">
          
          
          <code class="ruby">    gem_version=${name//*-}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="957">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="958">
          
          
          <code class="ruby">    if [[ &quot;${option}&quot; != &quot;strings&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="959">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="960">
          
          
          <code class="ruby">      printf &quot;%-40s %-20s %-20s\n&quot; &quot;${environment_id}&quot; &quot;${gem_name}&quot; &quot;${gem_version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="961">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="962">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${environment_id}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="963">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="964">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="965">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="967">
          <span class="hits">63</span>
          
          <code class="ruby">action=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="126" data-linenumber="968">
          <span class="hits">126</span>
          
          <code class="ruby">(( $# == 0 )) || shift</code>
        </li>
      
        <li class="covered" data-hits="126" data-linenumber="969">
          <span class="hits">126</span>
          
          <code class="ruby">export _second_param=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="126" data-linenumber="970">
          <span class="hits">126</span>
          
          <code class="ruby">export rvm_gemset_name=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="971">
          <span class="hits">63</span>
          
          <code class="ruby">rvm_sticky_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="972">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="973">
          
          
          <code class="ruby">gemset_actions_with_gem=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="974">
          
          
          <code class="ruby">  gemdir gempath gemhome home path version export dump import</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="975">
          
          
          <code class="ruby">  load pristine copy install initial prune rename update unpack</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="976">
          <span class="hits">63</span>
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="977">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="978">
          <span class="hits">63</span>
          
          <code class="ruby">  [[ &quot; ${gemset_actions_with_gem[*]} &quot; =~ &quot; $action &quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="979">
          <span class="hits">15</span>
          
          <code class="ruby">  ! builtin command -v gem &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="980">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="981">
          
          
          <code class="ruby">  rvm_error &quot;'gem' was not found, cannot perform gem actions (Do you have an RVM ruby selected?)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="982">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="983">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="985">
          <span class="hits">63</span>
          
          <code class="ruby">if [[ &quot; $* &quot; =~ &quot; --force &quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="986">
          
          
          <code class="ruby">then export rvm_force_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="987">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="988">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="115" data-linenumber="989">
          <span class="hits">115</span>
          
          <code class="ruby">  [[ -z &quot;$rvm_ruby_string&quot; &amp;&amp; &quot;${GEM_HOME:-&quot;&quot;}&quot; =~ &quot;${rvm_path}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="990">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="991">
          <span class="hits">50</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${GEM_HOME##*/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="50" data-linenumber="992">
          <span class="hits">50</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${rvm_ruby_string%%@*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="994">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="995">
          <span class="hits">88</span>
          
          <code class="ruby">  [[ -z &quot;$rvm_gemset_name&quot; &amp;&amp; &quot;${GEM_HOME:-&quot;&quot;}&quot; =~ &quot;${rvm_path}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="996">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="997">
          <span class="hits">25</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;${GEM_HOME##*/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="998">
          <span class="hits">25</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;${rvm_gemset_name#${rvm_gemset_name%%@*}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="999">
          <span class="hits">25</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;${rvm_gemset_name#@}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1000">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1001">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1002">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="63" data-linenumber="1003">
          <span class="hits">63</span>
          
          <code class="ruby">case &quot;$action&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1004">
          
          
          <code class="ruby">  import|load)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1006">
          <span class="hits">1</span>
          
          <code class="ruby">      [[ -z &quot;${rvm_ruby_strings:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1007">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1008">
          <span class="hits">1</span>
          
          <code class="ruby">      gemset_import &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1010">
          
          
          <code class="ruby">      rubies=()</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1011">
          
          
          <code class="ruby">      __rvm_custom_separated_array rubies , &quot;$rvm_ruby_strings&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1012">
          
          
          <code class="ruby">      for rvm_ruby_string in &quot;${rubies[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1013">
          
          
          <code class="ruby">      do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1014">
          
          
          <code class="ruby">        (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1015">
          
          
          <code class="ruby">          __rvm_become</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1016">
          
          
          <code class="ruby">          gemset_import &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1017">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1018">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1019">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1020">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1021">
          
          
          <code class="ruby">  export|dump)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="1022">
          <span class="hits">1</span>
          
          <code class="ruby">    gemset_export &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1024">
          
          
          <code class="ruby">  create|copy|delete|dir|empty|globalcache|initial|list|list_all|list_strings|pristine|prune|rename|update|unpack)</code>
        </li>
      
        <li class="covered" data-hits="55" data-linenumber="1025">
          <span class="hits">55</span>
          
          <code class="ruby">    gemset_$action &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1026">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1027">
          
          
          <code class="ruby">  name|string)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1028">
          
          
          <code class="ruby">    gemset_name &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1029">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1030">
          
          
          <code class="ruby">  strings)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1031">
          
          
          <code class="ruby">    gemset_list &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1032">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1033">
          
          
          <code class="ruby">  gemdir|gempath|gemhome|home|path|version)</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="1034">
          <span class="hits">6</span>
          
          <code class="ruby">    gemset_info &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1035">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1036">
          
          
          <code class="ruby">  install)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1037">
          
          
          <code class="ruby">    gem_$action &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1038">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1039">
          
          
          <code class="ruby">  search)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1040">
          
          
          <code class="ruby">    search &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1041">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1042">
          
          
          <code class="ruby">  help)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1043">
          
          
          <code class="ruby">    usage</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1044">
          
          
          <code class="ruby">    exit 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1045">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1046">
          
          
          <code class="ruby">  *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1047">
          
          
          <code class="ruby">    usage</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="1048">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1049">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1050">
          
          
          <code class="ruby">esac</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="dc2d7cca402fae5b742789910661cf6c2e521181">
  <div class="header">
    <h3>/usr/local/rvm/scripts/hook</h3>
    <h4><span class="yellow">88.89 %</span> covered</h4>
    <div>
      <b>18</b> relevant lines. 
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># need additional step to not redefine variables value if already set</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="4">
          <span class="hits">188</span>
          
          <code class="ruby">typeset old_rvm_verbose_flag old_rvm_debug_flag &gt;/dev/null 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="5">
          <span class="hits">188</span>
          
          <code class="ruby">old_rvm_verbose_flag=${rvm_verbose_flag:-0}</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="6">
          <span class="hits">188</span>
          
          <code class="ruby">old_rvm_debug_flag=${rvm_debug_flag:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby"># silence ZSH redefinitions</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="9">
          <span class="hits">188</span>
          
          <code class="ruby">typeset rvm_verbose_flag rvm_debug_flag hooks &gt;/dev/null 2&gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="11">
          <span class="hits">188</span>
          
          <code class="ruby">true rvm_verbose_flag:${rvm_verbose_flag:=${old_rvm_verbose_flag}} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  rvm_debug_flag:${rvm_debug_flag:=${old_rvm_debug_flag}} rvm_hook:${rvm_hook:=}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="15">
          <span class="hits">188</span>
          
          <code class="ruby">  [[ -n &quot;$rvm_hook&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="17">
          <span class="hits">188</span>
          
          <code class="ruby">  hooks=( &quot;$rvm_hooks_path&quot;)</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="18">
          <span class="hits">188</span>
          
          <code class="ruby">  [[ &quot;$PWD/.rvm/hooks&quot; == &quot;$rvm_hooks_path&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="19">
          <span class="hits">188</span>
          
          <code class="ruby">    hooks+=( &quot;$PWD/.rvm/hooks&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  _hooks_list=($(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    find -L &quot;${hooks[@]}&quot; -iname &quot;$rvm_hook*&quot; -type f 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="23">
          <span class="hits">188</span>
          
          <code class="ruby">  ))</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="24">
          <span class="hits">188</span>
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="696" data-linenumber="25">
          <span class="hits">696</span>
          
          <code class="ruby">  for hook in &quot;${_hooks_list[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="1222" data-linenumber="27">
          <span class="hits">1222</span>
          
          <code class="ruby">    if [[ -x &quot;${hook}&quot; || &quot;${hook##*/}&quot; == &quot;$rvm_hook&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="29">
          <span class="hits">170</span>
          
          <code class="ruby">      rvm_debug &quot;Running $hook&quot;</code>
        </li>
      
        <li class="covered" data-hits="170" data-linenumber="30">
          <span class="hits">170</span>
          
          <code class="ruby">      __rvm_conditionally_do_with_env . &quot;${hook}&quot; &gt;&amp;2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="35">
          <span class="hits">188</span>
          
          <code class="ruby">unset rvm_hook hooks _hooks_list hook</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="1d4d628718584985b846e6d88a7df47802f3b126">
  <div class="header">
    <h3>/usr/local/rvm/scripts/initialize</h3>
    <h4><span class="red">38.27 %</span> covered</h4>
    <div>
      <b>81</b> relevant lines. 
      <span class="green"><b>31</b> lines covered</span> and
      <span class="red"><b>50</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="3">
          <span class="hits">587</span>
          
          <code class="ruby">: rvm_trace_flag:${rvm_trace_flag:=0}</code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="4">
          <span class="hits">587</span>
          
          <code class="ruby">if (( rvm_trace_flag &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="6">
          
          
          <code class="ruby">  set -o xtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">  if [[ -z &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">    #  set -o errtrace</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">    #  set -o pipefail</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="13">
          
          
          <code class="ruby">    export PS4</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">    PS4=&quot;+ \$(date \&quot;+%s.%N\&quot;) \${BASH_SOURCE##\${rvm_path:-}} : \${FUNCNAME[0]:+\${FUNCNAME[0]}()}  \${LINENO} &gt; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"># Set shell options that RVM cannot live without,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"># see __rvm_setup and __rvm_teardown for further settings.</code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="20">
          <span class="hits">587</span>
          
          <code class="ruby">if [[ -n &quot;${BASH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="22">
          <span class="hits">587</span>
          
          <code class="ruby">  shopt -s extglob</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">elif [[ -n &quot;${ZSH_VERSION:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">  setopt extendedglob</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  setopt kshglob</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">  setopt no_glob_subst</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;What the heck kind of shell are you running here???\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="32">
          <span class="hits">587</span>
          
          <code class="ruby">export __rvm_env_loaded</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"># set env loaded flag if not yet set</code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="34">
          <span class="hits">587</span>
          
          <code class="ruby">: __rvm_env_loaded:${__rvm_env_loaded:=0}:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"># increase load count counter</code>
        </li>
      
        <li class="covered" data-hits="587" data-linenumber="36">
          <span class="hits">587</span>
          
          <code class="ruby">: __rvm_env_loaded:$(( __rvm_env_loaded+=1 )):</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"># load only if not yet loaded or first time loading</code>
        </li>
      
        <li class="covered" data-hits="878" data-linenumber="39">
          <span class="hits">878</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_tmp_path:-}&quot; ]] || (( __rvm_env_loaded == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="42">
          <span class="hits">296</span>
          
          <code class="ruby">  if typeset -f __rvm_cleanse_variables &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="261" data-linenumber="44">
          <span class="hits">261</span>
          
          <code class="ruby">    __rvm_cleanse_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">  # Ensure that /etc/rvmrc and $HOME/.rvmrc values take precedence.</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="48">
          <span class="hits">296</span>
          
          <code class="ruby">  if (( ${rvm_ignore_rvmrc:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="50">
          <span class="hits">296</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_stored_umask:-}&quot; ]] || export rvm_stored_umask=$(umask)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="52">
          <span class="hits">296</span>
          
          <code class="ruby">    rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="covered" data-hits="592" data-linenumber="53">
          <span class="hits">592</span>
          
          <code class="ruby">    if [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp; ! [[ &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="54">
          <span class="hits">296</span>
          
          <code class="ruby">       then rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="888" data-linenumber="56">
          <span class="hits">888</span>
          
          <code class="ruby">    for rvmrc in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="888" data-linenumber="58">
          <span class="hits">888</span>
          
          <code class="ruby">      if [[ -f &quot;$rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="592" data-linenumber="60">
          <span class="hits">592</span>
          
          <code class="ruby">        if GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$rvmrc&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">          printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">Error:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">          $rvmrc is for rvm settings only.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">          rvm CLI may NOT be called from within $rvmrc.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">          Skipping the loading of $rvmrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">          return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="69">
          <span class="hits">296</span>
          
          <code class="ruby">          source &quot;$rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="73">
          <span class="hits">296</span>
          
          <code class="ruby">    unset rvm_rvmrc_files</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="76">
          <span class="hits">296</span>
          
          <code class="ruby">  export rvm_path</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="77">
          <span class="hits">296</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">    if (( UID == 0 )) &amp;&amp; [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">    then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">    elif [[ -d &quot;${HOME}/.rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">    then rvm_path=&quot;${HOME}/.rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">    elif [[ -d &quot;/usr/local/rvm&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">    then rvm_path=&quot;/usr/local/rvm&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="85">
          
          
          <code class="ruby">    else echo &quot;Can't find rvm install!&quot; 1&gt;&amp;2 ; exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="89">
          <span class="hits">296</span>
          
          <code class="ruby">  true ${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">  # Setup RVM Environment variables.  Each RVM internal path is intended to be</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">  # configurable by the end users for whatever their needs may be.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">  # They should be set in /etc/rvmrc and then $HOME/.rvmrc</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">  #</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="96">
          <span class="hits">296</span>
          
          <code class="ruby">  if (( ${rvm_user_install_flag:-0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="98">
          <span class="hits">296</span>
          
          <code class="ruby">    export rvm_user_install_flag rvm_man_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="100">
          <span class="hits">296</span>
          
          <code class="ruby">    if (( UID == 0 )) ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">      [[ -n &quot;${rvm_prefix:-}&quot; &amp;&amp; &quot;${rvm_prefix:-}&quot; != &quot;${HOME}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="103">
          <span class="hits">296</span>
          
          <code class="ruby">      true &quot;${rvm_man_path:=&quot;${rvm_prefix}/share/man&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="104">
          <span class="hits">296</span>
          
          <code class="ruby">      rvm_user_install_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">      rvm_user_install_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  : \</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="111">
          <span class="hits">296</span>
          
          <code class="ruby">    rvm_bin_path:${rvm_bin_path:=&quot;$rvm_path/bin&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">    rvm_man_path:${rvm_man_path:=&quot;$rvm_path/man&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">    rvm_archives_path:${rvm_archives_path:=&quot;$rvm_path/archives&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">    rvm_docs_path:${rvm_docs_path:=&quot;$rvm_path/docs&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="115">
          
          
          <code class="ruby">    rvm_environments_path:${rvm_environments_path:=&quot;$rvm_path/environments&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">    rvm_examples_path:${rvm_examples_path:=&quot;$rvm_path/examples&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">    rvm_gems_path:${rvm_gems_path:=&quot;$rvm_path/gems&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">    rvm_gemsets_path:${rvm_gemsets_path:=&quot;$rvm_path/gemsets&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="119">
          
          
          <code class="ruby">    rvm_help_path:${rvm_help_path:=&quot;$rvm_path/help&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">    rvm_hooks_path:${rvm_hooks_path:=&quot;$rvm_path/hooks&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">    rvm_lib_path:${rvm_lib_path:=&quot;$rvm_path/lib&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">    rvm_log_path:${rvm_log_path:=&quot;$rvm_path/log&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">    rvm_patches_path:${rvm_patches_path:=&quot;$rvm_path/patches&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">    rvm_repos_path:${rvm_repos_path:=&quot;$rvm_path/repos&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">    rvm_rubies_path:${rvm_rubies_path:=&quot;$rvm_path/rubies&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">    rvm_externals_path:${rvm_externals_path:=&quot;$rvm_path/externals&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="127">
          
          
          <code class="ruby">    rvm_rubygems_path:${rvm_rubygems_path:=&quot;$rvm_path/rubygems&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">    rvm_src_path:${rvm_src_path:=&quot;$rvm_path/src&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="129">
          
          
          <code class="ruby">    rvm_tmp_path:${rvm_tmp_path:=&quot;$rvm_path/tmp&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">    rvm_user_path:${rvm_user_path:=&quot;$rvm_path/user&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">    rvm_usr_path:${rvm_usr_path:=&quot;$rvm_path/usr&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">    rvm_wrappers_path:${rvm_wrappers_path:=&quot;$rvm_path/wrappers&quot;} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">    rvm_verbose_flag:${rvm_verbose_flag:=0} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">    rvm_debug_flag:${rvm_debug_flag:=0} \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">    rvm_gems_cache_path:${rvm_gems_cache_path:=${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/cache}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="137">
          <span class="hits">296</span>
          
          <code class="ruby">  export -a rvm_configure_flags rvm_patch_names rvm_ree_options rvm_make_flags</code>
        </li>
      
        <li class="covered" data-hits="296" data-linenumber="138">
          <span class="hits">296</span>
          
          <code class="ruby">  export rvm_action rvm_alias_expanded rvm_archive_extension rvm_archives_path rvm_bin_flag rvm_bin_path rvm_debug_flag rvm_default_flag rvm_delete_flag rvm_docs_path rvm_docs_type rvm_dump_environment_flag rvm_environments_path rvm_error_message rvm_examples_path rvm_expanding_aliases rvm_file_name rvm_gemdir_flag rvm_gems_cache_path rvm_gems_path rvm_gemset_name rvm_gemset_separator rvm_gemsets_path rvm_gemstone_package_file rvm_gemstone_url rvm_head_flag rvm_help_path rvm_hook rvm_hooks_path rvm_install_on_use_flag rvm_lib_path rvm_llvm_flag rvm_loaded_flag rvm_log_path rvm_niceness rvm_nightly_flag rvm_only_path_flag rvm_parse_break rvm_patch_original_pwd rvm_patches_path rvm_path rvm_pretty_print_flag rvm_proxy rvm_quiet_flag rvm_reload_flag rvm_remove_flag rvm_repos_path rvm_rubies_path rvm_ruby_alias rvm_ruby_args rvm_ruby_binary rvm_ruby_bits rvm_ruby_configure rvm_ruby_file rvm_ruby_gem_home rvm_ruby_gem_path rvm_ruby_global_gems_path rvm_ruby_home rvm_ruby_interpreter rvm_ruby_irbrc rvm_ruby_major_version rvm_ruby_make rvm_ruby_make_install rvm_ruby_minor_version rvm_ruby_mode rvm_ruby_name rvm_ruby_package_file rvm_ruby_package_name rvm_ruby_patch rvm_ruby_patch_level rvm_ruby_release_version rvm_ruby_repo_url rvm_ruby_revision rvm_ruby_selected_flag rvm_ruby_sha rvm_ruby_string rvm_ruby_strings rvm_ruby_tag rvm_ruby_url rvm_ruby_user_tag rvm_ruby_version rvm_script_name rvm_scripts_path rvm_sdk rvm_user_install_flag rvm_silent_flag rvm_src_path rvm_sticky_flag rvm_system_flag rvm_tmp_path rvm_token rvm_trace_flag rvm_use_flag rvm_user_flag rvm_user_path rvm_usr_path rvm_verbose_flag rvm_wrapper_name rvm_wrappers_path rvm_ruby_repo_branch rvm_man_path rvm_architectures rvm_remote_flag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">fi # if [[ -z &quot;${rvm_tmp_path:-}&quot; ]] || (( __rvm_env_loaded == 1 ))</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="922556263c106697519ff195b474fd9001cc2227">
  <div class="header">
    <h3>/usr/local/rvm/scripts/list</h3>
    <h4><span class="red">22.28 %</span> covered</h4>
    <div>
      <b>184</b> relevant lines. 
      <span class="green"><b>41</b> lines covered</span> and
      <span class="red"><b>143</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="3">
          <span class="hits">17</span>
          
          <code class="ruby">rvm_base_except=&quot;selector&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="5">
          <span class="hits">17</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="9">
          
          
          <code class="ruby">  &quot;${rvm_scripts_path}/help&quot; list &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="10">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">list_remote()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">  is_a_function __list_remote_${1:-rubies}_for || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">    rvm_error &quot;Do not know how to display binary rubies for '${1:-rubies}'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">  typeset version _system_path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">  _system_path=&quot;$( __rvm_system_path_for ${1:-rubies} )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  rubies=($(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    __list_remote_${1:-rubies}_for &quot;${_system_path}&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">      awk -F/ '{print $NF}' | sed 's/.tar.*$//' | sort -u</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">  ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  if (( ${#rubies[@]} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">    rvm_error &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"># No remote rubies available for ${_system_path}.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"># Check 'rvm list known' for what can be installed.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\n# Rubies available for '${_system_path}':\n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">  for version in &quot;${rubies[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    if [[ -r &quot;$rvm_rubies_path/$version/bin/ruby&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">    then printf &quot;%b&quot; &quot; * &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    else printf &quot;%b&quot; &quot;   &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">    if rvm_pretty_print stdout</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">    then printf &quot;%b&quot; &quot;${rvm_notify_clr:-}$version${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">    else printf &quot;%b&quot; &quot;$version\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\n# * - installed already\n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">  if rvm_pretty_print stdout</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">  then printf &quot;%b&quot; &quot;# To download and install: ${rvm_notify_clr:-}rvm install {name} --binary${rvm_reset_clr:-}\n\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">  else printf &quot;%b&quot; &quot;# To download and install: rvm install {name} --binary\n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">list_gemsets()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">  typeset all_rubies version versions ruby_version_name current_ruby selected system_ruby system_version string binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">  if [[ &quot;${1:-&quot;&quot;}&quot; == &quot;strings&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">    list_gemset_strings</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">  current_ruby=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="70">
          
          
          <code class="ruby">  all_rubies=&quot;$(list_strings | sort)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="72">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\nrvm gemsets\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  versions=($(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">    __rvm_cd &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">    find . -maxdepth 1 -mindepth 1 -type d -print 2&gt; /dev/null | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">      awk '/[a-z]*-.*/ {print $NF}' | sort</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">  ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">  for version in &quot;${versions[@]//.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">    ruby_version_name=&quot;$(echo &quot;$version&quot; | awk -F&quot;${rvm_gemset_separator:-&quot;@&quot;}&quot; '{print $1}')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">    if [[ &quot;$all_rubies&quot; != *&quot;$ruby_version_name&quot;* ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">      continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">    if printf &quot;%b&quot; &quot;$version&quot; | GREP_OPTIONS=&quot;&quot; \grep '^jruby-' &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">      string=&quot;[ $(&quot;$rvm_rubies_path/$ruby_version_name/bin/ruby&quot; -v | awk '{print $NF}' | sed -e 's/\[//' -e 's/\]//') ]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">    elif [[ -n &quot;$(echo &quot;$version&quot; | awk '/^maglev-|^macruby-/')&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="95">
          
          
          <code class="ruby">      string=&quot;[ x86_64 ]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">      string=&quot;[ $(file &quot;$rvm_rubies_path/$ruby_version_name/bin/ruby&quot; | awk '/x86.64/ {print &quot;x86_64&quot;} /386/ {print &quot;i386&quot;} /ppc/ {print &quot;ppc&quot;}' | \tr &quot;\n&quot; ' ')]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="100">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">    if [[ &quot;$version&quot; == &quot;$current_ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="104">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;=&gt; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;   &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="109">
          
          
          <code class="ruby">    if rvm_pretty_print stdout</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="111">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${rvm_notify_clr:-}$version${rvm_reset_clr:-} $string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;$version $string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">  if [[ -f &quot;$rvm_path/config/default&quot; &amp;&amp; -s &quot;$rvm_path/config/default&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">    version=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="121">
          
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep 'MY_RUBY_HOME' &quot;$rvm_path/config/default&quot; | head -1 | awk -F&quot;'&quot; '{print $2}' | xargs basename --</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">    if [[ -n &quot;$version&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;\nDefault Ruby (for new shells)\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">      string=&quot;[ $(file &quot;$rvm_rubies_path/$version/bin/ruby&quot; | awk '/x86.64/ {print &quot;x86_64&quot;} /386/ {print &quot;i386&quot;} /ppc/ {print &quot;ppc&quot;}' | \tr &quot;\n&quot; ' ')]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">      if rvm_pretty_print stdout</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;\n  ${rvm_notify_clr:-}$version${rvm_reset_clr:-} $string\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;\n  $version $string\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">list_default()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">  typeset version string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">  if [[ &quot;${args[0]:-&quot;&quot;}&quot; == &quot;string&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/alias&quot; show default 2&gt;/dev/null | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">      awk -F&quot;${rvm_gemset_separator:-&quot;@&quot;}&quot; '{print $1}' | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">      xargs basename --</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">    if [[ -L &quot;$rvm_rubies_path/default&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">      version=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="158">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/alias&quot; show default 2&gt;/dev/null | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">        awk -F&quot;${rvm_gemset_separator:-&quot;@&quot;}&quot; '{print $1}' | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="160">
          
          
          <code class="ruby">        xargs basename --</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">      )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="163">
          
          
          <code class="ruby">      if [[ -n &quot;$version&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;\nDefault Ruby (for new shells)\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="166">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">        string=&quot;[ $(file &quot;$rvm_rubies_path/$version/bin/ruby&quot; | awk '/x86.64/ {print &quot;x86_64&quot;} /386/ {print &quot;i386&quot;} /ppc/ {print &quot;ppc&quot;}' | \tr &quot;\n&quot; ' ')]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">        if rvm_pretty_print stdout</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">          printf &quot;%b&quot; &quot;\n   ${rvm_notify_clr:-}$version${rvm_reset_clr:-} $string\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="173">
          
          
          <code class="ruby">          printf &quot;%b&quot; &quot;\n   $version $string\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">list_ruby_svn_tags()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">  typeset prefix tag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="188">
          
          
          <code class="ruby">  while read -r tag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">    prefix=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="191">
          
          
          <code class="ruby">    echo ${tag/\//} | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="192">
          
          
          <code class="ruby">      sed 's#^v1_##' | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">      awk -F'_' '{print &quot;(ruby-)1.&quot;$1&quot;.&quot;$2}' | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="194">
          
          
          <code class="ruby">      sed 's#p$##'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">    )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">    echo &quot;${prefix}-t${tag/\//}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">  done &lt; &lt;(svn list http://svn.ruby-lang.org/repos/ruby/tags/ | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">    awk '/^v1_[8|9]/')</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="202">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby"># Query for valid rvm ruby strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby"># This is meant to be used with scripting.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">list_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">  (</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="210">
          <span class="hits">12</span>
          
          <code class="ruby">  __rvm_cd &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="211">
          <span class="hits">24</span>
          
          <code class="ruby">  find . -maxdepth 1 -mindepth 1 -type d | sed -e 's#./##g'</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="212">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="214">
          <span class="hits">12</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby"># This is meant to be used with scripting.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">list_gemset_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="220">
          
          
          <code class="ruby">  typeset all_rubies ruby_name gemset gemsets</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">  all_rubies=&quot;$(list_strings | sort)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">  gemsets=($(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="225">
          
          
          <code class="ruby">    __rvm_cd &quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">    find . -maxdepth 1 -mindepth 1 -type d 2&gt;/dev/null | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">      xargs -n1 basename -- | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="228">
          
          
          <code class="ruby">      GREP_OPTIONS=&quot;&quot; \grep -v '^\(@\|doc$\|cache$\|system$\)' | sort</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="229">
          
          
          <code class="ruby">  ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">  for gemset in &quot;${gemsets[@]//.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">    ruby_name=&quot;${gemset//${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">    if [[ &quot;$all_rubies&quot; != *&quot;$ruby_name&quot;* ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">      continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">    echo &quot;$gemset&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="242">
          
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby"># This is meant to be used with scripting.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">list_known_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="247">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="248">
          
          
          <code class="ruby">  sed -e 's/#.*$//g' -e 's#\[##g' -e 's#\]##g' &lt; &quot;$rvm_path/config/known&quot; | \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="249">
          
          
          <code class="ruby">    sort -r | uniq</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="251">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="252">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="253">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="254">
          
          
          <code class="ruby">list_known()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="255">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">  if [[ &quot;${1:-&quot;&quot;}&quot; == &quot;strings&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">    list_known_strings</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">  if [[ -t 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="264">
          
          
          <code class="ruby">    __rvm_pager_or_cat_v &quot;$rvm_path/config/known&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">    cat &quot;$rvm_path/config/known&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="269">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">list_rubies_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="273">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">  (</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="275">
          
          
          <code class="ruby">  __rvm_cd &quot;$rvm_rubies_path&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="276">
          
          
          <code class="ruby">    find -maxdepth 0 -type d | tail -n+2 | xargs -n1 basename -- |  __rvm_strip</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="277">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="279">
          
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="282">
          
          
          <code class="ruby">list_rubies()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="283">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="284">
          <span class="hits">5</span>
          
          <code class="ruby">  typeset current_ruby rubies version selected system_ruby system_version \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">    default_ruby string binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="286">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="287">
          <span class="hits">5</span>
          
          <code class="ruby">  if [[ &quot;${1:-&quot;&quot;}&quot; == &quot;strings&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="288">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="289">
          
          
          <code class="ruby">    list_rubies_strings</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="290">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="293">
          <span class="hits">10</span>
          
          <code class="ruby">  current_ruby=&quot;$( __rvm_env_string )&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="294">
          <span class="hits">5</span>
          
          <code class="ruby">  current_ruby=&quot;${current_ruby%${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="296">
          <span class="hits">10</span>
          
          <code class="ruby">  default_ruby=&quot;$( &quot;$rvm_scripts_path/alias&quot; show default 2&gt;/dev/null )&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="297">
          <span class="hits">5</span>
          
          <code class="ruby">  default_ruby=&quot;${default_ruby%${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="299">
          <span class="hits">5</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\nrvm rubies\n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">  rubies=($(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="302">
          
          
          <code class="ruby">    __rvm_cd &quot;$rvm_rubies_path/&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="303">
          
          
          <code class="ruby">    find . -maxdepth 1 -mindepth 1 -type d 2&gt; /dev/null | sort</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="304">
          <span class="hits">5</span>
          
          <code class="ruby">  ))</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="305">
          <span class="hits">5</span>
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="44" data-linenumber="306">
          <span class="hits">44</span>
          
          <code class="ruby">  for version in &quot;${rubies[@]//.\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="307">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="308">
          <span class="hits">34</span>
          
          <code class="ruby">    if [[ ! -x &quot;$rvm_rubies_path/$version/bin/ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="310">
          
          
          <code class="ruby">      continue</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="312">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="37" data-linenumber="313">
          <span class="hits">37</span>
          
          <code class="ruby">    if [[ &quot;$version&quot; = &quot;$current_ruby&quot; &amp;&amp; &quot;$version&quot; = &quot;$default_ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="315">
          <span class="hits">1</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot;=* &quot;</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="316">
          <span class="hits">33</span>
          
          <code class="ruby">    elif [[ &quot;$version&quot; = &quot;$current_ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="317">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="318">
          <span class="hits">2</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot;=&gt; &quot;</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="319">
          <span class="hits">31</span>
          
          <code class="ruby">    elif [[ &quot;$version&quot; = &quot;$default_ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="321">
          <span class="hits">1</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot; * &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="30" data-linenumber="323">
          <span class="hits">30</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot;   &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="102" data-linenumber="326">
          <span class="hits">102</span>
          
          <code class="ruby">    if [[ ! -z &quot;$(echo &quot;$version&quot; | awk '/^maglev-|^macruby-/')&quot; ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="327">
          
          
          <code class="ruby">      string=&quot;[ x86_64 ]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="102" data-linenumber="329">
          <span class="hits">102</span>
          
          <code class="ruby">      string=&quot;[ $(. $rvm_rubies_path/$version/config ; echo $target_cpu) ]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="331">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="332">
          <span class="hits">34</span>
          
          <code class="ruby">    if rvm_pretty_print stdout</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="333">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="334">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${rvm_notify_clr:-}$version${rvm_reset_clr:-} $string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="336">
          <span class="hits">34</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot;$version $string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="337">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="339">
          <span class="hits">34</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="342">
          <span class="hits">5</span>
          
          <code class="ruby">  if (( ${#rubies[@]} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="343">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="344">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby"># No rvm rubies installed yet. Try 'rvm help install'.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="346">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="347">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="348">
          <span class="hits">5</span>
          
          <code class="ruby">    if [[ -z &quot;${default_ruby}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="349">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="350">
          <span class="hits">3</span>
          
          <code class="ruby">      printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby"># Default ruby not set. Try 'rvm alias create default &lt;ruby&gt;'.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="352">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="353">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="354">
          <span class="hits">5</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="355">
          
          
          <code class="ruby"># =&gt; - current</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby"># =* - current &amp;&amp; default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="357">
          
          
          <code class="ruby">#  * - default</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="358">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="360">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="361">
          <span class="hits">5</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="362">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="363">
          <span class="hits">5</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="364">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="366">
          
          
          <code class="ruby"># List all rvm installed rubies, default ruby and system ruby.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby"># Display the rubies, indicate their architecture and indicate which is currently used.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby"># This is not meant to be used with scripting. This is for interactive mode usage only.</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="369">
          <span class="hits">17</span>
          
          <code class="ruby">args=($*)</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="370">
          <span class="hits">17</span>
          
          <code class="ruby">action=&quot;${args[0]:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="371">
          <span class="hits">17</span>
          
          <code class="ruby">args=${args[@]:1} # Strip trailing / leading / extra spacing.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="372">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="373">
          <span class="hits">17</span>
          
          <code class="ruby">case &quot;${action:-rubies}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="374">
          
          
          <code class="ruby">  -r|--remote|remote) list_remote &quot;${args// /}&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="375">
          
          
          <code class="ruby">  known)         list_known           ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="376">
          
          
          <code class="ruby">  known_strings) list_known_strings   ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="377">
          
          
          <code class="ruby">  gemsets)       list_gemsets &quot;$args&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="378">
          
          
          <code class="ruby">  default)       list_default         ;;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="379">
          <span class="hits">5</span>
          
          <code class="ruby">  rubies)        list_rubies &quot;$args&quot;  ;;</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="380">
          <span class="hits">12</span>
          
          <code class="ruby">  strings)       list_strings         ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="381">
          
          
          <code class="ruby">  ruby_svn_tags) list_ruby_svn_tags   ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="382">
          
          
          <code class="ruby">  help)          usage                ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="383">
          
          
          <code class="ruby">  *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">    rvm_error_help &quot;Unknown action '$action' for 'rvm list'.&quot; list $action</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="385">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="386">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="17" data-linenumber="389">
          <span class="hits">17</span>
          
          <code class="ruby">exit $?</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="f265bbf282d03fdae21bec2175e3aefc9943c65f">
  <div class="header">
    <h3>/usr/local/rvm/scripts/manage</h3>
    <h4><span class="yellow">88.89 %</span> covered</h4>
    <div>
      <b>18</b> relevant lines. 
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="3">
          <span class="hits">8</span>
          
          <code class="ruby">sys=$( uname -s )</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="4">
          <span class="hits">4</span>
          
          <code class="ruby">if [[ &quot;${sys}&quot; == AIX ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="5">
          
          
          <code class="ruby">then name_opt=-name</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="6">
          <span class="hits">4</span>
          
          <code class="ruby">else name_opt=-iname</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="8">
          <span class="hits">4</span>
          
          <code class="ruby">original_ruby_version=${rvm_ruby_version:-&quot;&quot;}</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="9">
          <span class="hits">4</span>
          
          <code class="ruby">original_ruby_string=${rvm_ruby_string:-&quot;&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="11">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="12">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/patches&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="13">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/build&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="14">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/pkg&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="15">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/irbrc&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="16">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/db&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="17">
          <span class="hits">4</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/manage/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="19">
          <span class="hits">4</span>
          
          <code class="ruby">if [[ -n &quot;${RUBYOPT:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">then ruby_options=&quot;$RUBYOPT&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="22">
          <span class="hits">4</span>
          
          <code class="ruby">unset RUBYLIB RUBYOPT # Sanity check.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="24">
          <span class="hits">4</span>
          
          <code class="ruby">binaries=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="26">
          <span class="hits">4</span>
          
          <code class="ruby">__rvm_manage_rubies  # located in scripts/functions/manage/base</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="8ec3d5ed0d355c54ac855f1d2bcaee9cf62a1f85">
  <div class="header">
    <h3>/usr/local/rvm/scripts/override_gem</h3>
    <h4><span class="green">92.31 %</span> covered</h4>
    <div>
      <b>13</b> relevant lines. 
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="3">
          <span class="hits">46</span>
          
          <code class="ruby">if [[ ${rvm_leave_gem_alone:-0} -eq 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">  function gem</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="7">
          <span class="hits">11</span>
          
          <code class="ruby">    typeset result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="9">
          <span class="hits">11</span>
          
          <code class="ruby">      typeset rvmrc</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="10">
          <span class="hits">11</span>
          
          <code class="ruby">      rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="11">
          <span class="hits">22</span>
          
          <code class="ruby">      if [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp; ! [[ &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="12">
          <span class="hits">11</span>
          
          <code class="ruby">         then rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="15">
          <span class="hits">33</span>
          
          <code class="ruby">      for rvmrc in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="16">
          <span class="hits">66</span>
          
          <code class="ruby">      do [[ -s &quot;${rvmrc}&quot; ]] &amp;&amp; source &quot;${rvmrc}&quot; || true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">      done</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="18">
          <span class="hits">11</span>
          
          <code class="ruby">      unset rvm_rvmrc_files</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="19">
          <span class="hits">22</span>
          
          <code class="ruby">      command gem &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    ) || result=$?</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="21">
          <span class="hits">11</span>
          
          <code class="ruby">    hash -r</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="22">
          <span class="hits">11</span>
          
          <code class="ruby">    return ${result:-0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">fi</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="6fb914cf59b533e6d4c64812ea97989814f90290">
  <div class="header">
    <h3>/usr/local/rvm/scripts/patches</h3>
    <h4><span class="red">76.67 %</span> covered</h4>
    <div>
      <b>30</b> relevant lines. 
      <span class="green"><b>23</b> lines covered</span> and
      <span class="red"><b>7</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># General tools for manipulating patches</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># and dealing with patches.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"># Returns the path used to look for a patch given a specific name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">__rvm_patch_lookup_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="9">
          <span class="hits">2</span>
          
          <code class="ruby">  echo &quot;/&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="10">
          <span class="hits">2</span>
          
          <code class="ruby">  [[ -z &quot;${rvm_patch_original_pwd:-&quot;&quot;}&quot; ]] || echo &quot;$rvm_patch_original_pwd/&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="11">
          <span class="hits">2</span>
          
          <code class="ruby">  echo &quot;$PWD/&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="12">
          <span class="hits">6</span>
          
          <code class="ruby">  __rvm_ruby_string_paths_under &quot;$rvm_patches_path&quot; | sed 's/$/\//' | sort -r</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="13">
          <span class="hits">2</span>
          
          <code class="ruby">  return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">__rvm_expand_patch_name()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="18">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset name level expanded_patch_name</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="19">
          <span class="hits">1</span>
          
          <code class="ruby">  name=&quot;${1:-&quot;&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="20">
          <span class="hits">1</span>
          
          <code class="ruby">  level=&quot;${2:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -n &quot;$name&quot; ]] || return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    expanded_patch_name=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;${rvm_ruby_string}&quot; &quot;$rvm_scripts_path/patchsets&quot; show &quot;$name&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="25">
          <span class="hits">1</span>
          
          <code class="ruby">    )&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="26">
          <span class="hits">2</span>
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="27">
          <span class="hits">1</span>
          
          <code class="ruby">    echo &quot;${expanded_patch_name}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    [[ &quot;$name&quot; != &quot;default&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    echo &quot;${name}${level:+%}${level:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"># Return the full patch for a given patch.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">__rvm_lookup_full_patch_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="38">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset extension patch_path directory directories __old_IFS</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">  # Absolute path, pwd and then finally the rvm patches path.</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="40">
          <span class="hits">2</span>
          
          <code class="ruby">  __old_IFS=&quot;$IFS&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="41">
          <span class="hits">2</span>
          
          <code class="ruby">  IFS=$'\n'</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="42">
          <span class="hits">4</span>
          
          <code class="ruby">  directories=($( __rvm_patch_lookup_path ))</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="43">
          <span class="hits">2</span>
          
          <code class="ruby">  IFS=&quot;$__old_IFS&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="44">
          <span class="hits">10</span>
          
          <code class="ruby">  for directory in &quot;${directories[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="46">
          <span class="hits">29</span>
          
          <code class="ruby">    for extension in &quot;&quot; .patch .diff</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="48">
          <span class="hits">29</span>
          
          <code class="ruby">      patch_path=&quot;${directory}${1}${extension}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      # -s reports directories too - so additional check -f needed</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="51">
          <span class="hits">31</span>
          
          <code class="ruby">        [[ -s &quot;$patch_path&quot; &amp;&amp; -f &quot;$patch_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="53">
          <span class="hits">2</span>
          
          <code class="ruby">        echo &quot;$patch_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">        return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    __rvm_string_match &quot;$1&quot; &quot;http://*&quot; &quot;https://*&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">    file_exists_at_url &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">    echo &quot;$1&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="0e6c9c465d10a584125e5db10028955524cc7357">
  <div class="header">
    <h3>/usr/local/rvm/scripts/patchsets</h3>
    <h4><span class="red">60.71 %</span> covered</h4>
    <div>
      <b>28</b> relevant lines. 
      <span class="green"><b>17</b> lines covered</span> and
      <span class="red"><b>11</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="3">
          <span class="hits">2</span>
          
          <code class="ruby">rvm_base_except=&quot;selector&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="5">
          <span class="hits">2</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="6">
          <span class="hits">2</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/patches&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">lookup_patchset()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="10">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset paths lookup_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="12">
          <span class="hits">2</span>
          
          <code class="ruby">  if [[ -z &quot;$1&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">    echo &quot;Usage: rvm patchset show name&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="18">
          <span class="hits">6</span>
          
          <code class="ruby">  paths=($(__rvm_ruby_string_paths_under &quot;$rvm_path/patchsets&quot; | sort -r))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="20">
          <span class="hits">6</span>
          
          <code class="ruby">  for lookup_path in &quot;${paths[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="22">
          <span class="hits">6</span>
          
          <code class="ruby">    if [[ -s &quot;$lookup_path/$1&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="24">
          <span class="hits">2</span>
          
          <code class="ruby">      cat &quot;$lookup_path/$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="25">
          <span class="hits">2</span>
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">  Usage:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">    rvm patchset {show,lookup} [patchset]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">  Description:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="41">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">    Tools for manipulating patchsets.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="48">
          <span class="hits">2</span>
          
          <code class="ruby">args=($*)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="49">
          <span class="hits">2</span>
          
          <code class="ruby">action=&quot;${args[0]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="50">
          <span class="hits">2</span>
          
          <code class="ruby">patchset=&quot;${args[1]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="51">
          <span class="hits">4</span>
          
          <code class="ruby">args=&quot;$(echo ${args[@]:2})&quot; # Strip trailing / leading / extra spacing.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="53">
          <span class="hits">2</span>
          
          <code class="ruby">case &quot;$action&quot; in</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">  show|lookup) lookup_patchset &quot;$patchset&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">  *) usage ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="58">
          <span class="hits">2</span>
          
          <code class="ruby">exit $?</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="d2c794e6ceb38ea8f98569a29490f5347bea6aa7">
  <div class="header">
    <h3>/usr/local/rvm/scripts/rubygems</h3>
    <h4><span class="red">34.92 %</span> covered</h4>
    <div>
      <b>189</b> relevant lines. 
      <span class="green"><b>66</b> lines covered</span> and
      <span class="red"><b>123</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="3">
          <span class="hits">1</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="4">
          <span class="hits">1</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/functions/db&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="6">
          <span class="hits">1</span>
          
          <code class="ruby">result=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="8">
          <span class="hits">1</span>
          
          <code class="ruby">__rvm_become</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">rubygems_remove()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="12">
          <span class="hits">1</span>
          
          <code class="ruby">  typeset rubygems_path ruby entry</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="14">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Removing old Rubygems files...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$rvm_ruby_string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">    (rbx-*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">      ruby=&quot;['prefix']&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    (*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="21">
          <span class="hits">1</span>
          
          <code class="ruby">      ruby=&quot;.values_at('sitelibdir','vendorlibdir').detect{ |path| File.directory?(File.join(path.to_s, 'rubygems')) }.to_s&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="24">
          <span class="hits">2</span>
          
          <code class="ruby">  rubygems_path=&quot;$(ruby -rrbconfig -e &quot;puts ::Kernel.const_get('RbConfig')::CONFIG$ruby&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby">  # Remove common files installed by ruby gems.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  entries=(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  &quot;${rubygems_path}/ubygems.rb&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  &quot;${rubygems_path}/gauntlet_rubygems.rb&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">  &quot;${rubygems_path}/rbconfig/&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="31">
          <span class="hits">1</span>
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="32">
          <span class="hits">4</span>
          
          <code class="ruby">  for entry in &quot;${entries[@]}&quot; &quot;${rubygems_path}/rubygems&quot;*</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="34">
          <span class="hits">4</span>
          
          <code class="ruby">    __rvm_rm_rf &quot;$entry&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">can_switch_rubygems()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="39">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="40">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$rvm_ruby_string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">    maglev*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="45">
          <span class="hits">1</span>
          
          <code class="ruby">      return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">make_sure_jruby_can_work_with_rubygems()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="52">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$rvm_ruby_string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">    jruby-head*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">    jruby*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">      __rvm_version_compare &quot;$rvm_ruby_version&quot; -ge 1.7.1 || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="60">
          <span class="hits">1</span>
          
          <code class="ruby">      return 0 # do not care about other rubies</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">  case &quot;${rvm_rubygems_version}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">    head|master)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">      __rvm_version_compare &quot;$rvm_rubygems_version&quot; -ge 2.0.0 || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">rubygems_fatal_error()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">  rvm_error &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">  exit ${2:-1}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">rubygems_version_list()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="82">
          <span class="hits">1</span>
          
          <code class="ruby">  curl -s https://api.github.com/repos/rubygems/rubygems/tags |</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="83">
          <span class="hits">1</span>
          
          <code class="ruby">    sed -n '/&quot;name&quot;: / {s/^.*&quot;.*&quot;: &quot;v\(.*\)&quot;.*$/\1/; p;}' |</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="84">
          <span class="hits">2</span>
          
          <code class="ruby">    LC_ALL=C sort -t. -k 1,1n -k 2,2n -k 3,3n -k 4,4n -k 5,5n |</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="85">
          <span class="hits">2</span>
          
          <code class="ruby">    GREP_OPTIONS=&quot;&quot; \grep '^[[:digit:]\.]*$'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">rubygems_master_sha()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">  curl -s &quot;https://api.github.com/repos/rubygems/rubygems/commits?page=last&amp;per_page=1&quot; | sed -n '/^    &quot;sha&quot;:/ {s/^.*&quot;.*&quot;: &quot;\(.*\)&quot;.*$/\1/;p;}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">rubygems_select_version_url()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="95">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$version&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="96">
          
          
          <code class="ruby">    latest|current)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="97">
          <span class="hits">1</span>
          
          <code class="ruby">      case &quot;$rvm_ruby_string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">        ruby-1.8*|ree-1.8*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="99">
          <span class="hits">1</span>
          
          <code class="ruby">          typeset _rbv</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="100">
          <span class="hits">1</span>
          
          <code class="ruby">          _rbv=${rvm_ruby_version##*.}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="101">
          <span class="hits">1</span>
          
          <code class="ruby">          if (( _rbv &lt;= 5 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="103">
          
          
          <code class="ruby">            version=1.3.5</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">          elif (( _rbv == 6 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">            version=1.3.7</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">          ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="113">
          <span class="hits">2</span>
          
          <code class="ruby">  case &quot;$version&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">    latest|current)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="115">
          <span class="hits">2</span>
          
          <code class="ruby">      version=&quot;$(__rvm_db &quot;${rvm_ruby_string//-/_}_rubygems_version&quot;)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="116">
          <span class="hits">2</span>
          
          <code class="ruby">      version=&quot;${version:-&quot;$(__rvm_db &quot;${rvm_ruby_interpreter}_${rvm_ruby_version}_rubygems_version&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="117">
          <span class="hits">2</span>
          
          <code class="ruby">      version=&quot;${version:-&quot;$(__rvm_db &quot;${rvm_ruby_interpreter}_rubygems_version&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="118">
          <span class="hits">2</span>
          
          <code class="ruby">      version=&quot;${version:-&quot;$(__rvm_db &quot;rubygems_version&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="122">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;$version&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">    latest-*)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="124">
          <span class="hits">1</span>
          
          <code class="ruby">      version=&quot;${version#latest-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="125">
          <span class="hits">5</span>
          
          <code class="ruby">      version=&quot;$(rubygems_version_list | GREP_OPTIONS=&quot;&quot; \grep &quot;^${version}\.&quot; | tail -n 1 )&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="126">
          <span class="hits">1</span>
          
          <code class="ruby">      version=&quot;${version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="130">
          <span class="hits">1</span>
          
          <code class="ruby">  case &quot;${version:-missing}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">    head|master)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">      typeset sha</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">      sha=&quot;$(rubygems_master_sha)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">      rvm_rubygems_version=&quot;$version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">      rvm_gem_package_name=&quot;rubygems-${sha}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="136">
          
          
          <code class="ruby">      rvm_gem_url=&quot;https://github.com/rubygems/rubygems/archive/${sha}.tar.gz&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="137">
          
          
          <code class="ruby">      export rvm_verify_downloads_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">    v*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">      rvm_rubygems_version=&quot;$version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="141">
          
          
          <code class="ruby">      rvm_gem_package_name=&quot;rubygems-${version#v}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">      rvm_gem_url=&quot;https://github.com/rubygems/rubygems/archive/$version.tar.gz&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">      export rvm_verify_downloads_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="144">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">    missing)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">      rvm_error &quot;There was an error while trying to resolve rubygems version for '$1'. \nHalting the installation.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="147">
          
          
          <code class="ruby">      return 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="149">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="150">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_rubygems_version=&quot;$version&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="151">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_gem_package_name=&quot;rubygems-${rvm_rubygems_version}&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="152">
          <span class="hits">2</span>
          
          <code class="ruby">      rvm_rubygems_url=$(__rvm_db &quot;rubygems_url&quot;)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="153">
          <span class="hits">1</span>
          
          <code class="ruby">      rvm_gem_url=&quot;${rvm_rubygems_url}/${rvm_gem_package_name}.tgz&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby">rubygems_setup()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="160">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_warn_on_rubyopt</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="162">
          <span class="hits">1</span>
          
          <code class="ruby">  true ${rvm_ruby_selected_flag:=0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="164">
          <span class="hits">1</span>
          
          <code class="ruby">  unset RUBYOPT</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="166">
          <span class="hits">2</span>
          
          <code class="ruby">  (( rvm_ruby_selected_flag == 0 )) || __rvm_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="168">
          <span class="hits">1</span>
          
          <code class="ruby">  rubygems_select_version_url &quot;$version&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="170">
          <span class="hits">1</span>
          
          <code class="ruby">  make_sure_jruby_can_work_with_rubygems ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">  rubygems_fatal_error &quot;RVM can not install rubygems for older jruby, select other ruby and try again.&quot; $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">  # always cleanup!</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="174">
          <span class="hits">1</span>
          
          <code class="ruby">  [[ -d &quot;${rvm_src_path}/$rvm_gem_package_name&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;${rvm_src_path}/$rvm_gem_package_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="177">
          <span class="hits">1</span>
          
          <code class="ruby">  rvm_log &quot;Retrieving $rvm_gem_package_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="178">
          <span class="hits">1</span>
          
          <code class="ruby">  &quot;$rvm_scripts_path/fetch&quot; &quot;$rvm_gem_url&quot; &quot;${rvm_gem_package_name}.tgz&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="179">
          
          
          <code class="ruby">  rubygems_fatal_error &quot;There has been an error while trying to fetch rubygems. \nHalting the installation.&quot; $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="181">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_log_command &quot;rubygems.extract&quot; &quot;Extracting $rvm_gem_package_name ...&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">  __rvm_package_extract &quot;${rvm_archives_path}/$rvm_gem_package_name.tgz&quot; &quot;${rvm_src_path}&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">  rubygems_fatal_error &quot;There has been an error while trying to extract rubygems. \nHalting the installation.&quot; $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="185">
          <span class="hits">1</span>
          
          <code class="ruby">  rubygems_remove # Remove old gems.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="187">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_cd &quot;${rvm_src_path}/$rvm_gem_package_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="190">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_log_command &quot;rubygems.install&quot; &quot;Installing $rvm_gem_package_name for ${rvm_ruby_string}&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="191">
          
          
          <code class="ruby">      GEM_PATH=&quot;$GEM_PATH:${GEM_PATH%%@*}@global&quot; GEM_HOME=&quot;$GEM_HOME&quot; &quot;${rvm_ruby_binary}&quot; -d &quot;${rvm_src_path}/$rvm_gem_package_name/setup.rb&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="193">
          <span class="hits">1</span>
          
          <code class="ruby">    typeset program_suffix</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="194">
          <span class="hits">2</span>
          
          <code class="ruby">    program_suffix=&quot;$( __rvm_ruby_config_get configure_args &quot;${rvm_ruby_binary}&quot; )&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="195">
          <span class="hits">1</span>
          
          <code class="ruby">    case &quot;${program_suffix:-}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">      (*--program-suffix=*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">        program_suffix=&quot;${program_suffix#*--program-suffix=}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="198">
          
          
          <code class="ruby">        program_suffix=&quot;${program_suffix%%[\' ]*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">        __rvm_run &quot;link.gem&quot; &quot;ln -s \&quot;$rvm_ruby_home/bin/gem${program_suffix}\&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">          \&quot;$rvm_ruby_home/bin/gem\&quot;&quot; &quot;$rvm_ruby_string - #linking gem${program_suffix} -&gt; gem &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="203">
          <span class="hits">1</span>
          
          <code class="ruby">    rvm_log &quot;Installation of rubygems completed successfully.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">    rvm_warn &quot;Installation of rubygems did not complete successfully.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="208">
          <span class="hits">1</span>
          
          <code class="ruby">  __rvm_rubygems_create_link &quot;${rvm_ruby_binary}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby">rubygems_link()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">  __rvm_rubygems_create_link</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="216">
          <span class="hits">1</span>
          
          <code class="ruby">builtin command -v ruby &gt; /dev/null || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">  rvm_error &quot;'ruby' was not found, cannot install rubygems unless ruby is present (Do you have an RVM ruby installed &amp; selected?)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="219">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="221">
          
          
          <code class="ruby">rubygems_validate_gemfile_extract()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">  \mkdir -p &quot;$2/gem&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="224">
          
          
          <code class="ruby">  \tar -C &quot;$2&quot; -xf &quot;$1&quot; --touch &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="225">
          
          
          <code class="ruby">  \cd &quot;$2&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">  \gzip -d &quot;metadata.gz&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">  \tar -C gem -xzf &quot;data.tar.gz&quot; --touch &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="228">
          
          
          <code class="ruby">  \rm &quot;data.tar.gz&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="230">
          
          
          <code class="ruby">    typeset ret=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">    rvm_error &quot;Error extracting '$1' to '$2'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">    \rm -rf &quot;${rvm_tmp_path}/rg$$&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">    return $ret</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="235">
          
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="237">
          
          
          <code class="ruby"># Adapted from: https://gist.github.com/4678778</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">rubygems_validate_gemfile()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="240">
          
          
          <code class="ruby">  gem_file=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="241">
          
          
          <code class="ruby">  downloaded_file=&quot;${gem_file##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="242">
          
          
          <code class="ruby">  gem__url=&quot;${2:-https://d2chzxaqi4y7f8.cloudfront.net/gems/$downloaded_file}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="243">
          
          
          <code class="ruby">  dir_local_copy=&quot;${downloaded_file%.gem}--local&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="244">
          
          
          <code class="ruby">  dir_remote_copy=&quot;${downloaded_file%.gem}-remote&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="245">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">  mkdir -p &quot;${rvm_tmp_path}/rg$$&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="247">
          
          
          <code class="ruby">  cd &quot;${rvm_tmp_path}/rg$$&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="248">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="249">
          
          
          <code class="ruby">  curl -fsS3 &quot;$gem__url&quot; -o &quot;$downloaded_file&quot; &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="250">
          
          
          <code class="ruby">  [[ -f &quot;$downloaded_file&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="252">
          
          
          <code class="ruby">    typeset ret=$?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="253">
          
          
          <code class="ruby">    rvm_error &quot;Could not download '$gem__url'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="254">
          
          
          <code class="ruby">    \rm -rf &quot;${rvm_tmp_path}/rg$$&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">    return $ret</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="256">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="258">
          
          
          <code class="ruby">  rubygems_validate_gemfile_extract &quot;$gem_file&quot;        &quot;$dir_local_copy&quot;  || return $?</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">  rubygems_validate_gemfile_extract &quot;$downloaded_file&quot; &quot;$dir_remote_copy&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby">  # compare</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">  diff -ru &quot;$dir_local_copy&quot; &quot;$dir_remote_copy&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="263">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="264">
          
          
          <code class="ruby">  # cleanup</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="265">
          
          
          <code class="ruby">  \rm -rf &quot;${rvm_tmp_path}/rg$$&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="267">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="268">
          
          
          <code class="ruby">rubygems_validate_list_gemdirs()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="270">
          
          
          <code class="ruby">  for gemdir in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="271">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="272">
          
          
          <code class="ruby">    while [[ -L &quot;${gemdir}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="273">
          
          
          <code class="ruby">    do gemdir=&quot;$( readlink &quot;${gemdir}&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="275">
          
          
          <code class="ruby">    echo &quot;${gemdir}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="276">
          
          
          <code class="ruby">  done | sort -u</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="277">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="278">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="279">
          
          
          <code class="ruby"># Adapted from: https://gist.github.com/4678189</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">rubygems_validate()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">  which openssl &gt; /dev/null ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="283">
          
          
          <code class="ruby">    rubygems_fatal_error &quot;'openssl' was not found, please install it.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="284">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">  typeset gemdir gemfile url gem loc rem log</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="286">
          
          
          <code class="ruby">  typeset -a gemdirs</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="287">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="288">
          
          
          <code class="ruby">  rvm_log  &quot;Validating RubyGems... This will take a while...&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="289">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="290">
          
          
          <code class="ruby">  __rvm_read_lines gemdirs &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="291">
          
          
          <code class="ruby">    rubygems_validate_list_gemdirs &quot;$@&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="292">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="293">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="294">
          
          
          <code class="ruby">  (( ${#gemdirs[@]} )) ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="295">
          
          
          <code class="ruby">  __rvm_read_lines gemdirs &lt;(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="296">
          
          
          <code class="ruby">    rubygems_validate_list_gemdirs &quot;$rvm_gems_path&quot;/*/cache</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="297">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="298">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="299">
          
          
          <code class="ruby">  for gemdir in &quot;${gemdirs[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="300">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="301">
          
          
          <code class="ruby">    for gem in &quot;$gemdir&quot;/*.gem</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="303">
          
          
          <code class="ruby">      gemfile=&quot;${gem##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="304">
          
          
          <code class="ruby">      url=&quot;https://d2chzxaqi4y7f8.cloudfront.net/gems/$gemfile&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="305">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;${rvm_notify_clr}${gem}${rvm_reset_clr}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="306">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="307">
          
          
          <code class="ruby">      loc=$(openssl md5 $gem |cut -d&quot; &quot; -f2)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="308">
          
          
          <code class="ruby">      rem=$(curl -3 -s -D - -X HEAD -H 'Connection:close' &quot;$url&quot; | \grep 'ETag' | cut -d'&quot;' -f2)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="309">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="310">
          
          
          <code class="ruby">      [[ $loc == $rem ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="311">
          
          
          <code class="ruby">      {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="312">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">        log=&quot;${rvm_log_path}/$gemfile.diff&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="314">
          
          
          <code class="ruby">        rubygems_validate_gemfile &quot;$gem&quot; &quot;$url&quot; &gt; &quot;$log&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="315">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;${rvm_error_clr}mismatch, local: $loc, remote: $rem${rvm_reset_clr}, differences recorded in '$log'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="316">
          
          
          <code class="ruby">      }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="317">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;, &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="318">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="319">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="320">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">  rvm_log &quot;\nDone verifying gems.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="322">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="323">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="324">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="325">
          
          
          <code class="ruby"># rvm rubygems X</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="326">
          
          
          <code class="ruby">#</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="327">
          <span class="hits">1</span>
          
          <code class="ruby">export version</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="328">
          <span class="hits">1</span>
          
          <code class="ruby">version=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="329">
          <span class="hits">1</span>
          
          <code class="ruby">shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="330">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="331">
          <span class="hits">1</span>
          
          <code class="ruby">[[ -n &quot;$version&quot; ]] || {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="332">
          
          
          <code class="ruby">  rvm_error &quot;Usage: rvm rubygems [x.y.z|latest-x.y|latest|remove]&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="333">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="334">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="335">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="336">
          <span class="hits">1</span>
          
          <code class="ruby">can_switch_rubygems ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="337">
          
          
          <code class="ruby">rubygems_fatal_error &quot;RVM can not install rubygems for maglev and older jruby, select other ruby and try again.&quot; $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="338">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="339">
          <span class="hits">1</span>
          
          <code class="ruby">case &quot;$version&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="340">
          
          
          <code class="ruby">  remove|link|validate|validate_gemfile)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="341">
          
          
          <code class="ruby">    rubygems_$version &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="343">
          
          
          <code class="ruby">  *)</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="344">
          <span class="hits">1</span>
          
          <code class="ruby">    rubygems_setup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">    ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="346">
          
          
          <code class="ruby">esac</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="964c2a364c593dd9e0c7d0fd5d9e757e1755048f">
  <div class="header">
    <h3>/usr/local/rvm/scripts/rvm</h3>
    <h4><span class="red">55.43 %</span> covered</h4>
    <div>
      <b>92</b> relevant lines. 
      <span class="green"><b>51</b> lines covered</span> and
      <span class="red"><b>41</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># rvm : Ruby enVironment Manager</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"># https://rvm.io</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># https://github.com/wayneeseguin/rvm</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"># also duplicated in scripts/base</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="8">
          
          
          <code class="ruby">__rvm_has_opt()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="11">
          <span class="hits">46</span>
          
          <code class="ruby">    [[ -n &quot;${ZSH_VERSION}&quot;  ]] &amp;&amp; setopt | \grep &quot;^${1}$&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="12">
          
          
          <code class="ruby">  } ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="14">
          <span class="hits">92</span>
          
          <code class="ruby">    [[ -n &quot;${BASH_VERSION}&quot; ]] &amp;&amp; [[ &quot;:$SHELLOPTS:&quot; =~ &quot;:${1}:&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="15">
          
          
          <code class="ruby">  } ||</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="16">
          <span class="hits">46</span>
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"># Do not allow sourcing RVM in `sh` - it's not supported</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"># return 0 to exit from sourcing this script without breaking sh</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="21">
          <span class="hits">46</span>
          
          <code class="ruby">if __rvm_has_opt &quot;posix&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">then return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"># TODO: Alter the variable names to make sense</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="26">
          <span class="hits">46</span>
          
          <code class="ruby">\export HOME rvm_prefix rvm_user_install_flag rvm_path</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="27">
          <span class="hits">46</span>
          
          <code class="ruby">HOME=&quot;${HOME%%+(\/)}&quot; # Remove trailing slashes if they exist on HOME</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="151" data-linenumber="29">
          <span class="hits">151</span>
          
          <code class="ruby">[[ -n &quot;${rvm_stored_umask:-}&quot; ]] || export rvm_stored_umask=$(umask)</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="30">
          <span class="hits">46</span>
          
          <code class="ruby">if (( ${rvm_ignore_rvmrc:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="32">
          <span class="hits">35</span>
          
          <code class="ruby">  rvm_rvmrc_files=(&quot;/etc/rvmrc&quot; &quot;$HOME/.rvmrc&quot;)</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="33">
          <span class="hits">70</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_prefix:-}&quot; ]] &amp;&amp; ! [[ &quot;$HOME/.rvmrc&quot; -ef &quot;${rvm_prefix}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="34">
          <span class="hits">35</span>
          
          <code class="ruby">     then rvm_rvmrc_files+=( &quot;${rvm_prefix}/.rvmrc&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="36">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="37">
          <span class="hits">105</span>
          
          <code class="ruby">  for rvmrc in &quot;${rvm_rvmrc_files[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="39">
          <span class="hits">105</span>
          
          <code class="ruby">    if [[ -f &quot;$rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="70" data-linenumber="41">
          <span class="hits">70</span>
          
          <code class="ruby">      if GREP_OPTIONS=&quot;&quot; \grep '^\s*rvm .*$' &quot;$rvmrc&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">        printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">Error:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">        $rvmrc is for rvm settings only.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">        rvm CLI may NOT be called from within $rvmrc.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">        Skipping the loading of $rvmrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="50">
          <span class="hits">35</span>
          
          <code class="ruby">        source &quot;$rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="54">
          <span class="hits">35</span>
          
          <code class="ruby">  unset rvm_rvmrc_files</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"># detect rvm_path if not set</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="58">
          <span class="hits">46</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_path:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">  if (( UID == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">    if (( ${rvm_user_install_flag:-0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">      rvm_user_install_flag=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">      rvm_prefix=&quot;/usr/local&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">      rvm_path=&quot;${rvm_prefix}/rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="67">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">      rvm_user_install_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">      rvm_prefix=&quot;$HOME&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="70">
          
          
          <code class="ruby">      rvm_path=&quot;${rvm_prefix}/.rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="73">
          
          
          <code class="ruby">    if [[ -d &quot;$HOME/.rvm&quot; &amp;&amp; -s &quot;$HOME/.rvm/scripts/rvm&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">      rvm_user_install_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">      rvm_prefix=&quot;$HOME&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">      rvm_path=&quot;${rvm_prefix}/.rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">      rvm_user_install_flag=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">      rvm_prefix=&quot;/usr/local&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">      rvm_path=&quot;${rvm_prefix}/rvm&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">  # remove trailing slashes, btw. %%/ &lt;- does not work as expected</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="86">
          <span class="hits">46</span>
          
          <code class="ruby">  rvm_path=&quot;${rvm_path%%+(\/)}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby"># guess rvm_prefix if not set</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="90">
          <span class="hits">46</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_prefix}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">  rvm_prefix=$( dirname $rvm_path )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby"># guess rvm_user_install_flag if not set</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="96">
          <span class="hits">46</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_user_install_flag}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="98">
          <span class="hits">35</span>
          
          <code class="ruby">  if [[ &quot;${rvm_prefix}&quot; == &quot;${HOME}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="100">
          
          
          <code class="ruby">    rvm_user_install_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="102">
          <span class="hits">35</span>
          
          <code class="ruby">    rvm_user_install_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="106">
          <span class="hits">46</span>
          
          <code class="ruby">export rvm_loaded_flag</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="107">
          <span class="hits">46</span>
          
          <code class="ruby">if [[ -n &quot;${BASH_VERSION:-}&quot; || -n &quot;${ZSH_VERSION:-}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="108">
          <span class="hits">46</span>
          
          <code class="ruby">  typeset -f rvm &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  rvm_loaded_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="112">
          <span class="hits">46</span>
          
          <code class="ruby">  rvm_loaded_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="113">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="115">
          <span class="hits">46</span>
          
          <code class="ruby">if (( ${rvm_loaded_flag:=0} == 0 )) || (( ${rvm_reload_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="117">
          <span class="hits">92</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_path}&quot; &amp;&amp; -d &quot;$rvm_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="119">
          <span class="hits">46</span>
          
          <code class="ruby">    true ${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="121">
          <span class="hits">46</span>
          
          <code class="ruby">    if [[ -f &quot;$rvm_scripts_path/base&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="123">
          <span class="hits">46</span>
          
          <code class="ruby">      source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">      printf &quot;%b&quot; &quot;WARNING:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">      Could not source '$rvm_scripts_path/base' as file does not exist.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="127">
          
          
          <code class="ruby">      RVM will likely not work as expected.\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="128">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="130">
          <span class="hits">46</span>
          
          <code class="ruby">    __rvm_ensure_is_a_function</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="131">
          <span class="hits">46</span>
          
          <code class="ruby">    __rvm_setup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="133">
          <span class="hits">46</span>
          
          <code class="ruby">    export rvm_version</code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="134">
          <span class="hits">138</span>
          
          <code class="ruby">    rvm_version=&quot;$(cat &quot;$rvm_path/VERSION&quot;) ($(cat &quot;$rvm_path/RELEASE&quot; 2&gt;/dev/null))&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="136">
          <span class="hits">46</span>
          
          <code class="ruby">    alias rvm-restart=&quot;rvm_reload_flag=1 source '${rvm_scripts_path:-${rvm_path}/scripts}/rvm'&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="138">
          <span class="hits">46</span>
          
          <code class="ruby">    if ! builtin command -v ruby &gt;/dev/null 2&gt;&amp;1 ||</code>
        </li>
      
        <li class="covered" data-hits="138" data-linenumber="139">
          <span class="hits">138</span>
          
          <code class="ruby">      builtin command -v ruby | GREP_OPTIONS=&quot;&quot; \grep -v &quot;${rvm_path}&quot; &gt;/dev/null ||</code>
        </li>
      
        <li class="covered" data-hits="48" data-linenumber="140">
          <span class="hits">48</span>
          
          <code class="ruby">      builtin command -v ruby | GREP_OPTIONS=&quot;&quot; \grep &quot;${rvm_path}/bin/ruby$&quot; &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="142">
          <span class="hits">34</span>
          
          <code class="ruby">      if [[ -s &quot;$rvm_environments_path/default&quot; &amp;&amp; &quot;${rvm_action}&quot; != &quot;switch&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="144">
          <span class="hits">4</span>
          
          <code class="ruby">        __rvm_load_environment &quot;default&quot;</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="145">
          <span class="hits">26</span>
          
          <code class="ruby">      elif [[ -s &quot;$rvm_path/environments/default&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="147">
          
          
          <code class="ruby">        source &quot;$rvm_path/environments/default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">    # Makes sure rvm_bin_path is in PATH atleast once.</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="152">
          <span class="hits">46</span>
          
          <code class="ruby">    __rvm_conditionally_add_bin_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="154">
          <span class="hits">46</span>
          
          <code class="ruby">    if (( ${rvm_reload_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="156">
          <span class="hits">2</span>
          
          <code class="ruby">      [[ &quot;${rvm_auto_reload_flag:-0}&quot; == 2 ]] || printf &quot;%b&quot; 'RVM reloaded!\n'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">      # make sure we clean env on reload</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="158">
          <span class="hits">1</span>
          
          <code class="ruby">      __rvm_env_loaded=1</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="159">
          <span class="hits">1</span>
          
          <code class="ruby">      unset __rvm_project_rvmrc_lock</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="162">
          <span class="hits">46</span>
          
          <code class="ruby">    rvm_loaded_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="164">
          
          
          <code class="ruby">    printf &quot;%b&quot; &quot;\n\$rvm_path ($rvm_path) does not exist.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="166">
          <span class="hits">46</span>
          
          <code class="ruby">  unset rvm_prefix_needs_trailing_slash rvm_gems_cache_path \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">    rvm_gems_path rvm_project_rvmrc_default rvm_gemset_separator rvm_reload_flag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">  source &quot;${rvm_scripts_path:=&quot;$rvm_path/scripts&quot;}/initialize&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="170">
          
          
          <code class="ruby">  __rvm_setup</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="173">
          <span class="hits">46</span>
          
          <code class="ruby">if [[ -t 0 &amp;&amp; ${rvm_project_rvmrc:-1} -gt 0 ]] &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">  rvm_is_a_shell_function no_warning &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">  ! __function_on_stack __rvm_project_rvmrc &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">  typeset -f __rvm_project_rvmrc &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">  # Reload the rvmrc, use promptless ensuring shell processes does not</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">  # prompt if .rvmrc trust value is not stored.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="180">
          
          
          <code class="ruby">  rvm_promptless=1 __rvm_project_rvmrc</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">  rvm_hook=after_cd</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">  source &quot;${rvm_scripts_path:-${rvm_path}/scripts}/hook&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="183">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="185">
          <span class="hits">46</span>
          
          <code class="ruby">__rvm_teardown</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="1c1b676ad0dce47b0bec71cd2435cb8f2f932ede">
  <div class="header">
    <h3>/usr/local/rvm/scripts/selector</h3>
    <h4><span class="red">34.91 %</span> covered</h4>
    <div>
      <b>593</b> relevant lines. 
      <span class="green"><b>207</b> lines covered</span> and
      <span class="red"><b>386</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby"># __rvm_select implementation version patch_level</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">__rvm_select()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="6">
          <span class="hits">245</span>
          
          <code class="ruby">  true ${rvm_gemset_name:=}</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="7">
          <span class="hits">245</span>
          
          <code class="ruby">  typeset _original_env_string</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="8">
          <span class="hits">245</span>
          
          <code class="ruby">  _original_env_string=${rvm_env_string}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby">  # Set Variable Defaults</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="11">
          <span class="hits">245</span>
          
          <code class="ruby">  export -a rvm_configure_flags rvm_patch_names rvm_ree_options rvm_make_flags</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="12">
          <span class="hits">245</span>
          
          <code class="ruby">  export GEM_HOME GEM_PATH MY_RUBY_HOME RUBY_VERSION IRBRC</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="13">
          <span class="hits">245</span>
          
          <code class="ruby">  export rvm_env_string rvm_action rvm_alias_expanded rvm_archive_extension rvm_bin_flag rvm_bin_path rvm_debug_flag rvm_default_flag rvm_delete_flag rvm_docs_type rvm_dump_environment_flag rvm_error_message rvm_expanding_aliases rvm_file_name rvm_gemdir_flag rvm_gemset_name rvm_gemstone_package_file rvm_gemstone_url rvm_head_flag rvm_hook rvm_install_on_use_flag rvm_llvm_flag rvm_loaded_flag rvm_niceness rvm_nightly_flag rvm_only_path_flag rvm_parse_break rvm_patch_original_pwd rvm_pretty_print_flag rvm_proxy rvm_quiet_flag rvm_reload_flag rvm_remove_flag rvm_ruby_alias rvm_ruby_args rvm_ruby_binary rvm_ruby_bits rvm_ruby_configure rvm_ruby_file rvm_ruby_gem_home rvm_ruby_gem_path rvm_ruby_global_gems_path rvm_ruby_home rvm_ruby_interpreter rvm_ruby_irbrc rvm_ruby_major_version rvm_ruby_make rvm_ruby_make_install rvm_ruby_minor_version rvm_ruby_mode rvm_ruby_name rvm_ruby_package_file rvm_ruby_package_name rvm_ruby_patch rvm_ruby_patch_level rvm_ruby_release_version rvm_ruby_repo_url rvm_ruby_revision rvm_ruby_selected_flag rvm_ruby_sha rvm_ruby_string rvm_ruby_strings rvm_ruby_tag rvm_ruby_url rvm_ruby_user_tag rvm_ruby_version rvm_script_name rvm_sdk rvm_silent_flag rvm_sticky_flag rvm_system_flag rvm_token rvm_trace_flag rvm_use_flag rvm_user_flag rvm_verbose_flag rvm_wrapper_name rvm_architectures</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">  # First respect parameter</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="16">
          <span class="hits">245</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${1:-${rvm_ruby_string:-}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">  # Then try to detect</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="245" data-linenumber="19">
          <span class="hits">245</span>
          
          <code class="ruby">    [[ -z &quot;${rvm_ruby_string:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_interpreter:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string:-}${rvm_ruby_version:+-}${rvm_ruby_version:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="23">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string:-}${rvm_ruby_patch_level:+-}${rvm_ruby_patch_level:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string:-}${rvm_ruby_revision:+-}${rvm_ruby_revision:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">    if [[ -n &quot;${rvm_ruby_name:-}&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">    then rvm_ruby_name=&quot;$rvm_ruby_string-$rvm_ruby_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="247" data-linenumber="30">
          <span class="hits">247</span>
          
          <code class="ruby">  __rvm_ruby_string || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="32">
          <span class="hits">243</span>
          
          <code class="ruby">  rvm_archive_extension=&quot;tar.gz&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="34">
          <span class="hits">243</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_interpreter:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">    rvm_ruby_interpreter=&quot;${rvm_ruby_string//-*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="39">
          <span class="hits">243</span>
          
          <code class="ruby">  case &quot;${rvm_ruby_interpreter:-missing}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">    missing)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">      return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">    opal)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="45">
          
          
          <code class="ruby">      rvm_ruby_revision=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="46">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;opal&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">      rvm_ruby_repo_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;jruby_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;jruby_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="49">
          
          
          <code class="ruby">      rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    topaz)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="53">
          
          
          <code class="ruby">      rvm_ruby_revision=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="54">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;topaz&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">      rvm_ruby_repo_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;topaz_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="56">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;${rvm_ruby_url:-$(__rvm_db &quot;topaz_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">      rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    macruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">      if [[ &quot;Darwin&quot; == &quot;$(uname)&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">        rvm_ruby_package_name=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="63">
          
          
          <code class="ruby">        if (( ${rvm_head_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">          rvm_ruby_version=&quot;&quot; ; rvm_ruby_tag=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">          rvm_ruby_revision=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">          __rvm_db &quot;macruby_repo_url&quot; &quot;rvm_ruby_repo_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">          rvm_ruby_url=&quot;$rvm_ruby_repo_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="69">
          
          
          <code class="ruby">          rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">        elif [[ &quot;nightly&quot; == &quot;${rvm_ruby_version:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="73">
          
          
          <code class="ruby">          __rvm_db &quot;macruby_nightly_url&quot; &quot;rvm_ruby_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">          rvm_ruby_package_name=&quot;${rvm_ruby_interpreter}_nightly-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="75">
          
          
          <code class="ruby">          rvm_ruby_package_file=&quot;$rvm_ruby_package_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">        elif [[ -n &quot;${rvm_ruby_version:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">          __rvm_db &quot;macruby_${rvm_ruby_version}_url&quot; &quot;rvm_ruby_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">          [[ -n &quot;${rvm_ruby_url:-}&quot; ]] || __rvm_db &quot;macruby_url&quot; &quot;rvm_ruby_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">          rvm_ruby_package_name=&quot;MacRuby%20${rvm_ruby_version}.zip&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">          rvm_ruby_package_file=&quot;$rvm_ruby_package_name&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">          rvm_ruby_url=&quot;$rvm_ruby_url/$rvm_ruby_package_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">          __rvm_db &quot;macruby_version&quot; &quot;rvm_ruby_version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="87">
          
          
          <code class="ruby">          __rvm_db &quot;macruby_url&quot; &quot;rvm_ruby_url&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">          rvm_ruby_package_name=&quot;MacRuby%20${rvm_ruby_version}.zip&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">          rvm_ruby_package_file=&quot;$rvm_ruby_package_name&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="90">
          
          
          <code class="ruby">          rvm_ruby_url=&quot;$rvm_ruby_url/$rvm_ruby_package_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="94">
          
          
          <code class="ruby">        rvm_error &quot;MacRuby can only be installed on a Darwin OS.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="98">
          
          
          <code class="ruby">    rbx|rubinius)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="100">
          <span class="hits">10</span>
          
          <code class="ruby">        (( ${rvm_nightly_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="101">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">        typeset org_rvm_ruby_patch_level _rvm_ruby_name</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="103">
          
          
          <code class="ruby">        if [[ &quot;$rvm_ruby_version&quot; == head ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="104">
          
          
          <code class="ruby">        then rvm_ruby_version=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">        rvm_debug &quot;searching for binary rbx ${rvm_ruby_version:-}${rvm_ruby_version:+-}${rvm_ruby_patch_level}*${rvm_ruby_name:+-}${rvm_ruby_name:-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="107">
          
          
          <code class="ruby">        org_rvm_ruby_patch_level=&quot;$rvm_ruby_patch_level&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">        _rvm_ruby_name=&quot;${rvm_ruby_name:-${detected_rvm_ruby_name:-}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">          __list_remote_rbx_for $( __rvm_system_path_for rbx ) |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="111">
          
          
          <code class="ruby">            GREP_OPTIONS=&quot;&quot; \grep ${rvm_ruby_version:-}${rvm_ruby_version:+-}${org_rvm_ruby_patch_level}.*${_rvm_ruby_name:+-}${_rvm_ruby_name:-} |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">            tail -n 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">        )&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">        [[ -n &quot;${rvm_ruby_patch_level:-}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby">        {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">          rvm_error &quot;Could not find rbx binary '${rvm_ruby_version:-}${rvm_ruby_version:+-}${org_rvm_ruby_patch_level}*${rvm_ruby_name:+-}${rvm_ruby_name:-}' release for '$( __rvm_system_path_for rbx )'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">          return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">        }</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="119">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;${rvm_ruby_patch_level##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;${rvm_ruby_patch_level%.tar.*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">          [[ -z &quot;${rvm_ruby_version:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">          rvm_ruby_patch_level=&quot;${rvm_ruby_patch_level#rubinius-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">          rvm_ruby_version=&quot;${rvm_ruby_patch_level%%-*}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">        if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">          [[ -z &quot;${rvm_ruby_name:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">          rvm_ruby_name=&quot;${rvm_ruby_patch_level##*-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;${rvm_ruby_patch_level##*${org_rvm_ruby_patch_level}}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;${rvm_ruby_patch_level%%-*}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;${org_rvm_ruby_patch_level}${rvm_ruby_patch_level}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">        rvm_ruby_string=&quot;rubinius-${rvm_ruby_version}-${rvm_ruby_patch_level}-${rvm_ruby_name}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="136">
          
          
          <code class="ruby">        rvm_debug &quot;detected rbx ${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="137">
          
          
          <code class="ruby">        rvm_verify_downloads_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="140">
          <span class="hits">10</span>
          
          <code class="ruby">      rvm_archive_extension=&quot;tar.gz&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="141">
          <span class="hits">10</span>
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;rbx&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="142">
          <span class="hits">10</span>
          
          <code class="ruby">      rvm_ruby_version=${rvm_ruby_version:-$(__rvm_db &quot;rbx_version&quot;)}</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="143">
          <span class="hits">20</span>
          
          <code class="ruby">      rvm_ruby_repo_url=${rvm_rbx_repo_url:-$(__rvm_db &quot;rubinius_repo_url&quot;)}</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="144">
          <span class="hits">20</span>
          
          <code class="ruby">      rbx_url=${rbx_url:-$(__rvm_db &quot;rbx_url&quot;)}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="146">
          <span class="hits">10</span>
          
          <code class="ruby">      case &quot;${rvm_ruby_version}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="147">
          
          
          <code class="ruby">        (2.0pre)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">          rvm_ruby_repo_branch=&quot;master&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="149">
          
          
          <code class="ruby">        (2.0.testing)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">          rvm_ruby_repo_branch=&quot;${rvm_ruby_version}&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="151">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="153">
          <span class="hits">10</span>
          
          <code class="ruby">      if (( ${rvm_head_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="155">
          <span class="hits">10</span>
          
          <code class="ruby">        if [[ -n &quot;${rvm_ruby_patch_level:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="157">
          <span class="hits">20</span>
          
          <code class="ruby">          rbx_url=&quot;$( __rvm_db &quot;rbx_2.0.0_url&quot; )&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="158">
          <span class="hits">10</span>
          
          <code class="ruby">          rvm_archive_extension=&quot;zip&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="159">
          <span class="hits">10</span>
          
          <code class="ruby">          rvm_ruby_url=&quot;${rbx_url}&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="160">
          <span class="hits">10</span>
          
          <code class="ruby">          rvm_ruby_package_file=&quot;release-${rvm_ruby_version}-${rvm_ruby_patch_level}.${rvm_archive_extension}&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="161">
          <span class="hits">10</span>
          
          <code class="ruby">          rvm_ruby_url=&quot;$rvm_ruby_url/$rvm_ruby_package_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="163">
          
          
          <code class="ruby">          rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="164">
          
          
          <code class="ruby">          rvm_ruby_url=&quot;${rbx_url}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">          rvm_ruby_package_file=&quot;rubinius-${rvm_ruby_version}.${rvm_archive_extension}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">          rvm_ruby_url=&quot;$rvm_ruby_url/$rvm_ruby_package_file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="170">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="174">
          <span class="hits">10</span>
          
          <code class="ruby">      if [[ -n &quot;${rvm_rbx_opt:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="175">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="176">
          
          
          <code class="ruby">        export RBXOPT=&quot;${RBXOPT:=${rvm_rbx_opt}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="180">
          
          
          <code class="ruby">    jruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">      rvm_ruby_repo_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;jruby_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;jruby_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">      if (( ${rvm_head_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="185">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="189">
          
          
          <code class="ruby">        if (( ${rvm_18_flag:-0} || ${rvm_19_flag:-0} || ${#rvm_patch_names[@]} ))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="190">
          
          
          <code class="ruby">        then rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="192">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;${rvm_ruby_version:-&quot;$(__rvm_db &quot;jruby_version&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">        rvm_ruby_tag=&quot;${rvm_ruby_tag:-${rvm_ruby_version}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="196">
          
          
          <code class="ruby">      alias jruby_ng=&quot;jruby --ng&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="197">
          
          
          <code class="ruby">      alias jruby_ng_server=&quot;jruby --ng-server&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="198">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="200">
          
          
          <code class="ruby">    maglev)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="201">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="202">
          
          
          <code class="ruby">      maglev_url=&quot;$(__rvm_db &quot;maglev_url&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="203">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="204">
          
          
          <code class="ruby">      system=&quot;$(uname -s)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">      if [[ &quot;$MACHTYPE&quot; == x86_64-apple-darwin* ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="207">
          
          
          <code class="ruby">        arch=&quot;i386&quot; # Anyone else hear circus musik? ;)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="209">
          
          
          <code class="ruby">        arch=&quot;$(uname -m)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="212">
          
          
          <code class="ruby">      if (( ${rvm_head_flag:=0} == 1 )) || [[ &quot;$rvm_ruby_version&quot; == &quot;head&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="213">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="214">
          
          
          <code class="ruby">        rvm_head_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="216">
          
          
          <code class="ruby">        rvm_ruby_repo_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;maglev_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">        rvm_ruby_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;maglev_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="218">
          
          
          <code class="ruby">        rvm_gemstone_version=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="219">
          
          
          <code class="ruby">          command curl -s https://raw.github.com/MagLev/maglev/master/version.txt |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="220">
          
          
          <code class="ruby">            GREP_OPTIONS=&quot;&quot; \grep ^GEMSTONE | cut -f2 -d-</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="221">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="222">
          
          
          <code class="ruby">        rvm_gemstone_package_file=&quot;GemStone-${rvm_gemstone_version}.${system}-${arch}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="225">
          
          
          <code class="ruby">        rvm_ruby_package_file=&quot;MagLev-${rvm_ruby_version}&quot; # removed from 1.0: .${system}-${arch}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="226">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;${rvm_ruby_version:-&quot;$(__rvm_db &quot;maglev_version&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="227">
          
          
          <code class="ruby">        rvm_ruby_package_name=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="228">
          
          
          <code class="ruby">        rvm_ruby_url=&quot;${rvm_ruby_url:-&quot;$maglev_url/${rvm_ruby_package_file}.${rvm_archive_extension}&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby">        rvm_gemstone_version=$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="230">
          
          
          <code class="ruby">          command curl -s https://raw.github.com/MagLev/maglev/MagLev-${rvm_ruby_version}/version.txt |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="231">
          
          
          <code class="ruby">            GREP_OPTIONS=&quot;&quot; \grep ^GEMSTONE | cut -f2 -d-</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="232">
          
          
          <code class="ruby">        )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">        rvm_gemstone_package_file=&quot;GemStone-${rvm_gemstone_version}.${system}-${arch}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="234">
          
          
          <code class="ruby">        export MAGLEV_HOME=&quot;$rvm_rubies_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="235">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">      rvm_gemstone_url=&quot;$maglev_url/${rvm_gemstone_package_file}.${rvm_archive_extension}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="240">
          
          
          <code class="ruby">    ironruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="241">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="242">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="243">
          
          
          <code class="ruby">      if (( ${rvm_head_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="244">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="246">
          
          
          <code class="ruby">        rvm_ruby_package_name=&quot;${rvm_ruby_string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="247">
          
          
          <code class="ruby">        rvm_ruby_repo_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;ironruby_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="248">
          
          
          <code class="ruby">        rvm_ruby_url=&quot;${rvm_ruby_repo_url:-$(__rvm_db &quot;ironruby_repo_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="249">
          
          
          <code class="ruby">        rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="250">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="251">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="252">
          
          
          <code class="ruby">        rvm_archive_extension=&quot;zip&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="253">
          
          
          <code class="ruby">        rvm_ruby_version=${rvm_ruby_version:-&quot;$(__rvm_db &quot;ironruby_version&quot;)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="254">
          
          
          <code class="ruby">        rvm_ruby_package_name=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="255">
          
          
          <code class="ruby">        rvm_ruby_package_file=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}.${rvm_archive_extension}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="256">
          
          
          <code class="ruby">        rvm_ruby_url=&quot;$(__rvm_db &quot;ironruby_${rvm_ruby_version}_url&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="257">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="258">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="259">
          
          
          <code class="ruby">      export rvm_ruby_version rvm_ruby_string rvm_ruby_package_name rvm_ruby_repo_url rvm_ruby_url rvm_archive_extension</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="260">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="261">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="262">
          
          
          <code class="ruby">    ree)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="263">
          
          
          <code class="ruby">      rvm_ruby_interpreter=ree</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="264">
          
          
          <code class="ruby">      rvm_ruby_version=${rvm_ruby_version:-&quot;$(__rvm_db &quot;ree_version&quot;)&quot;}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="265">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="266">
          
          
          <code class="ruby">      case &quot;$rvm_ruby_version&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="267">
          
          
          <code class="ruby">        1.8.*) true ;; # all good!</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="268">
          
          
          <code class="ruby">        *) rvm_error &quot;Unknown Ruby Enterprise Edition version: $rvm_ruby_version&quot; ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="269">
          
          
          <code class="ruby">      esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="270">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="271">
          
          
          <code class="ruby">      if [[ -n &quot;${rvm_ruby_patch_level:-0}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="272">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="273">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;$(echo $rvm_ruby_patch_level | \sed 's#^p##')&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="274">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="275">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="276">
          
          
          <code class="ruby">      rvm_ruby_package_file=&quot;ruby-enterprise-$rvm_ruby_version-$rvm_ruby_patch_level&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="277">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;$(__rvm_db &quot;${rvm_ruby_interpreter}_${rvm_ruby_version}_${rvm_ruby_patch_level}_url&quot;)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="278">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;${rvm_ruby_url:-$(__rvm_db &quot;${rvm_ruby_interpreter}_${rvm_ruby_version}_url&quot;)}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="279">
          
          
          <code class="ruby">      rvm_ruby_url=&quot;${rvm_ruby_url}/$rvm_ruby_package_file.tar.gz&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="280">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="281">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="282">
          
          
          <code class="ruby">    kiji)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="283">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;kiji&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="284">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="285">
          
          
          <code class="ruby">      rvm_head_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="286">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;kiji-head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="287">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="288">
          
          
          <code class="ruby">      rvm_ruby_repo_url=${rvm_ruby_repo_url:-&quot;$(__rvm_db &quot;kiji_repo_url&quot;)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="289">
          
          
          <code class="ruby">      rvm_ruby_url=$rvm_ruby_repo_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="290">
          
          
          <code class="ruby">      rvm_ruby_configure=&quot;&quot; ; rvm_ruby_make=&quot;&quot; ; rvm_ruby_make_install=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="291">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="292">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="293">
          
          
          <code class="ruby">    goruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="294">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;goruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="295">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="296">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;goruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="297">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="298">
          
          
          <code class="ruby">      rvm_ruby_repo_url=${rvm_ruby_repo_url:-&quot;$(__rvm_db &quot;goruby_repo_url&quot;)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="299">
          
          
          <code class="ruby">      rvm_ruby_url=$rvm_ruby_repo_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="300">
          
          
          <code class="ruby">      rvm_ruby_configure=&quot;&quot; ; rvm_ruby_make=&quot;&quot; ; rvm_ruby_make_install=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="301">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="302">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="303">
          
          
          <code class="ruby">    mruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="304">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;mruby&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="305">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="306">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;mruby-head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="307">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="308">
          
          
          <code class="ruby">      rvm_ruby_repo_url=${rvm_ruby_repo_url:-&quot;$(__rvm_db &quot;mruby_repo_url&quot;)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="309">
          
          
          <code class="ruby">      rvm_ruby_url=$rvm_ruby_repo_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="310">
          
          
          <code class="ruby">      export rvm_head_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="311">
          
          
          <code class="ruby">      rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="312">
          
          
          <code class="ruby">      export rvm_skip_autoreconf_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="313">
          
          
          <code class="ruby">      rvm_ruby_configure=&quot;&quot; ; rvm_ruby_make=&quot;&quot; ; rvm_ruby_make_install=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="314">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="315">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="316">
          
          
          <code class="ruby">    tcs)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="317">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;tcs&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="318">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="319">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;tcs&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="320">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="321">
          
          
          <code class="ruby">      rvm_ruby_repo_url=${rvm_tcs_repo_url:-&quot;$(__rvm_db &quot;tcs_repo_url&quot;)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="322">
          
          
          <code class="ruby">      rvm_ruby_url=$rvm_ruby_repo_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="323">
          
          
          <code class="ruby">      rvm_ruby_repo_branch=&quot;${rvm_ruby_repo_branch:-&quot;$(__rvm_db &quot;tcs_repo_branch&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="324">
          
          
          <code class="ruby">      export rvm_head_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="325">
          
          
          <code class="ruby">      rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="326">
          
          
          <code class="ruby">      rvm_ruby_configure=&quot;&quot; ; rvm_ruby_make=&quot;&quot; ; rvm_ruby_make_install=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="327">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="328">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="329">
          
          
          <code class="ruby">    jamesgolick)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="330">
          
          
          <code class="ruby">      rvm_ruby_interpreter=&quot;jamesgolick&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="331">
          
          
          <code class="ruby">      rvm_ruby_version=&quot;head&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="332">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;jamesgolick&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="333">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="334">
          
          
          <code class="ruby">      rvm_ruby_repo_url=${rvm_jamesgolick_repo_url:-&quot;$(__rvm_db &quot;jamesgolick_repo_url&quot;)&quot;}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="335">
          
          
          <code class="ruby">      rvm_ruby_url=$rvm_ruby_repo_url</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="336">
          
          
          <code class="ruby">      rvm_ruby_repo_branch=&quot;${rvm_ruby_repo_branch:-&quot;$(__rvm_db &quot;jamesgolick_repo_branch&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="337">
          
          
          <code class="ruby">      export rvm_head_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="338">
          
          
          <code class="ruby">      rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="339">
          
          
          <code class="ruby">      rvm_ruby_configure=&quot;&quot; ; rvm_ruby_make=&quot;&quot; ; rvm_ruby_make_install=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="340">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="341">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="342">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="343">
          
          
          <code class="ruby">    ruby)</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="344">
          <span class="hits">223</span>
          
          <code class="ruby">      if [[ -n &quot;${rvm_ruby_patch_level}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="345">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="346">
          <span class="hits">223</span>
          
          <code class="ruby">        rvm_ruby_package_file=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}-${rvm_ruby_patch_level}&quot;</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="347">
          <span class="hits">223</span>
          
          <code class="ruby">        rvm_ruby_package_name=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}-${rvm_ruby_patch_level}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="348">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="349">
          
          
          <code class="ruby">        rvm_ruby_package_file=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="350">
          
          
          <code class="ruby">        rvm_ruby_package_name=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="351">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="352">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="353">
          <span class="hits">223</span>
          
          <code class="ruby">      if [[ -z &quot;${rvm_ruby_version:-&quot;&quot;}&quot; ]] &amp;&amp; (( ${rvm_head_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="354">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="355">
          
          
          <code class="ruby">        rvm_error &quot;Ruby version was not specified!&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="356">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="431" data-linenumber="357">
          <span class="hits">431</span>
          
          <code class="ruby">        rvm_ruby_repo_url=&quot;${rvm_ruby_repo_url:-&quot;$(__rvm_db &quot;ruby_repo_url&quot;)&quot;}&quot;</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="358">
          <span class="hits">223</span>
          
          <code class="ruby">        if (( ${rvm_head_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="359">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="360">
          <span class="hits">223</span>
          
          <code class="ruby">          if __rvm_version_compare &quot;${rvm_ruby_version}&quot; -lt &quot;1.8.5&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="361">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="362">
          
          
          <code class="ruby">            rvm_archive_extension=&quot;tar.gz&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="363">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="covered" data-hits="223" data-linenumber="364">
          <span class="hits">223</span>
          
          <code class="ruby">            rvm_archive_extension=&quot;tar.bz2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="365">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="366">
          
          
          <code class="ruby">        else rvm_disable_binary_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="367">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="368">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="369">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="370">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="371">
          
          
          <code class="ruby">    ext)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="372">
          
          
          <code class="ruby">      if [[ -z &quot;${rvm_ruby_name:-${detected_rvm_ruby_name:-}}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="373">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="374">
          
          
          <code class="ruby">        rvm_error &quot;External ruby name was not specified!&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="375">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="376">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="377">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="378">
          
          
          <code class="ruby">    current)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="379">
          
          
          <code class="ruby">      ruby_binary=&quot;$(builtin command -v ruby)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="380">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="381">
          
          
          <code class="ruby">        (( $? == 0)) &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="382">
          
          
          <code class="ruby">        __rvm_string_match &quot;$ruby_binary&quot; &quot;*rvm*&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="383">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="384">
          
          
          <code class="ruby">        rvm_ruby_string=&quot;$(dirname &quot;$ruby_binary&quot; | xargs dirname | xargs basename)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="385">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="386">
          
          
          <code class="ruby">        rvm_ruby_interpreter=&quot;system&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="387">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="388">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="389">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="390">
          
          
          <code class="ruby">    default|system|user)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="391">
          <span class="hits">10</span>
          
          <code class="ruby">      true</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="392">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="393">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="394">
          
          
          <code class="ruby">    *)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="395">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="396">
          
          
          <code class="ruby">        [[ -n &quot;${MY_RUBY_HOME:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="397">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="398">
          
          
          <code class="ruby">         __rvm_select $(basename $MY_RUBY_HOME)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="399">
          
          
          <code class="ruby">      elif</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="400">
          
          
          <code class="ruby">        [[ -z &quot;${rvm_ruby_string:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="401">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="402">
          
          
          <code class="ruby">        rvm_error &quot;Ruby implementation '$rvm_ruby_interpreter' is not known.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="403">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="404">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="405">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="406">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="407">
          <span class="hits">243</span>
          
          <code class="ruby">  if [[ -n &quot;$rvm_ruby_version&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="408">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="233" data-linenumber="409">
          <span class="hits">233</span>
          
          <code class="ruby">    case &quot;$rvm_ruby_version&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="410">
          
          
          <code class="ruby">      (+([[:digit:]]).+([[:digit:]]).+([[:digit:]]))</code>
        </li>
      
        <li class="covered" data-hits="233" data-linenumber="411">
          <span class="hits">233</span>
          
          <code class="ruby">        rvm_ruby_release_version=&quot;${rvm_ruby_version/.*/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="466" data-linenumber="412">
          <span class="hits">466</span>
          
          <code class="ruby">        rvm_ruby_major_version=${rvm_ruby_version%.*} ; rvm_ruby_major_version=${rvm_ruby_major_version#*.}</code>
        </li>
      
        <li class="covered" data-hits="233" data-linenumber="413">
          <span class="hits">233</span>
          
          <code class="ruby">        rvm_ruby_minor_version=&quot;${rvm_ruby_version//*.}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="414">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="415">
          
          
          <code class="ruby">      (+([[:digit:]]).+([[:digit:]]))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="416">
          
          
          <code class="ruby">        rvm_ruby_release_version=&quot;${rvm_ruby_version/.*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="417">
          
          
          <code class="ruby">        rvm_ruby_major_version=&quot;${rvm_ruby_version#*.}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="418">
          
          
          <code class="ruby">        rvm_ruby_minor_version=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="419">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="420">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="421">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="422">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="423">
          <span class="hits">243</span>
          
          <code class="ruby">  if [[ &quot;${rvm_ruby_interpreter}&quot; == ext ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="424">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="425">
          
          
          <code class="ruby">    rvm_ruby_home=&quot;$rvm_externals_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="426">
          
          
          <code class="ruby">    rvm_ruby_irbrc=&quot;$rvm_ruby_home/.irbrc&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="427">
          
          
          <code class="ruby">    rvm_ruby_binary=&quot;$( readlink $rvm_ruby_home/bin/ruby )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="428">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="429">
          <span class="hits">243</span>
          
          <code class="ruby">    rvm_ruby_package_name=&quot;${rvm_ruby_package_name:-${rvm_ruby_string//-n*}}&quot;</code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="430">
          <span class="hits">243</span>
          
          <code class="ruby">    rvm_ruby_home=&quot;$rvm_rubies_path/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="431">
          <span class="hits">243</span>
          
          <code class="ruby">    rvm_ruby_irbrc=&quot;$rvm_ruby_home/.irbrc&quot;</code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="432">
          <span class="hits">243</span>
          
          <code class="ruby">    rvm_ruby_binary=&quot;$rvm_ruby_home/bin/ruby&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="433">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="434">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="435">
          
          
          <code class="ruby">  # TODO is this right place to do this ?</code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="436">
          <span class="hits">243</span>
          
          <code class="ruby">  if [[ &quot;maglev&quot; == &quot;$rvm_ruby_interpreter&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="437">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="438">
          
          
          <code class="ruby">    export MAGLEV_HOME=&quot;$rvm_ruby_home&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="439">
          
          
          <code class="ruby">    export GEMSTONE_GLOBAL_DIR=$MAGLEV_HOME</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="440">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="441">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="442">
          <span class="hits">243</span>
          
          <code class="ruby">  [[ &quot;system&quot; == &quot;$rvm_ruby_interpreter&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="443">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="covered" data-hits="233" data-linenumber="444">
          <span class="hits">233</span>
          
          <code class="ruby">    __rvm_gemset_select ||</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="445">
          <span class="hits">34</span>
          
          <code class="ruby">    case $? in</code>
        </li>
      
        <li class="covered" data-hits="34" data-linenumber="446">
          <span class="hits">34</span>
          
          <code class="ruby">      2) true      ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="447">
          
          
          <code class="ruby">      *) return $? ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="448">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="449">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="450">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="451">
          <span class="hits">243</span>
          
          <code class="ruby">  rvm_ruby_selected_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="452">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="453">
          <span class="hits">243</span>
          
          <code class="ruby">  [[ -d &quot;${rvm_log_path}/$rvm_ruby_string&quot; ]] ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="454">
          
          
          <code class="ruby">    \mkdir -p &quot;${rvm_log_path}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="455">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="243" data-linenumber="456">
          <span class="hits">243</span>
          
          <code class="ruby">  rvm_ruby_interpreter=&quot;${rvm_ruby_interpreter:-system}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="457">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="458">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="459">
          
          
          <code class="ruby">__rvm_use_system() {</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="460">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="461">
          <span class="hits">11</span>
          
          <code class="ruby">  unset GEM_HOME GEM_PATH MY_RUBY_HOME RUBY_VERSION IRBRC</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="462">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="463">
          <span class="hits">33</span>
          
          <code class="ruby">  new_path=&quot;$(__rvm_remove_rvm_from_path ; printf &quot;%b&quot; &quot;$PATH&quot;):${rvm_bin_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="464">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="465">
          <span class="hits">11</span>
          
          <code class="ruby">  if [[ -s &quot;$rvm_path/config/system&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="466">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="467">
          
          
          <code class="ruby">    if GREP_OPTIONS=&quot;&quot; \grep &quot;MY_RUBY_HOME='$rvm_rubies_path&quot; &quot;$rvm_path/config/system&quot; &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="468">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="469">
          
          
          <code class="ruby">      # 'system' should *not* point to an rvm ruby.</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="470">
          
          
          <code class="ruby">      if [[ -f &quot;$rvm_path/config/system&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="471">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="472">
          
          
          <code class="ruby">        \rm -f &quot;$rvm_path/config/system&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="473">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="474">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="475">
          
          
          <code class="ruby">      source &quot;$rvm_path/config/system&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="476">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="477">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="478">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="479">
          <span class="hits">11</span>
          
          <code class="ruby">  if (( ${rvm_default_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="480">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="481">
          
          
          <code class="ruby">    &quot;$rvm_scripts_path/alias&quot; delete default &amp;&gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="482">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="483">
          
          
          <code class="ruby">    \find &quot;${rvm_bin_path}&quot; -maxdepth 0 -name 'default_*' -delete</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="484">
          
          
          <code class="ruby">    \rm -f &quot;$rvm_path/config/default&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="485">
          
          
          <code class="ruby">    \rm -f &quot;$rvm_environments_path/default&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="486">
          
          
          <code class="ruby">    __rvm_rm_rf &quot;$rvm_wrappers_path/default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="487">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="488">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="489">
          
          
          <code class="ruby">  # Check binaries, remove under the condition they're symlinks.</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="490">
          <span class="hits">11</span>
          
          <code class="ruby">  if (( ${rvm_user_install_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="491">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="492">
          <span class="hits">88</span>
          
          <code class="ruby">    for binary in ruby gem irb ri rdoc rake erb testrb</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="493">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="494">
          <span class="hits">88</span>
          
          <code class="ruby">      full_binary_path=&quot;${rvm_bin_path}/$binary&quot;</code>
        </li>
      
        <li class="covered" data-hits="88" data-linenumber="495">
          <span class="hits">88</span>
          
          <code class="ruby">      if [[ -L &quot;$full_binary_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="496">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="497">
          
          
          <code class="ruby">        \rm -f &quot;$full_binary_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="498">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="499">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="500">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="501">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="502">
          <span class="hits">11</span>
          
          <code class="ruby">  if (( ${rvm_verbose_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="503">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="504">
          <span class="hits">2</span>
          
          <code class="ruby">    rvm_log &quot;Now using system ruby.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="505">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="506">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="507">
          <span class="hits">11</span>
          
          <code class="ruby">  __rvm_remove_rvm_from_path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="508">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="509">
          <span class="hits">11</span>
          
          <code class="ruby">  new_path=&quot;$PATH:${rvm_bin_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="510">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="511">
          <span class="hits">22</span>
          
          <code class="ruby">  export rvm_ruby_string=&quot;system&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="512">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="513">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="514">
          
          
          <code class="ruby">__rvm_use()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="515">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="188" data-linenumber="516">
          <span class="hits">188</span>
          
          <code class="ruby">  typeset new_path binary full_binary_path rvm_ruby_gem_home</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="517">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="190" data-linenumber="518">
          <span class="hits">190</span>
          
          <code class="ruby">  __rvm_select &quot;$@&quot; || return $?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="519">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="186" data-linenumber="520">
          <span class="hits">186</span>
          
          <code class="ruby">  if [[ &quot;system&quot; == ${rvm_ruby_interpreter:=&quot;system&quot;} ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="521">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="522">
          <span class="hits">10</span>
          
          <code class="ruby">    __rvm_use_system</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="523">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="176" data-linenumber="524">
          <span class="hits">176</span>
          
          <code class="ruby">    if [[ ! -d &quot;$rvm_ruby_home&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="525">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="526">
          <span class="hits">16</span>
          
          <code class="ruby">      if [[ ${rvm_install_on_use_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="527">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="528">
          
          
          <code class="ruby">        rvm_warn &quot;$rvm_ruby_string is not installed.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="529">
          
          
          <code class="ruby">        __rvm_run_wrapper manage &quot;install&quot; &quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="530">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="531">
          <span class="hits">16</span>
          
          <code class="ruby">        rvm_error &quot;$rvm_ruby_string is not installed.&quot;</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="532">
          <span class="hits">16</span>
          
          <code class="ruby">        rvm_log &quot;To install do: 'rvm install $rvm_ruby_string'&quot;</code>
        </li>
      
        <li class="covered" data-hits="32" data-linenumber="533">
          <span class="hits">32</span>
          
          <code class="ruby">        export rvm_recommended_ruby=&quot;rvm install $rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="16" data-linenumber="534">
          <span class="hits">16</span>
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="535">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="536">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="537">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="320" data-linenumber="538">
          <span class="hits">320</span>
          
          <code class="ruby">    if [[ ! -d &quot;$rvm_ruby_gem_home&quot; || -n &quot;${rvm_expected_gemset_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="539">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="540">
          <span class="hits">1</span>
          
          <code class="ruby">      if (( ${rvm_gemset_create_on_use_flag:=0} == 1 || ${rvm_create_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="541">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="542">
          
          
          <code class="ruby">        rvm_warn &quot;gemset $rvm_gemset_name is not existing, creating.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="543">
          
          
          <code class="ruby">        &quot;$rvm_scripts_path/gemsets&quot; create &quot;$rvm_gemset_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="544">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="545">
          <span class="hits">1</span>
          
          <code class="ruby">        rvm_error &quot;Gemset '${rvm_expected_gemset_name}' does not exist, 'rvm gemset create ${rvm_expected_gemset_name}' first, or append '--create'.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="546">
          <span class="hits">1</span>
          
          <code class="ruby">        return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="547">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="548">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="549">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="550">
          <span class="hits">159</span>
          
          <code class="ruby">    export GEM_HOME GEM_PATH MY_RUBY_HOME RUBY_VERSION IRBRC</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="551">
          <span class="hits">159</span>
          
          <code class="ruby">    GEM_HOME=&quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="552">
          <span class="hits">159</span>
          
          <code class="ruby">    GEM_PATH=&quot;$rvm_ruby_gem_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="553">
          <span class="hits">159</span>
          
          <code class="ruby">    MY_RUBY_HOME=&quot;$rvm_ruby_home&quot;</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="554">
          <span class="hits">159</span>
          
          <code class="ruby">    RUBY_VERSION=&quot;$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="555">
          <span class="hits">159</span>
          
          <code class="ruby">    IRBRC=&quot;$rvm_ruby_irbrc&quot;</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="556">
          <span class="hits">159</span>
          
          <code class="ruby">    unset BUNDLE_PATH # Ensure that BUNDLE_PATH is not set!</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="557">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="558">
          
          
          <code class="ruby">    # Handle MagLev pre-installed gems</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="559">
          <span class="hits">159</span>
          
          <code class="ruby">    if [[ &quot;maglev&quot; == &quot;$rvm_ruby_interpreter&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="560">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="561">
          
          
          <code class="ruby">      GEM_PATH=&quot;$GEM_PATH:$MAGLEV_HOME/lib/maglev/gems/1.8/&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="562">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="563">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="564">
          <span class="hits">159</span>
          
          <code class="ruby">    [[ -n &quot;${IRBRC:-}&quot; ]] || unset IRBRC</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="565">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="566">
          
          
          <code class="ruby">    # Ensure the environment file for the selected ruby exists.</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="567">
          <span class="hits">159</span>
          
          <code class="ruby">    __rvm_ensure_has_environment_files</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="568">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="569">
          <span class="hits">159</span>
          
          <code class="ruby">    if (( ${rvm_verbose_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="570">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="41" data-linenumber="571">
          <span class="hits">41</span>
          
          <code class="ruby">      rvm_log &quot;Using ${GEM_HOME/${rvm_gemset_separator:-'@'}/ with gemset }&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="572">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="573">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="574">
          <span class="hits">159</span>
          
          <code class="ruby">    if [[ &quot;$GEM_HOME&quot; != &quot;$rvm_ruby_global_gems_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="575">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="456" data-linenumber="576">
          <span class="hits">456</span>
          
          <code class="ruby">      new_path=&quot;$GEM_HOME/bin:$rvm_ruby_global_gems_path/bin:$MY_RUBY_HOME/bin:${rvm_bin_path}:$(__rvm_remove_rvm_from_path ;printf &quot;%b&quot; &quot;$PATH&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="577">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="578">
          <span class="hits">21</span>
          
          <code class="ruby">      new_path=&quot;$GEM_HOME/bin:$MY_RUBY_HOME/bin:${rvm_bin_path}:$(__rvm_remove_rvm_from_path ;printf &quot;%b&quot; &quot;$PATH&quot;)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="579">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="580">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="581">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="338" data-linenumber="582">
          <span class="hits">338</span>
          
          <code class="ruby">  [[ -z &quot;${rvm_ruby_string:-}&quot; ]] || export rvm_ruby_string</code>
        </li>
      
        <li class="covered" data-hits="249" data-linenumber="583">
          <span class="hits">249</span>
          
          <code class="ruby">  [[ -z &quot;${rvm_gemset_name:-}&quot; ]] || export rvm_gemset_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="584">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="585">
          <span class="hits">169</span>
          
          <code class="ruby">  if [[ -n &quot;$new_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="586">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="338" data-linenumber="587">
          <span class="hits">338</span>
          
          <code class="ruby">    export PATH=&quot;$new_path&quot;</code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="588">
          <span class="hits">169</span>
          
          <code class="ruby">    unset new_path</code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="589">
          <span class="hits">169</span>
          
          <code class="ruby">    builtin hash -r</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="590">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="591">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="592">
          <span class="hits">169</span>
          
          <code class="ruby">  if [[ &quot;$rvm_ruby_string&quot; != &quot;system&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="593">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="594">
          <span class="hits">159</span>
          
          <code class="ruby">    case &quot;${rvm_rvmrc_flag:-0}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="595">
          
          
          <code class="ruby">      (rvmrc|versions_conf|ruby_version)</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="596">
          <span class="hits">2</span>
          
          <code class="ruby">        __rvm_set_${rvm_rvmrc_flag}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="597">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="598">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="599">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="600">
          <span class="hits">159</span>
          
          <code class="ruby">    typeset environment_id</code>
        </li>
      
        <li class="covered" data-hits="318" data-linenumber="601">
          <span class="hits">318</span>
          
          <code class="ruby">    environment_id=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="602">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="603">
          <span class="hits">159</span>
          
          <code class="ruby">    if (( ${rvm_default_flag:=0} == 1 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="604">
          <span class="hits">2</span>
          
          <code class="ruby">      [[ &quot;default&quot; != &quot;${rvm_ruby_interpreter:-}&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="605">
          <span class="hits">2</span>
          
          <code class="ruby">      [[ &quot;system&quot;  != &quot;${rvm_ruby_interpreter:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="606">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="607">
          
          
          <code class="ruby">      # Switch the default alias to the new environment id</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="608">
          <span class="hits">2</span>
          
          <code class="ruby">      &quot;$rvm_scripts_path/alias&quot; delete default &amp;&gt; /dev/null</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="609">
          <span class="hits">2</span>
          
          <code class="ruby">      &quot;$rvm_scripts_path/alias&quot; create default &quot;$environment_id&quot; &gt;&amp; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="610">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="611">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="612">
          <span class="hits">159</span>
          
          <code class="ruby">    rvm_default_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="613">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="614">
          <span class="hits">159</span>
          
          <code class="ruby">    if [[ -n &quot;${rvm_wrapper_name:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="615">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="616">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/wrapper&quot; &quot;$environment_id&quot; &quot;$rvm_wrapper_name&quot; &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="617">
          
          
          <code class="ruby">      rvm_wrapper_name=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="618">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="619">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="159" data-linenumber="620">
          <span class="hits">159</span>
          
          <code class="ruby">    if [[ -n &quot;${rvm_ruby_alias:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="621">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="622">
          
          
          <code class="ruby">      rvm_log &quot;Attempting to alias $environment_id to $rvm_ruby_alias&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="623">
          
          
          <code class="ruby">      &quot;$rvm_scripts_path/alias&quot; delete &quot;$rvm_ruby_alias&quot; &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="624">
          
          
          <code class="ruby">      rvm_alias_expanded=1 &quot;$rvm_scripts_path/alias&quot; create &quot;$rvm_ruby_alias&quot; &quot;$environment_id&quot; &gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="625">
          
          
          <code class="ruby">      ruby_alias=&quot;&quot; ; rvm_ruby_alias=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="626">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="627">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="628">
          <span class="hits">10</span>
          
          <code class="ruby">    if (( ${rvm_default_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="629">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="630">
          
          
          <code class="ruby">      if ! builtin command -v __rvm_reset &gt;&gt; /dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="631">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="632">
          
          
          <code class="ruby">        source &quot;$rvm_scripts_path/functions/reset&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="633">
          
          
          <code class="ruby">        __rvm_reset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="634">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="635">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="636">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="637">
          <span class="hits">169</span>
          
          <code class="ruby">  rvm_hook=&quot;after_use&quot;</code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="638">
          <span class="hits">169</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/hook&quot;</code>
        </li>
      
        <li class="covered" data-hits="169" data-linenumber="639">
          <span class="hits">169</span>
          
          <code class="ruby">  return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="640">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="641">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="642">
          
          
          <code class="ruby">__rvm_ruby_string()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="643">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="644">
          
          
          <code class="ruby">  # rvm_ruby_string may designate any of the following items:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="645">
          
          
          <code class="ruby">  # * rvm_gemset_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="646">
          
          
          <code class="ruby">  # * rvm_ruby_interpreter</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="647">
          
          
          <code class="ruby">  # * rvm_ruby_version</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="648">
          
          
          <code class="ruby">  # * rvm_ruby_patch_level</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="649">
          
          
          <code class="ruby">  # * rvm_ruby_revision</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="650">
          
          
          <code class="ruby">  # * rvm_ruby_tag</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="651">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="652">
          <span class="hits">277</span>
          
          <code class="ruby">  typeset ruby_string gemset_name expanded_alias_name repo_url branch_name ruby_name</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="653">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="654">
          <span class="hits">277</span>
          
          <code class="ruby">  __rvm_default_flags</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="655">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="656">
          <span class="hits">277</span>
          
          <code class="ruby">  rvm_expanding_aliases=</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="657">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="658">
          
          
          <code class="ruby">  true \</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="659">
          <span class="hits">277</span>
          
          <code class="ruby">    &quot;${rvm_ruby_version:=}&quot; &quot;${rvm_gemset_name:=}&quot; &quot;${rvm_ruby_interpreter:=}&quot;\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="660">
          
          
          <code class="ruby">    &quot;${rvm_ruby_version:=}&quot; &quot;${rvm_ruby_tag:=}&quot; &quot;${rvm_ruby_patch_level:=}&quot;\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="661">
          
          
          <code class="ruby">    &quot;${rvm_ruby_revision:=}&quot; ${rvm_gemset_separator:=&quot;@&quot;} &quot;${rvm_ruby_string:=}&quot;\</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="662">
          
          
          <code class="ruby">    ${rvm_expanding_aliases:=0} ${rvm_head_flag:=0}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="663">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="831" data-linenumber="664">
          <span class="hits">831</span>
          
          <code class="ruby">  if echo &quot;$rvm_ruby_string&quot; | GREP_OPTIONS=&quot;&quot; \grep &quot;${rvm_gemset_separator}&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="665">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="666">
          <span class="hits">90</span>
          
          <code class="ruby">    rvm_gemset_name=&quot;${rvm_ruby_string/*${rvm_gemset_separator}/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="90" data-linenumber="667">
          <span class="hits">90</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string/${rvm_gemset_separator}*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="668">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="669">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="670">
          
          
          <code class="ruby">  # Alias'd rubies</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="671">
          <span class="hits">277</span>
          
          <code class="ruby">  if (( rvm_expanding_aliases == 0 )) &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="547" data-linenumber="672">
          <span class="hits">547</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_string}&quot; &amp;&amp; &quot;$rvm_ruby_string&quot; != &quot;system&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="673">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="674">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="675">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="526" data-linenumber="676">
          <span class="hits">526</span>
          
          <code class="ruby">      [[ -f &quot;$rvm_path/config/alias&quot; &amp;&amp; -s &quot;$rvm_path/config/alias&quot; ]] &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="72" data-linenumber="677">
          <span class="hits">72</span>
          
          <code class="ruby">      expanded_alias_name=&quot;$(&quot;$rvm_scripts_path&quot;/db &quot;$rvm_path/config/alias&quot; &quot;$rvm_ruby_string&quot;)&quot; &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="36" data-linenumber="678">
          <span class="hits">36</span>
          
          <code class="ruby">      [[ -n &quot;$expanded_alias_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="679">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="680">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;$expanded_alias_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="263" data-linenumber="681">
          <span class="hits">263</span>
          
          <code class="ruby">    elif [[ &quot;$rvm_ruby_string&quot; == default ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="682">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="683">
          
          
          <code class="ruby">      # Default is not a known value. Instead, we need to therefore set it to system.</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="684">
          <span class="hits">3</span>
          
          <code class="ruby">      rvm_ruby_string=&quot;system&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="685">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="686">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="687">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="831" data-linenumber="688">
          <span class="hits">831</span>
          
          <code class="ruby">  if echo &quot;$rvm_ruby_string&quot; | GREP_OPTIONS=&quot;&quot; \grep &quot;${rvm_gemset_separator}&quot; &gt;/dev/null 2&gt;&amp;1 ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="689">
          
          
          <code class="ruby">    rvm_gemset_name=&quot;${rvm_ruby_string/*${rvm_gemset_separator}/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="690">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string/${rvm_gemset_separator}*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="691">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="692">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="693">
          
          
          <code class="ruby">  # Stash the ruby string.</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="694">
          <span class="hits">277</span>
          
          <code class="ruby">  ruby_string=&quot;${rvm_ruby_string:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="695">
          <span class="hits">277</span>
          
          <code class="ruby">  gemset_name=&quot;${rvm_gemset_name:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="696">
          <span class="hits">277</span>
          
          <code class="ruby">  repo_url=&quot;${rvm_ruby_repo_url:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="697">
          <span class="hits">277</span>
          
          <code class="ruby">  branch_name=&quot;${rvm_ruby_repo_branch:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="698">
          <span class="hits">277</span>
          
          <code class="ruby">  ruby_name=&quot;${rvm_ruby_name:-}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="699">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="700">
          <span class="hits">277</span>
          
          <code class="ruby">  __rvm_unset_ruby_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="701">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="702">
          <span class="hits">277</span>
          
          <code class="ruby">  rvm_ruby_repo_url=&quot;${repo_url:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="703">
          <span class="hits">277</span>
          
          <code class="ruby">  rvm_ruby_repo_branch=&quot;${branch_name:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="704">
          <span class="hits">277</span>
          
          <code class="ruby">  rvm_ruby_name=&quot;$ruby_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="705">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="706">
          <span class="hits">277</span>
          
          <code class="ruby">  if [[ -n &quot;$gemset_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="707">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="134" data-linenumber="708">
          <span class="hits">134</span>
          
          <code class="ruby">    rvm_gemset_name=&quot;$gemset_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="134" data-linenumber="709">
          <span class="hits">134</span>
          
          <code class="ruby">    rvm_sticky_flag=1 # &lt;- not sold on this.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="710">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="711">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="712">
          <span class="hits">277</span>
          
          <code class="ruby">  strings=()</code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="713">
          <span class="hits">277</span>
          
          <code class="ruby">  __rvm_custom_separated_array strings - &quot;${ruby_string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="714">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="277" data-linenumber="715">
          <span class="hits">277</span>
          
          <code class="ruby">  if (( ${#strings[@]} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="716">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="717">
          <span class="hits">21</span>
          
          <code class="ruby">    if echo &quot;${GEM_HOME:-}&quot; | GREP_OPTIONS=&quot;&quot; \grep &quot;${rvm_gems_path}&quot; &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="718">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="719">
          
          
          <code class="ruby">      # Current Ruby</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="720">
          <span class="hits">7</span>
          
          <code class="ruby">      strings=&quot;${GEM_HOME##*\/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="721">
          <span class="hits">7</span>
          
          <code class="ruby">      strings=&quot;${strings/%${rvm_gemset_separator:-&quot;@&quot;}*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="722">
          <span class="hits">7</span>
          
          <code class="ruby">      rvm_ruby_string=&quot;$strings&quot;</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="723">
          <span class="hits">14</span>
          
          <code class="ruby">      strings=( $(echo ${rvm_ruby_string//-/ }) )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="724">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="725">
          
          
          <code class="ruby">      strings=(system)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="726">
          
          
          <code class="ruby">      rvm_ruby_string=&quot;system&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="727">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="728">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="729">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="635" data-linenumber="730">
          <span class="hits">635</span>
          
          <code class="ruby">  for string in ${strings[@]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="731">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="635" data-linenumber="732">
          <span class="hits">635</span>
          
          <code class="ruby">    case &quot;$string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="733">
          
          
          <code class="ruby">      (head)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="734">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="735">
          
          
          <code class="ruby">        rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="736">
          
          
          <code class="ruby">        rvm_ruby_tag=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="737">
          
          
          <code class="ruby">        export rvm_head_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="738">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="739">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="740">
          
          
          <code class="ruby">      (system)</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="741">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_ruby_interpreter=&quot;system&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="742">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="743">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_ruby_tag=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="744">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="745">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_ruby_version=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="746">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="747">
          <span class="hits">10</span>
          
          <code class="ruby">        rvm_head_flag=0</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="748">
          <span class="hits">10</span>
          
          <code class="ruby">        return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="749">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="750">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="751">
          
          
          <code class="ruby">      (ext|external)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="752">
          
          
          <code class="ruby">        rvm_ruby_interpreter=&quot;ext&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="753">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="754">
          
          
          <code class="ruby">        rvm_ruby_tag=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="755">
          
          
          <code class="ruby">        rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="756">
          
          
          <code class="ruby">        rvm_ruby_version=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="757">
          
          
          <code class="ruby">        rvm_head_flag=0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="758">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="759">
          
          
          <code class="ruby">        unset strings[__array_start]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="760">
          
          
          <code class="ruby">        strings=( ${strings[@]} )</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="761">
          
          
          <code class="ruby">        strings=&quot;${strings[*]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="762">
          
          
          <code class="ruby">        rvm_ruby_name=&quot;${strings// /-}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="763">
          
          
          <code class="ruby">        break</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="764">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="765">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="766">
          
          
          <code class="ruby">      (nightly|weekly)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="767">
          
          
          <code class="ruby">        if [[ &quot;${rvm_ruby_interpreter}&quot; == &quot;rbx&quot; ]]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="768">
          
          
          <code class="ruby">        then rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="769">
          
          
          <code class="ruby">        else rvm_ruby_version=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="770">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="771">
          
          
          <code class="ruby">        rvm_nightly_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="772">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="773">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="774">
          
          
          <code class="ruby">      (nightly*|weekly*) # rbx binary</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="775">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="776">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="777">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="778">
          
          
          <code class="ruby">      (preview*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="779">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="780">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="781">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="782">
          
          
          <code class="ruby">      (rc[[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="783">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="784">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="785">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="786">
          
          
          <code class="ruby">      ([[:digit:]].[[:digit:]]*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="787">
          
          
          <code class="ruby">        #TODO: use normal code for rbx!</code>
        </li>
      
        <li class="covered" data-hits="267" data-linenumber="788">
          <span class="hits">267</span>
          
          <code class="ruby">        if [[ &quot;${rvm_ruby_interpreter}&quot; == &quot;rbx&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="789">
          
          
          <code class="ruby">        then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="790">
          
          
          <code class="ruby">          if [[ -z &quot;${rvm_ruby_version}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="791">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="792">
          
          
          <code class="ruby">            rvm_ruby_version=&quot;${string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="793">
          
          
          <code class="ruby">          elif [[ -z &quot;${rvm_ruby_patch_level}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="794">
          
          
          <code class="ruby">          then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="795">
          
          
          <code class="ruby">            rvm_ruby_patch_level=&quot;${string}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="796">
          
          
          <code class="ruby">          else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="797">
          
          
          <code class="ruby">            rvm_error &quot;Unknown ruby interpreter string component: '$string'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="798">
          
          
          <code class="ruby">            return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="799">
          
          
          <code class="ruby">          fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="800">
          
          
          <code class="ruby">        else</code>
        </li>
      
        <li class="covered" data-hits="267" data-linenumber="801">
          <span class="hits">267</span>
          
          <code class="ruby">          case &quot;$string&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="802">
          
          
          <code class="ruby">            (0.+([[:digit:]])|0.+([[:digit:]]).+([[:digit:]])|1.+([[:digit:]]).+([[:digit:]])|2.+([[:digit:]]).+([[:digit:]])|1.+([[:digit:]]).+([[:digit:]]).+([[:digit:]])|1.+([[:digit:]]))</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="803">
          <span class="hits">264</span>
          
          <code class="ruby">              rvm_ruby_version=&quot;$string&quot;</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="804">
          <span class="hits">264</span>
          
          <code class="ruby">              rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="805">
          <span class="hits">264</span>
          
          <code class="ruby">              rvm_ruby_tag=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="806">
          
          
          <code class="ruby">              ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="807">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="808">
          
          
          <code class="ruby">            (1.+([[:digit:]]).+([[:digit:]]).+([[:alnum:]]))</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="809">
          
          
          <code class="ruby">              case &quot;${rvm_ruby_interpreter:-&quot;&quot;}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="810">
          
          
          <code class="ruby">                (jruby)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="811">
          
          
          <code class="ruby">                  rvm_ruby_version=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="812">
          
          
          <code class="ruby">                  ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="813">
          
          
          <code class="ruby">                (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="814">
          
          
          <code class="ruby">                  rvm_error &quot;Unknown ruby interpreter version: '$string'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="815">
          
          
          <code class="ruby">                  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="816">
          
          
          <code class="ruby">                  ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="817">
          
          
          <code class="ruby">              esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="818">
          
          
          <code class="ruby">              ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="819">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="820">
          
          
          <code class="ruby">            (*)</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="821">
          <span class="hits">3</span>
          
          <code class="ruby">              rvm_error &quot;Unknown ruby interpreter version: '$string'.&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="822">
          <span class="hits">3</span>
          
          <code class="ruby">              return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="823">
          
          
          <code class="ruby">              ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="824">
          
          
          <code class="ruby">          esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="825">
          
          
          <code class="ruby">        fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="826">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="827">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="828">
          
          
          <code class="ruby">      (p[[:digit:]]*)</code>
        </li>
      
        <li class="covered" data-hits="184" data-linenumber="829">
          <span class="hits">184</span>
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="830">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="831">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="832">
          
          
          <code class="ruby">      ([[:digit:]][[:digit:]]*)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="833">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="834">
          
          
          <code class="ruby">        case &quot;${rvm_ruby_interpreter:-&quot;&quot;}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="835">
          
          
          <code class="ruby">          (ree)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="836">
          
          
          <code class="ruby">            rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="837">
          
          
          <code class="ruby">            rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="838">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="839">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="840">
          
          
          <code class="ruby">          (kiji)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="841">
          
          
          <code class="ruby">            rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="842">
          
          
          <code class="ruby">            rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="843">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="844">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="845">
          
          
          <code class="ruby">          (rbx)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="846">
          
          
          <code class="ruby">            rvm_ruby_patch_level=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="847">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="848">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="849">
          
          
          <code class="ruby">          (maglev)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="850">
          
          
          <code class="ruby">            rvm_ruby_version=&quot;$string&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="851">
          
          
          <code class="ruby">            rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="852">
          
          
          <code class="ruby">            rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="853">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="854">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="855">
          
          
          <code class="ruby">          (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="856">
          
          
          <code class="ruby">            rvm_ruby_revision=&quot;r$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="857">
          
          
          <code class="ruby">            ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="858">
          
          
          <code class="ruby">        esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="859">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="860">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="861">
          
          
          <code class="ruby">      (r[[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="862">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="863">
          
          
          <code class="ruby">        rvm_ruby_revision=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="864">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="865">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="866">
          
          
          <code class="ruby">      (s[[:alnum:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="867">
          
          
          <code class="ruby">        rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="868">
          
          
          <code class="ruby">        rvm_ruby_sha=&quot;${string#s}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="869">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="870">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="871">
          
          
          <code class="ruby">      (tv[[:digit:]]*|t[[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="872">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot; ; rvm_ruby_revision=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="873">
          
          
          <code class="ruby">        rvm_ruby_tag=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="874">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="875">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="876">
          
          
          <code class="ruby">      (m[[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="877">
          
          
          <code class="ruby">        rvm_ruby_mode=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="878">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="879">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="880">
          
          
          <code class="ruby">      (u[[:alnum:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="881">
          
          
          <code class="ruby">        rvm_ruby_patch_level=&quot;&quot; ; rvm_ruby_revision=&quot;&quot; ; rvm_ruby_tag=&quot;&quot; ; rvm_ruby_patch=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="882">
          
          
          <code class="ruby">        rvm_ruby_user_tag=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="883">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="884">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="885">
          
          
          <code class="ruby">      (a[[:digit:]][[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="886">
          
          
          <code class="ruby">        rvm_ruby_bits=&quot;$string&quot; # Architecture</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="887">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="888">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="889">
          
          
          <code class="ruby">      (b[[:digit:]]*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="890">
          
          
          <code class="ruby">        rvm_ruby_repo_branch=&quot;${string}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="891">
          
          
          <code class="ruby">        rvm_head_flag=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="892">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="893">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="894">
          
          
          <code class="ruby">      (opal|ruby|rbx|jruby|macruby|ree|kiji|rubinius|maglev|ironruby|goruby|mruby|tcs|jamesgolick|topaz)</code>
        </li>
      
        <li class="covered" data-hits="149" data-linenumber="895">
          <span class="hits">149</span>
          
          <code class="ruby">        rvm_ruby_interpreter=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="896">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="897">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="898">
          
          
          <code class="ruby">      ([[:alpha:]]*([[:alnum:]]|_))</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="899">
          <span class="hits">25</span>
          
          <code class="ruby">        rvm_ruby_name=&quot;$string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="900">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="901">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="902">
          
          
          <code class="ruby">      (*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="903">
          
          
          <code class="ruby">        rvm_error &quot;Unknown ruby interpreter string component: '$string'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="904">
          
          
          <code class="ruby">        return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="905">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="906">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="907">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="908">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="909">
          <span class="hits">264</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_interpreter:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="910">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="911">
          
          
          <code class="ruby">    # Detect interpreter based on version.</code>
        </li>
      
        <li class="covered" data-hits="115" data-linenumber="912">
          <span class="hits">115</span>
          
          <code class="ruby">    case &quot;$rvm_ruby_version&quot; in</code>
        </li>
      
        <li class="covered" data-hits="105" data-linenumber="913">
          <span class="hits">105</span>
          
          <code class="ruby">      (1.[8-9]*) rvm_ruby_interpreter=&quot;ruby&quot;    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="914">
          
          
          <code class="ruby">      (0.[5-6]*) rvm_ruby_interpreter=&quot;macruby&quot; ;;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="915">
          <span class="hits">10</span>
          
          <code class="ruby">      (1.[0-4]*) rvm_ruby_interpreter=&quot;rbx&quot;     ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="916">
          
          
          <code class="ruby">      (1.[5-7]*) rvm_ruby_interpreter=&quot;jruby&quot;   ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="917">
          
          
          <code class="ruby">      (2.0.0*)   rvm_ruby_interpreter=&quot;ruby&quot;    ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="918">
          
          
          <code class="ruby">      (2.*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="919">
          
          
          <code class="ruby">        rvm_error &quot;Version '$rvm_ruby_version' is ambiguous. Cannot select Ruby implementation/version, please be more specific.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="920">
          
          
          <code class="ruby">        return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="921">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="922">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="923">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="924">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="925">
          
          
          <code class="ruby">  # Unspecified version</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="926">
          <span class="hits">264</span>
          
          <code class="ruby">  rvm_ruby_version=&quot;${rvm_ruby_version:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="927">
          <span class="hits">264</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_version:-}&quot; &amp;&amp; &quot;${rvm_ruby_interpreter}&quot; != &quot;ext&quot; ]] &amp;&amp; (( ${rvm_head_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="928">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="929">
          
          
          <code class="ruby">    rvm_ruby_version=&quot;${rvm_ruby_version:-&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="930">
          
          
          <code class="ruby">    __rvm_db &quot;${rvm_ruby_interpreter}_version&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="931">
          
          
          <code class="ruby">    )&quot;}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="932">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="933">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="934">
          <span class="hits">264</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_version:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="935">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="936">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_interpreter}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="937">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="938">
          <span class="hits">264</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_interpreter}-${rvm_ruby_version}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="939">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="940">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="941">
          <span class="hits">264</span>
          
          <code class="ruby">  if [[ &quot;${rvm_ruby_interpreter}&quot; == &quot;ext&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="942">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="943">
          
          
          <code class="ruby">    true # skip checking for external rubies</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="944">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="945">
          <span class="hits">264</span>
          
          <code class="ruby">  elif (( ${rvm_head_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="946">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="947">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-head&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="948">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="949">
          <span class="hits">264</span>
          
          <code class="ruby">  elif [[ -n &quot;${rvm_ruby_revision:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="950">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="951">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-${rvm_ruby_revision}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="952">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="953">
          <span class="hits">264</span>
          
          <code class="ruby">  elif [[ -n &quot;${rvm_ruby_sha:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="954">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="955">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-s${rvm_ruby_sha}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="956">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="957">
          <span class="hits">264</span>
          
          <code class="ruby">  elif [[ -n &quot;${rvm_ruby_tag:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="958">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="959">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-${rvm_ruby_tag}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="960">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="961">
          <span class="hits">264</span>
          
          <code class="ruby">  elif [[ -n &quot;${rvm_ruby_patch_level:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="962">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="184" data-linenumber="963">
          <span class="hits">184</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-${rvm_ruby_patch_level}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="964">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="965">
          <span class="hits">80</span>
          
          <code class="ruby">  elif [[ -n &quot;${rvm_ruby_user_tag:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="966">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="967">
          
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-${rvm_ruby_user_tag}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="968">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="969">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="970">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="971">
          <span class="hits">80</span>
          
          <code class="ruby">      (( ${rvm_fuzzy_flag:-0} == 1 )) &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="972">
          
          
          <code class="ruby">      [[ &quot;${rvm_ruby_interpreter}&quot; == &quot;ruby&quot; || &quot;${rvm_ruby_interpreter}&quot; == &quot;ree&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="973">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="974">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="975">
          
          
          <code class="ruby">        &quot;${rvm_scripts_path:-$rvm_path/scripts}/list&quot; strings |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="976">
          
          
          <code class="ruby">          \grep &quot;${rvm_ruby_interpreter}-${rvm_ruby_version}-&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="977">
          
          
          <code class="ruby">          awk -F- '{print $3}' | sort | tail -n 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="978">
          
          
          <code class="ruby">      )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="979">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="980">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="981">
          <span class="hits">80</span>
          
          <code class="ruby">      (( ${rvm_latest_binary_flag:-0} == 1 )) &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="982">
          
          
          <code class="ruby">      [[ &quot;${rvm_ruby_interpreter}&quot; == &quot;ruby&quot; || &quot;${rvm_ruby_interpreter}&quot; == &quot;ree&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="983">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="984">
          
          
          <code class="ruby">      #TODO: MRI only implementation, we need a better db/format/handling for this</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="985">
          
          
          <code class="ruby">      rvm_ruby_patch_level=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="986">
          
          
          <code class="ruby">        __list_remote_rubies_for $( __rvm_system_path_for rubies ) |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="987">
          
          
          <code class="ruby">          awk -F/ '{x=$NF; gsub(&quot;.tar.*&quot;,&quot;&quot;,x); print x}' |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="988">
          
          
          <code class="ruby">          \grep &quot;${rvm_ruby_interpreter}-${rvm_ruby_version}-&quot; |</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="989">
          
          
          <code class="ruby">          awk -F- '{print $3}' | sort | tail -n 1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="990">
          
          
          <code class="ruby">      )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="991">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="992">
          <span class="hits">80</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_patch_level:-&quot;&quot;}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="993">
          
          
          <code class="ruby">    rvm_ruby_patch_level=&quot;$(</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="994">
          
          
          <code class="ruby">      __rvm_db &quot;${rvm_ruby_interpreter}_${rvm_ruby_version}_patch_level&quot;</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="995">
          <span class="hits">80</span>
          
          <code class="ruby">    )&quot;</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="996">
          <span class="hits">160</span>
          
          <code class="ruby">    if [[ -n &quot;${rvm_ruby_patch_level:-&quot;&quot;}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="80" data-linenumber="997">
          <span class="hits">80</span>
          
          <code class="ruby">    then rvm_ruby_string=&quot;${rvm_ruby_string}-${rvm_ruby_patch_level}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="998">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="999">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1000">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1001">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="1002">
          <span class="hits">264</span>
          
          <code class="ruby">    [[ -n &quot;${rvm_ruby_name:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1003">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="1004">
          <span class="hits">25</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string}-${rvm_ruby_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1005">
          
          
          <code class="ruby">    # record the name for validation of -n option</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="1006">
          <span class="hits">25</span>
          
          <code class="ruby">    detected_rvm_ruby_name=&quot;${rvm_ruby_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1007">
          
          
          <code class="ruby">    # clean the name so it is not added again (rbx -n install problem)</code>
        </li>
      
        <li class="covered" data-hits="25" data-linenumber="1008">
          <span class="hits">25</span>
          
          <code class="ruby">    rvm_ruby_name=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1009">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1010">
          
          
          <code class="ruby">    # record the no name for validation of -n option</code>
        </li>
      
        <li class="covered" data-hits="239" data-linenumber="1011">
          <span class="hits">239</span>
          
          <code class="ruby">    detected_rvm_ruby_name=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1012">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="264" data-linenumber="1013">
          <span class="hits">264</span>
          
          <code class="ruby">  true # OSX --trace FIX</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1014">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1015">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1016">
          
          
          <code class="ruby">__rvm_ruby_strings_exist()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1017">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="1018">
          <span class="hits">27</span>
          
          <code class="ruby">  for rvm_ruby_string in ${@//,/ }</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1019">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="27" data-linenumber="1020">
          <span class="hits">27</span>
          
          <code class="ruby">    rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="57" data-linenumber="1021">
          <span class="hits">57</span>
          
          <code class="ruby">    rvm_verbose_flag=0 __rvm_use &quot;${rvm_ruby_string}&quot; &gt;/dev/null 2&gt;&amp;1 || return $?</code>
        </li>
      
        <li class="covered" data-hits="24" data-linenumber="1022">
          <span class="hits">24</span>
          
          <code class="ruby">    printf &quot;%b&quot; &quot;${rvm_ruby_string}${rvm_gemset_name:+@}${rvm_gemset_name:-}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1023">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="1024">
          <span class="hits">23</span>
          
          <code class="ruby">  unset rvm_ruby_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="1025">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="fc9c3c053fc908af837da17f5577cdc23e9110e4">
  <div class="header">
    <h3>/usr/local/rvm/scripts/selector_gemsets</h3>
    <h4><span class="red">68.83 %</span> covered</h4>
    <div>
      <b>77</b> relevant lines. 
      <span class="green"><b>53</b> lines covered</span> and
      <span class="red"><b>24</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="3">
          
          
          <code class="ruby">__rvm_gemset_handle_default()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="288" data-linenumber="5">
          <span class="hits">288</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;@${rvm_gemset_name:-}@&quot;</code>
        </li>
      
        <li class="covered" data-hits="288" data-linenumber="6">
          <span class="hits">288</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;${rvm_gemset_name/@default@/@@}&quot;</code>
        </li>
      
        <li class="covered" data-hits="288" data-linenumber="7">
          <span class="hits">288</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;${rvm_gemset_name#@}&quot;</code>
        </li>
      
        <li class="covered" data-hits="288" data-linenumber="8">
          <span class="hits">288</span>
          
          <code class="ruby">  rvm_gemset_name=&quot;${rvm_gemset_name%@}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">__rvm_gemset_select_cli_validation()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="13">
          <span class="hits">7</span>
          
          <code class="ruby">  typeset orig_gemset</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="15">
          <span class="hits">7</span>
          
          <code class="ruby">  if ! builtin command -v gem &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="17">
          
          
          <code class="ruby">    rvm_log &quot;'gem' command not found, cannot select a gemset.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">    return 0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="21">
          <span class="hits">7</span>
          
          <code class="ruby">  orig_gemset=&quot;${rvm_gemset_name:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="22">
          <span class="hits">7</span>
          
          <code class="ruby">  __rvm_gemset_handle_default</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="24">
          
          
          <code class="ruby">  # No longer defaulting to 'sticky' gem sets.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby">  # Set 'rvm_sticky_flag=1' in ~/.rvmrc to enable.</code>
        </li>
      
        <li class="covered" data-hits="8" data-linenumber="26">
          <span class="hits">8</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_gemset_name:-}&quot;  &amp;&amp; &quot;$orig_gemset&quot; != &quot;default&quot; &amp;&amp; ${rvm_sticky_flag:-0} -eq 1 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">    if [[ -n &quot;${rvm_ruby_gem_home:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="29">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">      rvm_gemset_name=&quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">    elif [[ -n &quot;${GEM_HOME:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">      rvm_gemset_name=&quot;$GEM_HOME&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">    rvm_gemset_name=&quot;${rvm_gemset_name##*/}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">    rvm_gemset_name=&quot;${rvm_gemset_name#*${rvm_gemset_separator:-&quot;@&quot;}}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="21" data-linenumber="39">
          <span class="hits">21</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_string:-}&quot; &amp;&amp; -n &quot;${GEM_HOME:-}&quot; &amp;&amp; -n &quot;${GEM_HOME%@*}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="41">
          <span class="hits">7</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;${GEM_HOME%@*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="42">
          <span class="hits">7</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;${rvm_ruby_string##*/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="45">
          <span class="hits">7</span>
          
          <code class="ruby">  if [[ -z &quot;${rvm_ruby_string:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="47">
          
          
          <code class="ruby">    rvm_error &quot;Gemsets can not be used with non rvm controlled rubies (currently).&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">    return 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="52">
          
          
          <code class="ruby">__rvm_gemset_select_only()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="54">
          <span class="hits">281</span>
          
          <code class="ruby">  rvm_ruby_gem_home=&quot;${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/$rvm_ruby_string&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="56">
          <span class="hits">281</span>
          
          <code class="ruby">  : rvm_ignore_gemsets_flag:${rvm_ignore_gemsets_flag:=0}:</code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="57">
          <span class="hits">281</span>
          
          <code class="ruby">  if (( rvm_ignore_gemsets_flag ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">    rvm_ruby_global_gems_path=&quot;${rvm_ruby_gem_home}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">    rvm_ruby_gem_path=&quot;${rvm_ruby_gem_home}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">    rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="63">
          <span class="hits">281</span>
          
          <code class="ruby">    rvm_ruby_global_gems_path=&quot;${rvm_ruby_gem_home}${rvm_gemset_separator:-&quot;@&quot;}global&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="64">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="65">
          <span class="hits">281</span>
          
          <code class="ruby">    __rvm_gemset_handle_default</code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="66">
          <span class="hits">281</span>
          
          <code class="ruby">    [[ -z &quot;$rvm_gemset_name&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="117" data-linenumber="67">
          <span class="hits">117</span>
          
          <code class="ruby">      rvm_ruby_gem_home=&quot;${rvm_ruby_gem_home}${rvm_gemset_separator:-&quot;@&quot;}${rvm_gemset_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="68">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="69">
          <span class="hits">281</span>
          
          <code class="ruby">    if [[ &quot;$rvm_gemset_name&quot; == &quot;global&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="71">
          <span class="hits">7</span>
          
          <code class="ruby">      rvm_ruby_gem_path=&quot;${rvm_ruby_gem_home}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="covered" data-hits="274" data-linenumber="73">
          <span class="hits">274</span>
          
          <code class="ruby">      rvm_ruby_gem_path=&quot;${rvm_ruby_gem_home}:${rvm_ruby_global_gems_path}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="77">
          <span class="hits">281</span>
          
          <code class="ruby">  case &quot;${rvm_gemset_name}&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">    (*/*)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="79">
          
          
          <code class="ruby">      rvm_error &quot;Gemsets can not contain path separator '/'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">      return 5</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">      ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">  esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="84">
          <span class="hits">281</span>
          
          <code class="ruby">  if [[ -n &quot;${rvm_gemset_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="117" data-linenumber="86">
          <span class="hits">117</span>
          
          <code class="ruby">    rvm_env_string=&quot;${rvm_ruby_string}@${rvm_gemset_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="164" data-linenumber="88">
          <span class="hits">164</span>
          
          <code class="ruby">    rvm_env_string=${rvm_ruby_string}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="281" data-linenumber="90">
          <span class="hits">281</span>
          
          <code class="ruby">  true # OSX --trace FIX</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="91">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">__rvm_gemset_select_validation()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">  # If the gemset does not exist, then notify the user as such and abort the action.</code>
        </li>
      
        <li class="covered" data-hits="246" data-linenumber="96">
          <span class="hits">246</span>
          
          <code class="ruby">  if [[ ! -d &quot;${rvm_ruby_gem_home}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="43" data-linenumber="98">
          <span class="hits">43</span>
          
          <code class="ruby">    if (( ${rvm_gemset_create_on_use_flag:=0} == 0 &amp;&amp; ${rvm_create_flag:=0} == 0 &amp;&amp; ${rvm_delete_flag:=0} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="100">
          <span class="hits">35</span>
          
          <code class="ruby">      rvm_expected_gemset_name=&quot;${rvm_gemset_name}&quot;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="101">
          <span class="hits">35</span>
          
          <code class="ruby">      rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="102">
          <span class="hits">35</span>
          
          <code class="ruby">      __rvm_gemset_select_only</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="103">
          <span class="hits">35</span>
          
          <code class="ruby">      return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="covered" data-hits="203" data-linenumber="105">
          <span class="hits">203</span>
          
          <code class="ruby">  elif (( ${rvm_delete_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="107">
          
          
          <code class="ruby">    return 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="111">
          
          
          <code class="ruby">__rvm_gemset_select_ensure()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="211" data-linenumber="113">
          <span class="hits">211</span>
          
          <code class="ruby">  \mkdir -p &quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="220" data-linenumber="115">
          <span class="hits">220</span>
          
          <code class="ruby">  if __rvm_using_gemset_globalcache &amp;&amp; [[ ! -L &quot;$rvm_ruby_gem_home/cache&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="116">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="117">
          <span class="hits">1</span>
          
          <code class="ruby">    : rvm_gems_cache_path:${rvm_gems_cache_path:=${rvm_gems_path:-&quot;$rvm_path/gems&quot;}/cache}</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="118">
          <span class="hits">1</span>
          
          <code class="ruby">    \mv &quot;$rvm_ruby_gem_home/cache/&quot;*.gem &quot;$rvm_gems_cache_path/&quot; 2&gt;/dev/null</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="119">
          <span class="hits">1</span>
          
          <code class="ruby">    __rvm_rm_rf &quot;$rvm_ruby_gem_home/cache&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="120">
          <span class="hits">1</span>
          
          <code class="ruby">    \ln -fs &quot;$rvm_gems_cache_path&quot; &quot;$rvm_ruby_gem_home/cache&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby"># Select a gemset based on CLI set options and environment.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">__rvm_gemset_select_cli()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="127">
          <span class="hits">7</span>
          
          <code class="ruby">  __rvm_gemset_select_cli_validation &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="128">
          <span class="hits">7</span>
          
          <code class="ruby">  __rvm_gemset_select</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">__rvm_gemset_select()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="246" data-linenumber="133">
          <span class="hits">246</span>
          
          <code class="ruby">  __rvm_gemset_select_only &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="246" data-linenumber="134">
          <span class="hits">246</span>
          
          <code class="ruby">  __rvm_gemset_select_validation &amp;&amp;</code>
        </li>
      
        <li class="covered" data-hits="211" data-linenumber="135">
          <span class="hits">211</span>
          
          <code class="ruby">  __rvm_gemset_select_ensure</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby"># Use a gemset specified by 'rvm_ruby_gem_home'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">__rvm_gemset_use()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="7" data-linenumber="141">
          <span class="hits">7</span>
          
          <code class="ruby">  if __rvm_gemset_select_cli</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="142">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="143">
          <span class="hits">6</span>
          
          <code class="ruby">    rvm_log &quot;Using $rvm_ruby_string with gemset ${rvm_gemset_name:-default}&quot;</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="144">
          <span class="hits">6</span>
          
          <code class="ruby">    __rvm_use # Now ensure the selection takes effect for the environment.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="145">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="146">
          <span class="hits">2</span>
          
          <code class="ruby">    if [[ ! -d &quot;$rvm_ruby_gem_home&quot; || -n &quot;${rvm_expected_gemset_name}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="148">
          <span class="hits">1</span>
          
          <code class="ruby">      if (( ${rvm_gemset_create_on_use_flag:=0} == 1 || ${rvm_create_flag:=0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">        rvm_warn &quot;gemset $rvm_gemset_name is not existing, creating.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">        &quot;$rvm_scripts_path/gemsets&quot; create &quot;$rvm_gemset_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="152">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="153">
          <span class="hits">1</span>
          
          <code class="ruby">        rvm_error &quot;Gemset '${rvm_expected_gemset_name}' does not exist, 'rvm gemset create ${rvm_expected_gemset_name}' first, or append '--create'.&quot;</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="154">
          <span class="hits">1</span>
          
          <code class="ruby">        return 2</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="157">
          
          
          <code class="ruby">      rvm_error &quot;Gemset was not given.\n  Usage:\n    rvm gemset use &lt;gemsetname&gt;\n&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="158">
          
          
          <code class="ruby">      return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="161">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">__rvm_gemset_clear()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">  export rvm_gemset_name</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">  rvm_gemset_name=&quot;&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="167">
          
          
          <code class="ruby">  __rvm_use # Now ensure the selection takes effect for the environment.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="63ed04ed90bdfe2a757dce6d45ec9a4333d0fa10">
  <div class="header">
    <h3>/usr/local/rvm/scripts/set</h3>
    <h4><span class="red">42.48 %</span> covered</h4>
    <div>
      <b>113</b> relevant lines. 
      <span class="green"><b>48</b> lines covered</span> and
      <span class="red"><b>65</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="3">
          <span class="hits">26</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">__rvm_attempt_single_exec()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby">  # Return if we have multiple rubies. or we're not running exec.</code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="8">
          <span class="hits">23</span>
          
          <code class="ruby">  if (( ${#rvm_ruby_strings[@]} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="10">
          <span class="hits">22</span>
          
          <code class="ruby">    __rvm_become &quot;$rvm_ruby_strings&quot;</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="11">
          <span class="hits">22</span>
          
          <code class="ruby">    __rvm_load_rvmrc</code>
        </li>
      
        <li class="covered" data-hits="66" data-linenumber="12">
          <span class="hits">66</span>
          
          <code class="ruby">    export rvm_project_rvmrc=0 rvm_ignore_rvmrc=1</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="13">
          <span class="hits">22</span>
          
          <code class="ruby">    exec &quot;${args[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="14">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="16">
          <span class="hits">1</span>
          
          <code class="ruby">  return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby">__rvm_ruby_do()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="20">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby">  # Return on invalid rubies.</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="22">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_become &quot;$current_set_ruby&quot; || return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="24">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_hook=&quot;before_do&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="25">
          <span class="hits">2</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/hook&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="26">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="27">
          <span class="hits">6</span>
          
          <code class="ruby">  if [[ -n &quot;$rvm_json_flag&quot; || -n &quot;$rvm_yaml_flag&quot; || -n &quot;$rvm_summary_flag&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    if [[ ! -d &quot;./log/$rvm_ruby_string/&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="31">
          
          
          <code class="ruby">      mkdir -p &quot;./log/$rvm_ruby_string/&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">    touch &quot;./log/$rvm_ruby_string/$action.log&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="34">
          
          
          <code class="ruby">    &quot;${args[@]}&quot; &gt;&gt; &quot;./log/$rvm_ruby_string/$action.log&quot; 2&gt;&amp;1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="35">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="36">
          <span class="hits">2</span>
          
          <code class="ruby">    if (( ${rvm_verbose_flag:-0} &gt; 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="37">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="38">
          
          
          <code class="ruby">      current_env=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">      if [[ &quot;$current_env&quot; != &quot;$current_set_ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">        current_env=&quot;$current_set_ruby ($current_env)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="43">
          
          
          <code class="ruby">      rvm_log &quot;$current_env: $(ruby -v $rvm_ruby_mode | \tr &quot;\n&quot; ' ')&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">      unset current_env</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">    (</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="47">
          <span class="hits">2</span>
          
          <code class="ruby">      __rvm_load_rvmrc</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="48">
          <span class="hits">6</span>
          
          <code class="ruby">      export rvm_project_rvmrc=0 rvm_ignore_rvmrc=1</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="49">
          <span class="hits">2</span>
          
          <code class="ruby">      &quot;${args[@]}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">    )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="52">
          <span class="hits">2</span>
          
          <code class="ruby">  result=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="54">
          <span class="hits">2</span>
          
          <code class="ruby">  string=$rvm_ruby_string #$(basename $rvm_ruby_gem_home)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="55">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="56">
          <span class="hits">2</span>
          
          <code class="ruby">  if (( result == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="58">
          <span class="hits">4</span>
          
          <code class="ruby">    eval &quot;successes=(${successes[*]} $string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">    eval &quot;errors=(${errors[*]} $string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="62">
          <span class="hits">4</span>
          
          <code class="ruby">  eval &quot;rubies=(${rubies[*]} $string)&quot;</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="63">
          <span class="hits">4</span>
          
          <code class="ruby">  eval &quot;statuses=(${statuses[*]} $result)&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="64">
          <span class="hits">2</span>
          
          <code class="ruby">  unset string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="65">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="66">
          <span class="hits">2</span>
          
          <code class="ruby">  rvm_hook=&quot;after_do&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="67">
          <span class="hits">2</span>
          
          <code class="ruby">  source &quot;$rvm_scripts_path/hook&quot;</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="68">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_unset_ruby_variables</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby"># Output the summary in a human readable format.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">__rvm_summary()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">  export successes errors statuses</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="76">
          
          
          <code class="ruby">  summary=&quot;\nSummary:\n\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="77">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="78">
          
          
          <code class="ruby">  if [[ ${#successes[*]} -gt 0 ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="80">
          
          
          <code class="ruby">    if rvm_pretty_print stdout</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="81">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="82">
          
          
          <code class="ruby">      summary=&quot;$summary ${rvm_notify_clr:-}${#successes[*]} successful: $(echo &quot;${successes[*]}&quot; | sed 's# #, #g')${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="84">
          
          
          <code class="ruby">      summary=&quot;$summary ${#successes[*]} successful: $(echo &quot;${successes[*]}&quot; | sed 's# #, #g')\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="88">
          
          
          <code class="ruby">  if [[ ${#errors[*]} -gt 0 ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">    if rvm_pretty_print stdout</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">      summary=&quot;$summary ${rvm_error_clr:-}${#errors[*]} errors: $(echo &quot;${errors[*]}&quot; | sed 's# #, #g')${rvm_reset_clr:-}\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="93">
          
          
          <code class="ruby">      summary=&quot;$summary ${#errors[*]} errors: $(echo &quot;${errors[*]}&quot; | sed 's# #, #g')\n&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">  total=${#rubies[*]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="99">
          
          
          <code class="ruby">  [[ -z &quot;${ZSH_VERSION:-}&quot; ]] ; array_start=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;$summary&quot; | tee -a log/summary.log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="103">
          
          
          <code class="ruby">  return ${#errors[*]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="104">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="106">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="107">
          
          
          <code class="ruby"># Output the summary in a yaml format.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="108">
          
          
          <code class="ruby">__rvm_yaml()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="109">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">  export successes errors statuses</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="111">
          
          
          <code class="ruby">  yaml=&quot;totals:\n  rubies: ${#rubies[*]}\n  successes: ${#successes[*]}\n  errors: ${#errors[*]}\nsuccesses:&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="112">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">  for var in ${successes[*]} ; do yaml=&quot;$yaml\n  - $var&quot; ; done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">  yaml=&quot;$yaml\nerrors:&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="115">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">  for var in ${errors[*]} ; do yaml=&quot;$yaml\n  - $var&quot; ; done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">  yaml=&quot;$yaml\nrubies:&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="118">
          
          
          <code class="ruby">  total=${#rubies[*]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="120">
          
          
          <code class="ruby">  [[ -z &quot;${ZSH_VERSION:-}&quot; ]] ; array_start=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">  for (( index = $array_start ; index &lt; $total + $array_start ; index++ )) ; do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="123">
          
          
          <code class="ruby">    if [[ ${rvm_debug_flag:-0} -gt 0 ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">      rvm_debug &quot;${rubies[$index]}: ${statuses[$index]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="125">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="126">
          
          
          <code class="ruby">    yaml=&quot;$yaml\n  \&quot;${rubies[$index]}\&quot;: ${statuses[$index]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">  unset index array_start</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">  \mkdir -p log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="132">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;$yaml&quot; | tee -a log/summary.yaml</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">  return ${#errors[*]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="136">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby"># Output the summary in a json format.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="138">
          
          
          <code class="ruby">__rvm_json()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="139">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="140">
          
          
          <code class="ruby">  typeset index array_start</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">  json=&quot;{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="143">
          
          
          <code class="ruby">\&quot;totals\&quot;: { \&quot;rubies\&quot;: ${#rubies[*]}, \&quot;successes\&quot;: ${#successes[*]}, \&quot;errors\&quot;: ${#errors[*]} },</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">\&quot;successful\&quot;: [$(echo \&quot;${successes[*]}\&quot; | sed 's# #&quot;, &quot;#g' | sed 's#\&quot;\&quot;##')],</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">\&quot;errors\&quot;: [$(echo \&quot;${errors[*]}\&quot; | sed 's# #&quot;, &quot;#g' | sed 's#\&quot;\&quot;##')],</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="146">
          
          
          <code class="ruby">\&quot;rubies\&quot;: { &quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">  total=${#rubies[*]}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="149">
          
          
          <code class="ruby">  [[ -z &quot;${ZSH_VERSION:-}&quot; ]] ; array_start=$?</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="150">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">  for (( index = $array_start ; index &lt; $total + $array_start ; index++ )) ; do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">    if [[ ${rvm_debug_flag:-0} -gt 0 ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="153">
          
          
          <code class="ruby">      rvm_debug &quot;${rubies[$index]}: ${statuses[$index]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="154">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">    json=&quot;$json\n    {\&quot;${rubies[$index]}\&quot;: ${statuses[$index]}}&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="156">
          
          
          <code class="ruby">    if (( $index + 1 &lt; $total + $array_start )) ; then json=&quot;$json,  &quot; ; fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="158">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">  json=&quot;$json\n  }\n}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">  if [[ ! -d log ]] ; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="162">
          
          
          <code class="ruby">    mkdir -p log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="164">
          
          
          <code class="ruby">  printf &quot;%b&quot; &quot;$json&quot; | tee -a log/summary.json</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">  return ${#errors[*]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="168">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="169">
          
          
          <code class="ruby"># Loop over a set or all rvm installed rubies to perfo\rm some action.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby"># Record the results and report based on CLI selections.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="104" data-linenumber="172">
          <span class="hits">104</span>
          
          <code class="ruby">rubies=() ; successes=() ; errors=() ; statuses=()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="174">
          <span class="hits">26</span>
          
          <code class="ruby">args=( &quot;$@&quot; )</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="175">
          <span class="hits">26</span>
          
          <code class="ruby">action=&quot;${args[$__array_start]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="176">
          <span class="hits">26</span>
          
          <code class="ruby">unset args[$__array_start]</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="177">
          <span class="hits">26</span>
          
          <code class="ruby">args=( &quot;${args[@]}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="179">
          <span class="hits">26</span>
          
          <code class="ruby">if [[ -z &quot;$action&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="181">
          
          
          <code class="ruby">  rvm_error &quot;Action must be specified.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="182">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="183">
          <span class="hits">26</span>
          
          <code class="ruby">elif [[ &quot;$action&quot; != &quot;do&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">  rvm_error &quot;Only 'do' action is allowed.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="186">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="187">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby"># deprecated 2011.10.22 for RVM 1.9.0, removed 2012.09.13 for RVM 1.16.0</code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="190">
          <span class="hits">26</span>
          
          <code class="ruby">if [[ -z &quot;${rvm_ruby_strings}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="192">
          
          
          <code class="ruby">  rvm_error &quot;\`rvm do ${args[@]}\` was removed, use \`rvm 1.9.2,1.9.3 do ${args[@]}\` or \`rvm all do ${args[@]}\` instead.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="26" data-linenumber="196">
          <span class="hits">26</span>
          
          <code class="ruby">previous_rvm_ruby_strings=&quot;$rvm_ruby_strings&quot;</code>
        </li>
      
        <li class="covered" data-hits="52" data-linenumber="197">
          <span class="hits">52</span>
          
          <code class="ruby">rvm_ruby_strings=( $( __rvm_expand_ruby_string &quot;$rvm_ruby_strings&quot; ) ) || {</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="198">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_ruby_string=&quot;${previous_rvm_ruby_strings## }&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="199">
          <span class="hits">3</span>
          
          <code class="ruby">  __rvm_ruby_string</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="200">
          <span class="hits">3</span>
          
          <code class="ruby">  rvm_error &quot;Ruby ${rvm_ruby_string} is not installed.&quot;</code>
        </li>
      
        <li class="covered" data-hits="3" data-linenumber="201">
          <span class="hits">3</span>
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="203">
          <span class="hits">23</span>
          
          <code class="ruby">unset previous_rvm_ruby_strings</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="23" data-linenumber="205">
          <span class="hits">23</span>
          
          <code class="ruby">__rvm_attempt_single_exec</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="207">
          <span class="hits">2</span>
          
          <code class="ruby">for current_set_ruby in ${rvm_ruby_strings[@]}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">do</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="209">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_ruby_do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="211">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="212">
          <span class="hits">1</span>
          
          <code class="ruby">if [[ -n &quot;$rvm_summary_flag&quot; ]] ; then __rvm_summary ; fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="213">
          <span class="hits">1</span>
          
          <code class="ruby">if [[ -n &quot;$rvm_yaml_flag&quot; ]]    ; then __rvm_yaml    ; fi</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="214">
          <span class="hits">1</span>
          
          <code class="ruby">if [[ -n &quot;$rvm_json_flag&quot; ]]    ; then __rvm_json    ; fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="215">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="216">
          <span class="hits">2</span>
          
          <code class="ruby">rvm_hook=&quot;after_do&quot; ; source &quot;$rvm_scripts_path/hook&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="218">
          <span class="hits">1</span>
          
          <code class="ruby">exit ${#errors[*]}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="68c440032b6268684d3e1b0f0d098f193afcf88b">
  <div class="header">
    <h3>/usr/local/rvm/scripts/tools</h3>
    <h4><span class="red">10.83 %</span> covered</h4>
    <div>
      <b>120</b> relevant lines. 
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>107</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="3">
          <span class="hits">5</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby">usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="6">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="7">
          
          
          <code class="ruby">  echo &quot;Usage: rvm tools {identifier,path-identifier,strings,user}&quot; 1&gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="8">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="9">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby"># Return the identifier that's current in use.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">tools_identifier()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="13">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">  __rvm_env_string</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="16">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby">tools_path_identifier()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="18">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="19">
          
          
          <code class="ruby">  if [[ -z &quot;$1&quot; || ! -d &quot;$1&quot; ]]; then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    echo &quot;Usage: rvm tools path-identifier 'path-to-check'&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="21">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="22">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">  __rvm_cd &quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="25">
          
          
          <code class="ruby">  __rvm_do_with_env_before</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  rvm_promptless=1 __rvm_project_rvmrc &gt;/dev/null 2&gt;&amp;1</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="27">
          
          
          <code class="ruby">  rvmrc_result=&quot;$?&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="28">
          
          
          <code class="ruby">  __rvm_env_string</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">  __rvm_do_with_env_after</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="30">
          
          
          <code class="ruby">  exit $rvmrc_result</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="32">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="33">
          
          
          <code class="ruby">tools_strings()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="35">
          <span class="hits">5</span>
          
          <code class="ruby">  for ruby_name in &quot;$@&quot;; do</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="36">
          <span class="hits">5</span>
          
          <code class="ruby">    __rvm_unset_ruby_variables</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="37">
          <span class="hits">5</span>
          
          <code class="ruby">    rvm_ruby_string=&quot;$ruby_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="38">
          <span class="hits">10</span>
          
          <code class="ruby">    if { __rvm_ruby_string &amp;&amp; __rvm_select; } &gt;/dev/null 2&gt;&amp;1; then</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="39">
          <span class="hits">5</span>
          
          <code class="ruby">      basename &quot;$rvm_ruby_gem_home&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="40">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">      echo &quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="42">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="44">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby">tools_user_usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="48">
          
          
          <code class="ruby">  typeset msg</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="49">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="50">
          
          
          <code class="ruby">  for msg in &quot;$@&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="51">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">    rvm_error &quot;$msg&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="54">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="55">
          
          
          <code class="ruby">  rvm_error &quot;Usage: rvm user [gemsets] [rubies] [hooks] [pkgs] [wrappers] [all] [--skel]&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="56">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="57">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby">tools_user_setup_path()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="59">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="60">
          
          
          <code class="ruby">  tools_user_setup &quot;$1&quot; &quot;rvm_$2_path&quot; &quot;\${HOME}/.rvm/$2&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="61">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="62">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">tools_user_setup()</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">( # subprocess cause we change the HOME</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">  typeset _target _var_name _user_value</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="66">
          
          
          <code class="ruby">  _target=&quot;$1&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">  _var_name=&quot;$2&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="68">
          
          
          <code class="ruby">  _user_value=&quot;$3&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby">  # detect _var_name in config</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="71">
          
          
          <code class="ruby">  if [[ -f &quot;${_target}/.rvmrc&quot; ]] &amp;&amp; GREP_OPTIONS=&quot;&quot; \grep &quot;^export ${_var_name}=&quot; &quot;${_target}/.rvmrc&quot; &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">    # if defined read path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="74">
          
          
          <code class="ruby">    _user_value=&quot;$( GREP_OPTIONS=&quot;&quot; \grep &quot;^export ${_var_name}=&quot; &quot;${_target}/.rvmrc&quot; | sed &quot;s/^export ${_var_name}=//&quot; )&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">    # if not defined - define it</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="77">
          
          
          <code class="ruby">    echo &quot;export ${_var_name}=\&quot;${_user_value}\&quot;&quot; &gt;&gt; &quot;${_target}/.rvmrc&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="79">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="80">
          
          
          <code class="ruby">  # set home to _target, so --skel works fine</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="81">
          
          
          <code class="ruby">  HOME=&quot;${_target}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="82">
          
          
          <code class="ruby">  # resolve the stored path</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="83">
          
          
          <code class="ruby">  eval &quot;_user_value=\&quot;${_user_value}\&quot;&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby">  # ensure the defined path exists</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="86">
          
          
          <code class="ruby">  [[ -d &quot;${_user_value}&quot; ]] || mkdir -p &quot;${_user_value}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  # create empty db files for rvm_user_value</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="89">
          
          
          <code class="ruby">  if [[ &quot;$_var_name&quot; == &quot;rvm_user_path&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="90">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="91">
          
          
          <code class="ruby">    typeset _file</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="92">
          
          
          <code class="ruby">    for _file in db md5 rvmrcs sha512</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="93">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="94">
          
          
          <code class="ruby">      [[ -f &quot;${_user_value}/${_file}&quot; ]] || touch &quot;${_user_value}/${_file}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="95">
          
          
          <code class="ruby">    done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="96">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="97">
          
          
          <code class="ruby">)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby">tools_user()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="101">
          
          
          <code class="ruby">  typeset item dir target</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="102">
          
          
          <code class="ruby">  typeset -a selection</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="103">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="104">
          
          
          <code class="ruby">  for item in $@</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="106">
          
          
          <code class="ruby">    case &quot;$item&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="107">
          
          
          <code class="ruby">      all)     selection+=( gemsets rubies hooks pkgs wrappers userdb log ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="108">
          
          
          <code class="ruby">      rubies)  selection+=( rubies  ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="109">
          
          
          <code class="ruby">      gemsets) selection+=( gemsets userdb log ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="110">
          
          
          <code class="ruby">      hooks)   selection+=( hooks   ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="111">
          
          
          <code class="ruby">      pkgs)    selection+=( pkgs    ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="112">
          
          
          <code class="ruby">      userdb)  selection+=( userdb  ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="113">
          
          
          <code class="ruby">      log)     selection+=( log  ) ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="114">
          
          
          <code class="ruby">      --skel)  rvm_skel_flag=1        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="115">
          
          
          <code class="ruby">      *)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="116">
          
          
          <code class="ruby">        tools_user_usage &quot;Unrecognized option '$item'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="117">
          
          
          <code class="ruby">        exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="119">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="120">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="121">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="122">
          
          
          <code class="ruby">  if (( ${#selection[@]} == 0 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="124">
          
          
          <code class="ruby">    tools_user_usage</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="125">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="126">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="128">
          
          
          <code class="ruby">  if [[ ${rvm_skel_flag:-0} == 1 ]] &amp;&amp; (( UID ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="129">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="130">
          
          
          <code class="ruby">    tools_user_usage &quot;The --skel flag should be run as root: rvmsudo rvm user $@.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="131">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="133">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="134">
          
          
          <code class="ruby">  [[ ${rvm_skel_flag:-0} == 1 ]] &amp;&amp; target=/etc/skel || target=&quot;${HOME}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="135">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="136">
          
          
          <code class="ruby">  if [[ ! -w &quot;${target}&quot; ]] || [[ -d &quot;${target}/.rvm&quot; &amp;&amp; ! -w &quot;${target}/.rvm&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">    tools_user_usage &quot;Directory '${target}' or '${target}/.rvm' is not writable for current user.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="142">
          
          
          <code class="ruby">  if [[ -f &quot;${target}/.rvmrc&quot; &amp;&amp; ! -w &quot;${target}/.rvmrc&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="144">
          
          
          <code class="ruby">    tools_user_usage &quot;Configuration file '${target}/.rvmrc' is not writable for current user.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="145">
          
          
          <code class="ruby">    exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="148">
          
          
          <code class="ruby">  for item in &quot;${selection[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="149">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="150">
          
          
          <code class="ruby">    case &quot;$item&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="151">
          
          
          <code class="ruby">      rubies)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="152">
          
          
          <code class="ruby">        for dir in archives bin environments gems gems_cache log repos rubies rubygems src tmp wrappers user</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="153">
          
          
          <code class="ruby">        do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="154">
          
          
          <code class="ruby">          tools_user_setup_path &quot;${target}&quot; $dir</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="155">
          
          
          <code class="ruby">        done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="156">
          
          
          <code class="ruby">        tools_user_setup &quot;${target}&quot; rvm_create_flag 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="157">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="158">
          
          
          <code class="ruby">      gemsets)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="159">
          
          
          <code class="ruby">        for dir in environments gems gems_cache wrappers</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">        do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="161">
          
          
          <code class="ruby">          tools_user_setup_path &quot;${target}&quot; $dir</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="162">
          
          
          <code class="ruby">        done</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="163">
          
          
          <code class="ruby">        tools_user_setup &quot;${target}&quot; rvm_create_flag 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="165">
          
          
          <code class="ruby">      hooks)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="166">
          
          
          <code class="ruby">        tools_user_setup_path &quot;${target}&quot; hooks</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="168">
          
          
          <code class="ruby">      pkgs)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="169">
          
          
          <code class="ruby">        tools_user_setup_path &quot;${target}&quot; usr</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="170">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="171">
          
          
          <code class="ruby">      userdb)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="172">
          
          
          <code class="ruby">        tools_user_setup_path &quot;${target}&quot; user</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="173">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="174">
          
          
          <code class="ruby">      log)</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="175">
          
          
          <code class="ruby">        tools_user_setup_path &quot;${target}&quot; log</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">        ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="177">
          
          
          <code class="ruby">    esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="179">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="180">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">tools_mirror()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="183">
          
          
          <code class="ruby">  typeset n file warn</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="184">
          
          
          <code class="ruby">  warn=0</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="185">
          
          
          <code class="ruby">  file=&quot;$rvm_user_path/db&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="186">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="187">
          
          
          <code class="ruby">  for n in 1.0 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="189">
          
          
          <code class="ruby">    if GREP_OPTIONS=&quot;&quot; \grep &quot;^ruby_${n}_url=&quot; &quot;$file&quot; &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="190">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="191">
          
          
          <code class="ruby">      if (( ${rvm_force_flag:-0} == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="193">
          
          
          <code class="ruby">        __rvm_sed_i &quot;${file}&quot; -e &quot;s/^ruby_${n}_url=.*$/ruby_${n}_url=http:\/\/www.mirrorservice.org\/sites\/ftp.ruby-lang.org\/pub\/ruby\/${n}/&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="194">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="195">
          
          
          <code class="ruby">        warn=1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="196">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="197">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="198">
          
          
          <code class="ruby">      printf &quot;ruby_${n}_url=http://www.mirrorservice.org/sites/ftp.ruby-lang.org/pub/ruby/${n}</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="199">
          
          
          <code class="ruby">&quot; &gt;&gt; &quot;$file&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="200">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="202">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="203">
          
          
          <code class="ruby">  if (( warn == 1 ))</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="205">
          
          
          <code class="ruby">    rvm_warn &quot;Some settings already exist, use 'rvm --force tools mirror' to overwrite.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="206">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="209">
          
          
          <code class="ruby">tools_rvm_env()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="211">
          
          
          <code class="ruby">  typeset script</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="212">
          
          
          <code class="ruby">  rvm_log &quot;# use shebang: #!/usr/bin/$1-rvm-env 1.9.3&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="213">
          
          
          <code class="ruby">  for script in $@</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="215">
          
          
          <code class="ruby">    if builtin command -v ${script} &gt;/dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="216">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="217">
          
          
          <code class="ruby">      sudo ln -nfs $rvm_bin_path/rvm-shell /usr/bin/${script}-rvm-env &amp;&amp;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">        rvm_log &quot;Created link '/usr/bin/${script}-rvm-env'.&quot; ||</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="219">
          
          
          <code class="ruby">        rvm_error &quot;Cannot create link '/usr/bin/${script}-rvm-env'.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">    else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="221">
          
          
          <code class="ruby">      rvm_error &quot;There is no command/script '${script}' in system.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="222">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="223">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="224">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="226">
          <span class="hits">5</span>
          
          <code class="ruby">args=($*)</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="227">
          <span class="hits">5</span>
          
          <code class="ruby">action=&quot;${args[0]}&quot;</code>
        </li>
      
        <li class="covered" data-hits="10" data-linenumber="228">
          <span class="hits">10</span>
          
          <code class="ruby">args=&quot;$(echo ${args[@]:1})&quot; # Strip trailing / leading / extra spacing.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="229">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="230">
          <span class="hits">5</span>
          
          <code class="ruby">[[ -z &quot;$action&quot; ]] &amp;&amp; usage</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="231">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="232">
          <span class="hits">5</span>
          
          <code class="ruby">case &quot;$action&quot; in</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="233">
          
          
          <code class="ruby">  identifier)      tools_identifier ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="234">
          
          
          <code class="ruby">  path-identifier) tools_path_identifier &quot;$args&quot; ;;</code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="235">
          <span class="hits">5</span>
          
          <code class="ruby">  strings)         tools_strings &quot;$args&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="236">
          
          
          <code class="ruby">  mirror)          tools_mirror ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="237">
          
          
          <code class="ruby">  user)            __rvm_call_with_restored_umask tools_user &quot;$args&quot; ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="238">
          
          
          <code class="ruby">  rvm-env)         tools_rvm_env $args ;;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="239">
          
          
          <code class="ruby">  *)               usage ;;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="240">
          
          
          <code class="ruby">esac</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="5" data-linenumber="242">
          <span class="hits">5</span>
          
          <code class="ruby">exit $?</code>
        </li>
      
    </ol>
  </pre>
</div>
      
        <div class="source_table" id="ed9ce2db881129166dfcd48d20c115aa2f51a049">
  <div class="header">
    <h3>/usr/local/rvm/scripts/wrapper</h3>
    <h4><span class="red">66.67 %</span> covered</h4>
    <div>
      <b>129</b> relevant lines. 
      <span class="green"><b>86</b> lines covered</span> and
      <span class="red"><b>43</b> lines missed.</span>
    </div>
  </div>
  
  <pre>
    <ol>
      
        <li class="never" data-hits="" data-linenumber="1">
          
          
          <code class="ruby">#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="2">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="3">
          <span class="hits">46</span>
          
          <code class="ruby">default_flag=&quot;$rvm_default_flag&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="4">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="5">
          
          
          <code class="ruby"># Prevent recursion</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="6">
          <span class="hits">46</span>
          
          <code class="ruby">unset rvm_default_flag rvm_wrapper_name prefix</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="7">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="8">
          <span class="hits">46</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/base&quot;</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="9">
          <span class="hits">46</span>
          
          <code class="ruby">source &quot;$rvm_scripts_path/initialize&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="10">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="11">
          
          
          <code class="ruby">usage()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="12">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="13">
          <span class="hits">1</span>
          
          <code class="ruby">  printf &quot;%b&quot; &quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="14">
          
          
          <code class="ruby">  Usage:</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="15">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="16">
          
          
          <code class="ruby">    rvm wrapper ruby_string [wrapper_prefix] [binary[ binary[ ...]]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="17">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="18">
          
          
          <code class="ruby">  Binaries</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="19">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="20">
          
          
          <code class="ruby">    ruby, gem, rake, irb, rdoc, ri, testrb</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="21">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="22">
          
          
          <code class="ruby">  Notes</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="23">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="24">
          
          
          <code class="ruby">    For more information, see 'rvm help wrapper'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="25">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="26">
          
          
          <code class="ruby">  Example</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="27">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="28">
          
          
          <code class="ruby">    # Wrap the spec binary as 'rails3_spec' for 1.9.2@rails3</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="29">
          
          
          <code class="ruby">    rvm wrapper 1.9.2@rails3 rails3 spec</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="30">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="31">
          
          
          <code class="ruby">    # To create a single binary you can do the following,</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="32">
          
          
          <code class="ruby">    user$ rvm use --create 1.8.7@ey ; gem install ey</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="33">
          
          
          <code class="ruby">    user$ rvm wrapper 1.8.7@ey --no-prefix ey</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="34">
          
          
          <code class="ruby">    # So that it is clear I am now in a different env,</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="35">
          
          
          <code class="ruby">    user$ rvm 1.9.2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="36">
          
          
          <code class="ruby">    user$ ruby -v</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="37">
          
          
          <code class="ruby">    ruby 1.9.2p180 (2011-02-18 revision 30909) [x86_64-darwin10.7.0]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="38">
          
          
          <code class="ruby">    # And we have the desired result,</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="39">
          
          
          <code class="ruby">    user$ ey</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="40">
          
          
          <code class="ruby">    Usage:</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="41">
          
          
          <code class="ruby">      ey [--help] [--version] COMMAND [ARGS]</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="42">
          
          
          <code class="ruby">      ...</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="43">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="44">
          
          
          <code class="ruby">&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="45">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="46">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="47">
          
          
          <code class="ruby">wrap()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="48">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="49">
          <span class="hits">221</span>
          
          <code class="ruby">  [[ -n &quot;${file_name:-&quot;&quot;}&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="50">
          
          
          <code class="ruby">  {</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="51">
          
          
          <code class="ruby">    rvm_error &quot;wrap() : file_name unkown variable for wrap().&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="52">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="53">
          
          
          <code class="ruby">  }</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="54">
          <span class="hits">221</span>
          
          <code class="ruby">  mkdir -p &quot;${file_name%/*}&quot;</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="55">
          <span class="hits">221</span>
          
          <code class="ruby">  \rm -f &quot;$file_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="56">
          <span class="hits">221</span>
          
          <code class="ruby">  printf &quot;%b&quot; \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="57">
          
          
          <code class="ruby">&quot;#!/usr/bin/env bash</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="58">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="59">
          
          
          <code class="ruby">if [[ -s \&quot;$rvm_environments_path/${environment_identifier}\&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="60">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="61">
          
          
          <code class="ruby">  source \&quot;$rvm_environments_path/${environment_identifier}\&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="62">
          
          
          <code class="ruby">  exec $binary_name \&quot;\$@\&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="63">
          
          
          <code class="ruby">else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="64">
          
          
          <code class="ruby">  echo \&quot;ERROR: Missing RVM environment file: '$rvm_environments_path/${environment_identifier}'\&quot; &gt;&amp;2</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="65">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="66">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="67">
          
          
          <code class="ruby">&quot; &gt; &quot;$file_name&quot;</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="68">
          <span class="hits">221</span>
          
          <code class="ruby">  chmod +x &quot;$file_name&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="69">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="70">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="71">
          
          
          <code class="ruby">symlink_binary()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="72">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="73">
          
          
          <code class="ruby">  # Generate the default wrapper with the given binary name.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="74">
          
          
          <code class="ruby">  # We first check if we can wrap the binary and if we were able to,</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="75">
          
          
          <code class="ruby">  # we then symlink it into place.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="76">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="22" data-linenumber="77">
          <span class="hits">22</span>
          
          <code class="ruby">    wrap_binary &amp;&amp; [[ -f &quot;$file_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="78">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="79">
          <span class="hits">11</span>
          
          <code class="ruby">    file_link=&quot;$rvm_bin_path/${prefix}_${binary_name##*\/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="80">
          <span class="hits">11</span>
          
          <code class="ruby">    file_link=${file_link// /_}</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="81">
          <span class="hits">11</span>
          
          <code class="ruby">    \rm -f &quot;$rvm_bin_path/${prefix}_${binary_name##*\/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="82">
          <span class="hits">11</span>
          
          <code class="ruby">    ln -fs &quot;$file_name&quot; &quot;$file_link&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="83">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="84">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="85">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="86">
          
          
          <code class="ruby">wrap_binary()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="87">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="88">
          
          
          <code class="ruby">  # We wrap when the given binary is in the path or override_check is set to one.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="89">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="90">
          <span class="hits">221</span>
          
          <code class="ruby">    [[ &quot;$override_check&quot; == &quot;1&quot; ]] ||</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="91">
          <span class="hits">11</span>
          
          <code class="ruby">    builtin command -v $binary_name &gt; /dev/null</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="92">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="93">
          <span class="hits">221</span>
          
          <code class="ruby">    wrap</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="94">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="95">
          
          
          <code class="ruby">    rvm_error &quot;Binary '$binary_name' not found.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="96">
          
          
          <code class="ruby">    return 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="97">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="98">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="99">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="100">
          
          
          <code class="ruby"># Empty ruby string: show usage and exit.</code>
        </li>
      
        <li class="covered" data-hits="92" data-linenumber="101">
          <span class="hits">92</span>
          
          <code class="ruby">(( $# )) &amp;&amp; [[ -n &quot;$1&quot; ]] ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="102">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="103">
          <span class="hits">1</span>
          
          <code class="ruby">  usage</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="104">
          <span class="hits">1</span>
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="105">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="106">
          <span class="hits">45</span>
          
          <code class="ruby">ruby_string=&quot;$1&quot;</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="107">
          <span class="hits">45</span>
          
          <code class="ruby">shift</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="108">
          <span class="hits">45</span>
          
          <code class="ruby">prefix=&quot;${1:-}&quot;</code>
        </li>
      
        <li class="covered" data-hits="71" data-linenumber="109">
          <span class="hits">71</span>
          
          <code class="ruby">(( $# == 0 )) || shift</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="110">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="111">
          <span class="hits">45</span>
          
          <code class="ruby">if (( $# ))</code>
        </li>
      
        <li class="covered" data-hits="12" data-linenumber="112">
          <span class="hits">12</span>
          
          <code class="ruby">then binaries=(&quot;$@&quot;)</code>
        </li>
      
        <li class="covered" data-hits="33" data-linenumber="113">
          <span class="hits">33</span>
          
          <code class="ruby">else binaries=(ruby gem irb ri rdoc rake erb testrb)</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="114">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="115">
          <span class="hits">45</span>
          
          <code class="ruby">override_check=0</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="116">
          <span class="hits">45</span>
          
          <code class="ruby">(( ${rvm_default_flag:-0} == 0 )) || prefix=&quot;default&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="117">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="118">
          
          
          <code class="ruby"># Use the correct ruby.</code>
        </li>
      
        <li class="covered" data-hits="45" data-linenumber="119">
          <span class="hits">45</span>
          
          <code class="ruby">__rvm_become &quot;$ruby_string&quot; || {</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="120">
          <span class="hits">14</span>
          
          <code class="ruby">  rvm_error &quot;Could not load ruby $ruby_string.&quot;</code>
        </li>
      
        <li class="covered" data-hits="14" data-linenumber="121">
          <span class="hits">14</span>
          
          <code class="ruby">  exit 3</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="122">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="123">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="124">
          
          
          <code class="ruby"># strip trailing / so we can use ${...%/*} to get parent</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="125">
          <span class="hits">31</span>
          
          <code class="ruby">rvm_bin_path=&quot;${rvm_bin_path%/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="126">
          <span class="hits">31</span>
          
          <code class="ruby">rvm_wrappers_path=&quot;${rvm_wrappers_path%/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="127">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="128">
          <span class="hits">62</span>
          
          <code class="ruby">  [[   -d &quot;$rvm_bin_path&quot; &amp;&amp; ! -w &quot;$rvm_bin_path&quot;      ]] ||</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="129">
          <span class="hits">31</span>
          
          <code class="ruby">  [[ ! -d &quot;$rvm_bin_path&quot; &amp;&amp; ! -w &quot;${rvm_bin_path%/*}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="130">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="131">
          
          
          <code class="ruby">  # can not write currently set location, try to switch relatively to wrappers path</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="132">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="133">
          
          
          <code class="ruby">    [[ -w &quot;${rvm_wrappers_path%/*}&quot; || -w &quot;${rvm_wrappers_path%/*}/bin&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="134">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="135">
          
          
          <code class="ruby">    rvm_bin_path=&quot;${rvm_wrappers_path%/*}/bin&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="136">
          
          
          <code class="ruby">    rvm_warn &quot;Wrappers will be saved to '$rvm_bin_path', make sure it's accessible in your PATH before using them.&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="137">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="138">
          
          
          <code class="ruby">    rvm_error &quot;No bin path suitable for lining wrapper. Try setting 'rvm_bin_path'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="139">
          
          
          <code class="ruby">    exit 4</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="140">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="141">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="142">
          <span class="hits">31</span>
          
          <code class="ruby">[[ -d &quot;$rvm_bin_path&quot; ]] || mkdir -p &quot;$rvm_bin_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="143">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="144">
          <span class="hits">31</span>
          
          <code class="ruby">__rvm_ensure_has_environment_files</code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="145">
          <span class="hits">62</span>
          
          <code class="ruby">environment_identifier=&quot;$(__rvm_env_string)&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="146">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="147">
          
          
          <code class="ruby">find_all_wrappers()</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="148">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="149">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset -a search_paths</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="150">
          <span class="hits">2</span>
          
          <code class="ruby">  typeset _path</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="151">
          <span class="hits">2</span>
          
          <code class="ruby">  search_paths=()</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="152">
          <span class="hits">6</span>
          
          <code class="ruby">  for _path in \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="153">
          
          
          <code class="ruby">    &quot;$rvm_gems_path/${environment_identifier}&quot;/bin/ \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="154">
          
          
          <code class="ruby">    &quot;$rvm_gems_path/${environment_identifier%%@*}@global&quot;/bin/ \</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="155">
          
          
          <code class="ruby">    &quot;$rvm_rubies_path/${environment_identifier%%@*}&quot;/bin/</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="156">
          
          
          <code class="ruby">  do</code>
        </li>
      
        <li class="covered" data-hits="6" data-linenumber="157">
          <span class="hits">6</span>
          
          <code class="ruby">    if [[ -d &quot;${_path}&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="158">
          <span class="hits">2</span>
          
          <code class="ruby">    then search_paths+=( &quot;${_path}&quot; )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="159">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="160">
          
          
          <code class="ruby">  done</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="161">
          <span class="hits">2</span>
          
          <code class="ruby">  (( ${#search_paths[@]} )) || return 0</code>
        </li>
      
        <li class="covered" data-hits="4" data-linenumber="162">
          <span class="hits">4</span>
          
          <code class="ruby">  find &quot;${search_paths[@]}&quot; -type f -perm -u=x | awk -F/ '{print $NF}'</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="163">
          
          
          <code class="ruby">}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="164">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="165">
          
          
          <code class="ruby">if</code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="166">
          <span class="hits">31</span>
          
          <code class="ruby">  [[ &quot; ${binaries[*]} &quot; =~ &quot; --all &quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="167">
          
          
          <code class="ruby">then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="168">
          <span class="hits">2</span>
          
          <code class="ruby">  old_binaries=( &quot;${binaries[@]}&quot; )</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="169">
          <span class="hits">2</span>
          
          <code class="ruby">  __rvm_read_lines binaries &lt;(</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="170">
          <span class="hits">2</span>
          
          <code class="ruby">    for binary_name in &quot;${old_binaries[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="171">
          
          
          <code class="ruby">    do</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="172">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="173">
          <span class="hits">2</span>
          
          <code class="ruby">        [[ &quot;$binary_name&quot; == &quot;--all&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="174">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="175">
          <span class="hits">2</span>
          
          <code class="ruby">        find_all_wrappers &quot;${environment_identifier}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="176">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="177">
          
          
          <code class="ruby">        echo &quot;${binary_name}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="178">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="179">
          <span class="hits">2</span>
          
          <code class="ruby">    done | sort -u</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="180">
          
          
          <code class="ruby">  )</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="181">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="182">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="183">
          <span class="hits">31</span>
          
          <code class="ruby">_log=&quot;${rvm_log_path}${rvm_ruby_string:+/}${rvm_ruby_string:-}/wrappers.log&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="184">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="185">
          <span class="hits">31</span>
          
          <code class="ruby">if [[ &quot;--no-links&quot; == &quot;$prefix&quot; ]]</code>
        </li>
      
        <li class="covered" data-hits="2" data-linenumber="186">
          <span class="hits">2</span>
          
          <code class="ruby">then wrappers_target=&quot;$rvm_wrappers_path/${environment_identifier}&quot;</code>
        </li>
      
        <li class="covered" data-hits="29" data-linenumber="187">
          <span class="hits">29</span>
          
          <code class="ruby">else wrappers_target=&quot;$rvm_bin_path&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="188">
          
          
          <code class="ruby">fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="189">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="covered" data-hits="31" data-linenumber="190">
          <span class="hits">31</span>
          
          <code class="ruby">echo &quot;prefix: '$prefix'.&quot; &gt; &quot;$_log&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="191">
          
          
          <code class="ruby"></code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="192">
          
          
          <code class="ruby"># For each binary, we want to generate the wrapper / symlink</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="193">
          
          
          <code class="ruby"># it to the existing wrapper if needed.</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="194">
          <span class="hits">221</span>
          
          <code class="ruby">for binary_name in &quot;${binaries[@]}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="195">
          
          
          <code class="ruby">do</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="196">
          <span class="hits">221</span>
          
          <code class="ruby">  echo &quot;wrapper: '$binary_name'.&quot;</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="197">
          <span class="hits">221</span>
          
          <code class="ruby">  file_name=&quot;$rvm_wrappers_path/${environment_identifier}/${binary_name##*\/}&quot;</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="198">
          <span class="hits">221</span>
          
          <code class="ruby">  file_name=${file_name// /_}</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="199">
          
          
          <code class="ruby">  if</code>
        </li>
      
        <li class="covered" data-hits="221" data-linenumber="200">
          <span class="hits">221</span>
          
          <code class="ruby">    [[ -z &quot;${prefix:-}&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="201">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="202">
          <span class="hits">160</span>
          
          <code class="ruby">    override_check=1</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="203">
          <span class="hits">160</span>
          
          <code class="ruby">    wrap_binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="204">
          
          
          <code class="ruby">    # Symlink it into place.</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="205">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="206">
          <span class="hits">160</span>
          
          <code class="ruby">      [[ -f &quot;$file_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="207">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="208">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="209">
          <span class="hits">160</span>
          
          <code class="ruby">        [[ &quot;$binary_name&quot; == &quot;ruby&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="210">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="20" data-linenumber="211">
          <span class="hits">20</span>
          
          <code class="ruby">        destination=&quot;$rvm_bin_path/$environment_identifier&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="212">
          
          
          <code class="ruby">      else</code>
        </li>
      
        <li class="covered" data-hits="140" data-linenumber="213">
          <span class="hits">140</span>
          
          <code class="ruby">        destination=&quot;$rvm_bin_path/${binary_name##*\/}-${environment_identifier}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="214">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="215">
          <span class="hits">160</span>
          
          <code class="ruby">      \rm -f &quot;$destination&quot;</code>
        </li>
      
        <li class="covered" data-hits="160" data-linenumber="216">
          <span class="hits">160</span>
          
          <code class="ruby">      ln -sf &quot;$file_name&quot; &quot;$destination&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="217">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="218">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="61" data-linenumber="219">
          <span class="hits">61</span>
          
          <code class="ruby">    [[ &quot;--no-links&quot; == &quot;$prefix&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="220">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="221">
          <span class="hits">15</span>
          
          <code class="ruby">    override_check=1</code>
        </li>
      
        <li class="covered" data-hits="15" data-linenumber="222">
          <span class="hits">15</span>
          
          <code class="ruby">    wrap_binary</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="223">
          
          
          <code class="ruby">  elif</code>
        </li>
      
        <li class="covered" data-hits="46" data-linenumber="224">
          <span class="hits">46</span>
          
          <code class="ruby">    [[ &quot;--no-prefix&quot; == &quot;$prefix&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="225">
          
          
          <code class="ruby">  then</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="226">
          <span class="hits">35</span>
          
          <code class="ruby">    override_check=1</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="227">
          <span class="hits">35</span>
          
          <code class="ruby">    wrap_binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="228">
          
          
          <code class="ruby">    if</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="229">
          <span class="hits">35</span>
          
          <code class="ruby">      [[ -f  &quot;$file_name&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="230">
          
          
          <code class="ruby">    then</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="231">
          <span class="hits">35</span>
          
          <code class="ruby">      destination=&quot;$rvm_bin_path/${binary_name##*\/}&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="232">
          
          
          <code class="ruby">      if</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="233">
          <span class="hits">35</span>
          
          <code class="ruby">        [[ -s &quot;$destination&quot; ]]</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="234">
          
          
          <code class="ruby">      then</code>
        </li>
      
        <li class="covered" data-hits="1" data-linenumber="235">
          <span class="hits">1</span>
          
          <code class="ruby">        \rm -f &quot;$destination&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="236">
          
          
          <code class="ruby">      fi</code>
        </li>
      
        <li class="covered" data-hits="35" data-linenumber="237">
          <span class="hits">35</span>
          
          <code class="ruby">      ln -sf &quot;$file_name&quot; &quot;$destination&quot;</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="238">
          
          
          <code class="ruby">    fi</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="239">
          
          
          <code class="ruby">  else</code>
        </li>
      
        <li class="covered" data-hits="11" data-linenumber="240">
          <span class="hits">11</span>
          
          <code class="ruby">    symlink_binary</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="241">
          
          
          <code class="ruby">  fi</code>
        </li>
      
        <li class="covered" data-hits="62" data-linenumber="242">
          <span class="hits">62</span>
          
          <code class="ruby">done | tee -a &quot;$_log&quot; | __rvm_dotted &quot;Saving wrappers to '$wrappers_target'&quot; ||</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="243">
          
          
          <code class="ruby">{</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="244">
          
          
          <code class="ruby">  rvm_error &quot;Failed generating wrappers, check for details in '${_log}'.&quot;</code>
        </li>
      
        <li class="missed" data-hits="0" data-linenumber="245">
          
          
          <code class="ruby">  exit 1</code>
        </li>
      
        <li class="never" data-hits="" data-linenumber="246">
          
          
          <code class="ruby">}</code>
        </li>
      
    </ol>
  </pre>
</div>
      
      </div>
    </div>
  </body>
</html>
